{"version":3,"file":"fruitNinja-BMxjv7Wa.js","sources":["../../../fruit-ninja/src/scripts/utils.js","../../../fruit-ninja/src/scripts/libs/ponyfills.js","../../../fruit-ninja/src/scripts/layout/viewport.js","../../../fruit-ninja/src/scripts/layout/calc-size.js","../../../fruit-ninja/src/scripts/config-defaults.js","../../../fruit-ninja/src/scripts/libs/ucren.js","../../../fruit-ninja/src/scripts/layer.js","../../../fruit-ninja/src/scripts/timeline.js","../../../fruit-ninja/src/scripts/factory/displacement.js","../../../fruit-ninja/src/scripts/factory/preload.js","../../../fruit-ninja/src/scripts/preload.js","../../../fruit-ninja/src/scripts/tools.js","../../../fruit-ninja/src/scripts/message.js","../../../fruit-ninja/src/scripts/state.js","../../../fruit-ninja/src/scripts/object/knifes.js","../../../fruit-ninja/src/scripts/control.js","../../../fruit-ninja/src/scripts/libs/tween/tween.js","../../../fruit-ninja/src/scripts/libs/buzz.js","../../../fruit-ninja/src/scripts/object/vibration.js","../../../fruit-ninja/src/scripts/object/sound-button.js","../../../fruit-ninja/src/scripts/factory/sound.js","../../../fruit-ninja/src/scripts/object/flash.js","../../../fruit-ninja/src/scripts/factory/juice.js","../../../fruit-ninja/src/scripts/factory/fruit.js","../../../fruit-ninja/src/scripts/collide.js","../../../fruit-ninja/src/scripts/object/light.js","../../../fruit-ninja/src/scripts/object/score.js","../../../fruit-ninja/src/scripts/object/background.js","../../../fruit-ninja/src/scripts/object/lose.js","../../../fruit-ninja/src/scripts/object/game-over.js","../../../fruit-ninja/src/scripts/game.js","../../../fruit-ninja/src/scripts/object/home-mask.js","../../../fruit-ninja/src/scripts/object/home-logo.js","../../../fruit-ninja/src/scripts/object/home-text.js","../../../fruit-ninja/src/scripts/object/home-button.js","../../../fruit-ninja/src/scripts/object/result-logo.js","../../../fruit-ninja/src/scripts/object/result-text.js","../../../fruit-ninja/src/scripts/object/result-button-next.js","../../../fruit-ninja/src/scripts/object/result-button-replay.js","../../../fruit-ninja/src/scripts/object/bottom.js","../../../fruit-ninja/src/scripts/object/fps.js","../../../fruit-ninja/src/scripts/object/brand-question.js","../../../fruit-ninja/src/scripts/scene.js","../../../fruit-ninja/src/scripts/object/console.js","../../../fruit-ninja/src/scripts/main.js","../../../fruit-ninja/src/index.js"],"sourcesContent":["/**\n * Возвращает случайное целое число от 0 до num-1.\n *\n * @param {number} num - Число, определяющее верхнюю границу диапазона.\n * @returns {number} Случайное целое число.\n */\nexport const randomNumber = (num) => {\n    return Math.floor(Math.random() * num);\n};\n\nexport const nul = () => false;\n\n/**\n * Выполняет функцию для каждого элемента массива, объекта, числа или строки.\n *\n * @param {(Array|Object|number|string)} unknown - Коллекция элементов для итерации.\n * @param {Function} fn - Функция, выполняемая для каждого элемента.\n */\nexport const each = (unknown, fn) => {\n    if (Array.isArray(unknown)) {\n        unknown = [ ...unknown ];\n        unknown.forEach(fn);\n    } else if (typeof (unknown) == 'object') {\n        const blank = {};\n        for (const i in unknown) {\n            if (blank[i]) continue;\n            if (fn(unknown[i], i) === false) break;\n        }\n    } else if (typeof (unknown) == 'number') {\n        for (let j = 0; j < unknown; j++) {\n            if (fn(j, j) === false) break;\n        }\n    } else if (typeof (unknown) == 'string') {\n        for (let k = 0, l = unknown.length; k < l; k++) {\n            if (fn(unknown.charAt(k), k) === false) break;\n        }\n    }\n};\n\n/**\n * Применяет свойства из одного объекта к другому, за исключением указанных.\n *\n * @param {Object} form - Объект, содержащий свойства для применения.\n * @param {Object} [to={}] - Объект, к которому будут применены свойства.\n * @param {Object} [except] - Объект, содержащий свойства, которые не должны быть применены.\n * @returns {Object} Объект с применёнными свойствами.\n */\nexport const apply = (form, to, except) => {\n    if (!to) to = {};\n    if (except) each(form, (item, key) => {\n        if (key in except) return;\n        to[key] = item;\n    });\n    else each(form, (item, key) => to[key] = item);\n\n    return to;\n};\n\n\n/**\n * Создаёт HTML элемент с заданными атрибутами.\n *\n * @param {string} tagName - Имя тега создаваемого элемента.\n * @param {Object} attributes - Атрибуты, которые будут применены к элементу.\n * @param {string} [attributes.class] - Класс элемента.\n * @param {string} [attributes.for] - Атрибут `for` элемента.\n * @param {(string|Object)} [attributes.style] - Стили элемента.\n * @returns {HTMLElement} Созданный HTML элемент.\n */\nexport const makeElement = (tagName, attributes) => {\n    const el       = document.createElement(tagName);\n    const setStyle = (unknown) => {\n        if (typeof unknown == 'string') el.style.cssText = unknown;\n        else apply(unknown, el.style);\n    };\n\n    for (const prop in attributes) {\n        if (prop === 'class') el.className = attributes[prop];\n        else if (prop === 'for') el.htmlFor = attributes[prop];\n        else if (prop === 'style') setStyle(attributes[prop]);\n        else el.setAttribute(prop, attributes[prop]);\n    }\n\n    return el;\n};\n\n/**\n * Обрабатывает неизвестный тип данных и кэширует его.\n *\n * @param {(string|number|Object|Function)} unknown - Неизвестный тип данных для обработки.\n * @returns {(string|number|Object|Function)} Возвращает кэшированное значение или номер кэша.\n */\nexport const handle = (unknown) => {\n    const fn = handle;\n\n    let type;\n    let number;\n\n    if (!fn.cache) {\n        fn.cache = {};\n    }\n\n    if (typeof fn.number === 'undefined') {\n        fn.number = 0;\n    }\n\n    type = typeof unknown;\n\n    if (type === 'string') {\n        return fn.cache[unknown];\n    } else if (type === 'number') {\n        return fn.cache[unknown.toString()];\n    } else if (type === 'object' || type === 'function') {\n        number                      = fn.number++;\n        fn.cache[number.toString()] = unknown;\n        return number;\n    }\n}\n","import { randomNumber } from '../utils.js';\n\n\nexport function addPonyfills () {\n    String.prototype.trim = String.prototype.trim || function () {\n        return this.replace(/^\\s+|\\s+$/, \"\");\n    };\n\n    String.prototype.htmlEncode = String.prototype.htmlEncode || function () {\n        const div = document.createElement('div');\n        return function () {\n            let text;\n            div.appendChild(document.createTextNode(this));\n            text          = div.innerHTML;\n            div.innerHTML = \"\";\n            return text;\n        };\n    }();\n\n    String.prototype.byteLength = String.prototype.byteLength || function () {\n        return this.replace(/[^\\x00-\\xff]/g, \"  \").length;\n    };\n\n    String.prototype.subByte = String.prototype.subByte || function (len, tail) {\n        let s = this;\n        if (s.byteLength() <= len) return s;\n        tail = tail || \"\";\n        len -= tail.byteLength();\n        return s = s.slice(0, len).replace(/([^\\x00-\\xff])/g, \"$1 \")\n            .slice(0, len)\n            .replace(/[^\\x00-\\xff]$/, \"\")\n            .replace(/([^\\x00-\\xff]) /g, \"$1\") + tail;\n    }\n\n    Function.prototype.defer = Function.prototype.defer || function (scope, timeout) {\n        const me = this;\n        const fn = function () {\n            me.apply(scope, arguments);\n        };\n        return setTimeout(fn, timeout);\n    };\n\n    Function.prototype.bind = Function.prototype.bind || function (scope) {\n        const me = this;\n        return function () {\n            return me.apply(scope, arguments);\n        }\n    };\n\n    Function.prototype.saturate = Function.prototype.saturate || function (scope/*, args */) {\n        const fn = this, afters = [].slice.call(arguments, 1);\n        return function () {\n            return fn.apply(scope, [].slice.call(arguments, 0).concat(afters));\n        }\n    };\n\n    Array.prototype.indexOf = Array.prototype.indexOf || function (item, i) {\n        const length = this.length;\n\n        if (!i) i = 0;\n\n        if (i < 0) i = length + i;\n\n        for (; i < length; i++) {\n            if (this[i] === item) return i;\n        }\n\n        return -1;\n    };\n\n    Array.prototype.every = Array.prototype.every || function (fn, context) {\n        for (var i = 0, len = this.length; i < len; i++) {\n            if (!fn.call(context, this[i], i, this)) return false;\n        }\n        return true;\n    };\n\n    Array.prototype.filter = Array.prototype.filter || function (fn, context) {\n        let result = [], val;\n        for (var i = 0, len = this.length; i < len; i++) {\n            if (val = this[i], fn.call(context, val, i, this)) result.push(val);\n        }\n        return result;\n    };\n\n    Array.prototype.forEach = Array.prototype.forEach || function (fn, context) {\n        for (var i = 0, len = this.length; i < len; i++)\n            fn.call(context, this[i], i, this);\n    };\n\n    Array.prototype.map = Array.prototype.map || function (fn, context) {\n        const result = [];\n        for (var i = 0, len = this.length; i < len; i++)\n            result[i] = fn.call(context, this[i], i, this);\n        return result;\n    };\n\n    Array.prototype.some = Array.prototype.some || function (fn, context) {\n        for (var i = 0, len = this.length; i < len; i++)\n            if (fn.call(context, this[i], i, this))\n                return true;\n        return false;\n    };\n\n    Array.prototype.invoke = Array.prototype.invoke || function (method /*, args */) {\n        const args = [].slice.call(arguments, 1);\n        this.forEach(function (item) {\n            if (item instanceof Array)\n                item[0][method].apply(item[0], item.slice(1));\n            else\n                item[method].apply(item, args);\n        });\n        return this;\n    };\n\n    Array.prototype.random = Array.prototype.random || function () {\n        let arr = this.slice(0), ret = [], i = arr.length;\n        while (i--)\n            ret.push(arr.splice(randomNumber(i + 1), 1)[0]);\n        return ret;\n    };\n}\n\naddPonyfills();\n","export const MAX_VIEWPORT_HEIGHT = 932;\nexport const MAX_VIEWPORT_WIDTH  = 640;\n\nconst adjustView = (container) => {\n    const viewportHeight  = window.innerHeight;\n    const viewportWidth   = window.innerWidth;\n    const isMaxWidth      = MAX_VIEWPORT_WIDTH < viewportWidth;\n    const isMaxHeight     = MAX_VIEWPORT_HEIGHT < viewportHeight;\n    const containerWidth  = isMaxWidth ? (MAX_VIEWPORT_WIDTH + 'px') : '100%';\n    const containerHeight = isMaxHeight ? (MAX_VIEWPORT_HEIGHT + 'px') : '100%';\n    const isAbsolute      = (isMaxWidth || isMaxHeight);\n    const position        = isAbsolute ? 'absolute' : 'static';\n    const transform       = isAbsolute ? 'translate(-50%, -50%)' : 'none';\n\n    container.style.position = position;\n    container.style.width    = containerWidth;\n    container.style.height   = containerHeight;\n    container.transform      = transform;\n\n    return container.getBoundingClientRect();\n};\n\nexport default adjustView(document.querySelector('#extra'));\n","import viewport from './viewport.js';\n\n\nconst HORIZONTAL_BASE = 393;\nconst VERTICAL_BASE = 852;\nconst BASE_RESULT_CHARS_NUMBER = 6;\nconst { width, height } = viewport;\n\n\nexport const calcSize = (size) => {\n    const ratio = width / HORIZONTAL_BASE;\n    return size * ratio;\n};\n\nexport const calcVerticalSize = (size) => {\n    const ratio = height / VERTICAL_BASE;\n    return size * ratio;\n};\n\nexport const calcResultFontSize = (string, base) => {\n    const fontSize = calcSize(base);\n    const stringLength = string.length;\n    const charsNumber = stringLength > BASE_RESULT_CHARS_NUMBER ? stringLength : BASE_RESULT_CHARS_NUMBER;\n    return fontSize * BASE_RESULT_CHARS_NUMBER / charsNumber;\n};\n","import viewport, { MAX_VIEWPORT_HEIGHT, MAX_VIEWPORT_WIDTH } from './layout/viewport.js';\nimport { calcResultFontSize, calcVerticalSize, calcSize } from './layout/calc-size.js';\n\n\nconst { width: viewportWidth, height: viewportHeight } = viewport;\n\nexport const DEBUG_MODE = new URLSearchParams(window.location.search).has('debug');\n\nexport const INTERACTION_MODES = {\n    TOUCH: 'touch',\n    SLICE: 'slice',\n};\n\nexport const INTERACTION_MODE = new URLSearchParams(window.location.search).has('touch')\n    ? INTERACTION_MODES.TOUCH\n    : INTERACTION_MODES.SLICE;\n\nexport const IS_TOUCH = INTERACTION_MODE === INTERACTION_MODES.TOUCH;\n\nexport const FONT_FAMILY  = 'lm';\nexport const MODES        = {\n    SHOW: 'show',\n    HIDE: 'hide',\n};\nexport const STATE_KEYS   = {\n    CLICK_ENABLE: 'click-enable',\n    GAME_STATE  : 'game-state',\n    SCENE_NAME  : 'scene-name',\n    SCENE_STATE : 'scene-state',\n};\nexport const SCENE_STATES = {\n    READY   : 'ready',\n    ENTERING: 'entering',\n    EXITING : 'exiting',\n};\nexport const GAME_STATES  = {\n    PLAYING: 'playing',\n    OVER   : 'over',\n};\n\nexport const SCENES = {\n    HOME_MENU     : 'home-menu',\n    GAME_BODY     : 'game-body',\n    GAME_OVER     : 'game-over',\n    GAME_RESULT   : 'game-result',\n    BRAND_QUESTION: 'brand-question',\n};\n\nexport const LAYERS = {\n    PRELOAD       : 'preload',\n    DEFAULT       : 'default',\n    FRUIT         : 'fruit',\n    JUICE         : 'juice',\n    MASK          : 'mask',\n    LIGHT         : 'light',\n    FLASH         : 'flash',\n    KNIFE         : 'knife',\n    START_SCREEN  : 'start-screen',\n    RESULT_SCREEN : 'result-screen',\n    BRAND_QUESTION: 'brand-question',\n};\n\nconst FRUIT_DROP_TIME    = IS_TOUCH ? 2000 : 1200;\nconst FRUIT_DROP_X_SCOPE = 200;\nconst FRUIT_SHADOW_POS   = 50;\nconst FRUIT_TYPES        = {\n    BOOM  : 'boom',\n    PEACH : 'peach',\n    SANDIA: 'sandia',\n    APPLE : 'apple',\n    BANANA: 'banana',\n    BASAHA: 'basaha',\n};\nconst FRUIT_JUICE_COLORS = {\n    [FRUIT_TYPES.BOOM]  : null,\n    [FRUIT_TYPES.PEACH] : '#e6c731',\n    [FRUIT_TYPES.SANDIA]: '#c00',\n    [FRUIT_TYPES.APPLE] : '#c8e925',\n    [FRUIT_TYPES.BANANA]: null,\n    [FRUIT_TYPES.BASAHA]: '#c00',\n};\nconst FRUIT_IMAGES       = {\n    [FRUIT_TYPES.BOOM]  : 'images/fruit/boom.webp',\n    [FRUIT_TYPES.PEACH] : 'images/fruit/mango.webp',\n    [FRUIT_TYPES.SANDIA]: 'images/fruit/watermelon.webp',\n    [FRUIT_TYPES.APPLE] : 'images/fruit/apple.webp',\n    [FRUIT_TYPES.BANANA]: 'images/fruit/melon.webp',\n    [FRUIT_TYPES.BASAHA]: 'images/fruit/raspberry.webp',\n};\nconst FRUIT_CUT_IMAGES   = {\n    [FRUIT_TYPES.BOOM]  : [],\n    [FRUIT_TYPES.PEACH] : [ 'images/fruit/mango-1.webp', 'images/fruit/mango-2.webp' ],\n    [FRUIT_TYPES.SANDIA]: [ 'images/fruit/watermelon-1.webp', 'images/fruit/watermelon-2.webp' ],\n    [FRUIT_TYPES.APPLE] : [ 'images/fruit/apple-1.webp', 'images/fruit/apple-2.webp' ],\n    [FRUIT_TYPES.BANANA]: [ 'images/fruit/melon-1.webp', 'images/fruit/melon-2.webp' ],\n    [FRUIT_TYPES.BASAHA]: [ 'images/fruit/raspberry-1.webp', 'images/fruit/raspberry-2.webp' ],\n};\nconst FRUIT_SIZES        = {\n    [FRUIT_TYPES.BOOM]  : [ calcSize(100), calcSize(100), 26 ],\n    [FRUIT_TYPES.PEACH] : [ calcSize(100), calcSize(100), 37 ],\n    [FRUIT_TYPES.SANDIA]: [ calcSize(100), calcSize(100), 38 ],\n    [FRUIT_TYPES.APPLE] : [ calcSize(100), calcSize(100), 31 ],\n    [FRUIT_TYPES.BANANA]: [ calcSize(100), calcSize(100), 43 ],\n    [FRUIT_TYPES.BASAHA]: [ calcSize(100), calcSize(100), 32 ],\n};\nconst FRUIT_FIX_ANGLE    = {\n    [FRUIT_TYPES.BOOM]  : -21,\n    [FRUIT_TYPES.PEACH] : -50,\n    [FRUIT_TYPES.SANDIA]: -100,\n    [FRUIT_TYPES.APPLE] : -54,\n    [FRUIT_TYPES.BANANA]: 90,\n    [FRUIT_TYPES.BASAHA]: -135,\n};\nconst FRUIT_IS_REVERSE   = {\n    [FRUIT_TYPES.BOOM]  : 0,\n    [FRUIT_TYPES.PEACH] : 0,\n    [FRUIT_TYPES.SANDIA]: 0,\n    [FRUIT_TYPES.APPLE] : 0,\n    [FRUIT_TYPES.BANANA]: 0,\n    [FRUIT_TYPES.BASAHA]: 0,\n};\nconst FRUIT_INFOS        = {\n    // type: [ imageSrc, width, height, radius, fixAngle, isReverse, juiceColor ]\n    [FRUIT_TYPES.BOOM]  : [\n        FRUIT_IMAGES[FRUIT_TYPES.BOOM],\n        ...FRUIT_SIZES[FRUIT_TYPES.BOOM],\n        FRUIT_FIX_ANGLE[FRUIT_TYPES.BOOM],\n        FRUIT_IS_REVERSE[FRUIT_TYPES.BOOM],\n        FRUIT_JUICE_COLORS[FRUIT_TYPES.BOOM],\n    ],\n    [FRUIT_TYPES.PEACH] : [\n        FRUIT_IMAGES[FRUIT_TYPES.PEACH],\n        ...FRUIT_SIZES[FRUIT_TYPES.PEACH],\n        FRUIT_FIX_ANGLE[FRUIT_TYPES.PEACH],\n        FRUIT_IS_REVERSE[FRUIT_TYPES.PEACH],\n        FRUIT_JUICE_COLORS[FRUIT_TYPES.PEACH],\n    ],\n    [FRUIT_TYPES.SANDIA]: [\n        FRUIT_IMAGES[FRUIT_TYPES.SANDIA],\n        ...FRUIT_SIZES[FRUIT_TYPES.SANDIA],\n        FRUIT_FIX_ANGLE[FRUIT_TYPES.SANDIA],\n        FRUIT_IS_REVERSE[FRUIT_TYPES.SANDIA],\n        FRUIT_JUICE_COLORS[FRUIT_TYPES.SANDIA],\n    ],\n    [FRUIT_TYPES.APPLE] : [\n        FRUIT_IMAGES[FRUIT_TYPES.APPLE],\n        ...FRUIT_SIZES[FRUIT_TYPES.APPLE],\n        FRUIT_FIX_ANGLE[FRUIT_TYPES.APPLE],\n        FRUIT_IS_REVERSE[FRUIT_TYPES.APPLE],\n        FRUIT_JUICE_COLORS[FRUIT_TYPES.APPLE],\n    ],\n    [FRUIT_TYPES.BANANA]: [\n        FRUIT_IMAGES[FRUIT_TYPES.BANANA],\n        ...FRUIT_SIZES[FRUIT_TYPES.BANANA],\n        FRUIT_FIX_ANGLE[FRUIT_TYPES.BANANA],\n        FRUIT_IS_REVERSE[FRUIT_TYPES.BANANA],\n        FRUIT_JUICE_COLORS[FRUIT_TYPES.BANANA],\n    ],\n    [FRUIT_TYPES.BASAHA]: [\n        FRUIT_IMAGES[FRUIT_TYPES.BASAHA],\n        ...FRUIT_SIZES[FRUIT_TYPES.BASAHA],\n        FRUIT_FIX_ANGLE[FRUIT_TYPES.BASAHA],\n        FRUIT_IS_REVERSE[FRUIT_TYPES.BASAHA],\n        FRUIT_JUICE_COLORS[FRUIT_TYPES.BASAHA],\n    ],\n};\nconst FRUIT_SHADOW_IMAGE = 'images/shadow.webp';\n\nexport const FRUIT_CONFIG = {\n    dropTime   : FRUIT_DROP_TIME,\n    dropXScope : FRUIT_DROP_X_SCOPE,\n    shadowPos  : FRUIT_SHADOW_POS,\n    shadowImage: FRUIT_SHADOW_IMAGE,\n    types      : FRUIT_TYPES,\n    infos      : FRUIT_INFOS,\n    cutImages  : FRUIT_CUT_IMAGES,\n    fruitSizes : FRUIT_SIZES,\n};\n\nconst JUICE_DURATION = 1500;\nconst JUICE_RADIUS   = 10;\nconst JUICE_NUMBER   = 10;\nconst JUICE_SHAPES   = {\n    CIRCLE : 'circle',\n    SQUARE : 'square',\n    DIAMOND: 'diamond',\n    STAR   : 'star',\n};\n\nexport const JUICE_CONFIG = {\n    duration: JUICE_DURATION,\n    radius  : JUICE_RADIUS,\n    number  : JUICE_NUMBER,\n    shape   : JUICE_SHAPES.DIAMOND,\n    shapes  : JUICE_SHAPES,\n};\n\nconst BACKGROUND_IMAGE  = 'images/background.webp';\nconst BACKGROUND_X      = 0;\nconst BACKGROUND_Y      = 0;\nconst BACKGROUND_WIDTH  = viewportWidth || MAX_VIEWPORT_WIDTH;\nconst BACKGROUND_HEIGHT = viewportHeight || MAX_VIEWPORT_HEIGHT;\n\nexport const BACKGROUND_CONFIG = {\n    image              : BACKGROUND_IMAGE,\n    x                  : BACKGROUND_X,\n    y                  : BACKGROUND_Y,\n    width              : BACKGROUND_WIDTH,\n    height             : BACKGROUND_HEIGHT,\n    preserveAspectRatio: 'xMidYMid slice',\n};\n\nconst CONSOLE_X = 16;\nconst CONSOLE_Y = 0;\n\nexport const CONSOLE_CONFIG = {\n    x: CONSOLE_X,\n    y: CONSOLE_Y,\n};\n\nexport const MESSAGES = {\n    CLICK                   : 'click',\n    SLICE                   : 'slice',\n    TOUCH                   : 'touch',\n    FRUIT_FALL_OFF          : 'fruit.fallOff',\n    FRUIT_FALL_OUT_OF_VIEWER: 'fruit.fallOutOfViewer',\n    FRUIT_REMOVE            : 'fruit.remove',\n    HOME_MENU               : 'home-menu',\n    SCENE_SWITCH_SCENE      : 'scene.switchScene',\n    GAME_OVER               : 'game.over',\n    OVER_WHITE_LIGHT_SHOW   : 'overWhiteLight.show',\n    SLICE_AT                : 'slice.at',\n    TOUCH_AT                : 'touch.at',\n    START_GAME              : 'start.game',\n    VIBRATE                 : 'vibrate',\n    TOGGLE_SOUND            : 'toggle.sound',\n}\n\nconst FLAME_RADIUS = 5;\nconst SMOKE_IMAGE  = 'images/smoke.png';\n\nexport const FLAME_CONFIG = {\n    smokeImage: SMOKE_IMAGE,\n    radius    : FLAME_RADIUS,\n};\n\nconst FLASH_IMAGE    = 'images/flash.webp';\nconst FLASH_DURATION = 100;\nconst FLASH_WIDTH    = calcSize(358);\nconst FLASH_HEIGHT   = calcSize(20);\n\nexport const FLASH_CONFIG = {\n    image   : FLASH_IMAGE,\n    duration: FLASH_DURATION,\n    width   : FLASH_WIDTH,\n    height  : FLASH_HEIGHT,\n}\n\nconst FPS_PREFIX = 'FPS: ';\nconst FPS_FILL   = '#fff';\nconst FPS_X      = 4;\nconst FPS_Y      = viewportHeight - 10;\n\nexport const FPS_CONFIG = {\n    prefix: FPS_PREFIX,\n    fill  : FPS_FILL,\n    x     : FPS_X,\n    y     : FPS_Y,\n}\n\nconst GAME_OVER_IMAGE  = 'images/game-over.webp';\nconst GAME_OVER_HEIGHT = calcSize(145);\nconst GAME_OVER_WIDTH  = calcSize(250);\nconst GAME_OVER_X      = viewportWidth / 2 - GAME_OVER_WIDTH / 2 + calcSize(6);\nconst GAME_OVER_Y      = viewportHeight / 2 - GAME_OVER_HEIGHT / 2;\n\nexport const GAME_OVER_CONFIG = {\n    image : GAME_OVER_IMAGE,\n    x     : GAME_OVER_X,\n    y     : GAME_OVER_Y,\n    width : GAME_OVER_WIDTH,\n    height: GAME_OVER_HEIGHT,\n}\n\nconst HOME_MASK_IMAGE    = 'images/blank.gif';\nconst HOME_MASK_WIDTH    = viewportWidth;\nconst HOME_MASK_HEIGHT   = 183;\nconst HOME_MASK_ORIG_X   = 0;\nconst HOME_MASK_ORIG_Y   = -183;\nconst HOME_MASK_TARGET_X = 0;\nconst HOME_MASK_TARGET_Y = 0;\nconst HOME_MASK_DURATION = 1e3;\n\nexport const HOME_MASK_CONFIG = {\n    image   : HOME_MASK_IMAGE,\n    width   : HOME_MASK_WIDTH,\n    height  : HOME_MASK_HEIGHT,\n    startX  : HOME_MASK_ORIG_X,\n    startY  : HOME_MASK_ORIG_Y,\n    endX    : HOME_MASK_TARGET_X,\n    endY    : HOME_MASK_TARGET_Y,\n    duration: HOME_MASK_DURATION,\n}\n\nconst KNIFE_PART_COLOR  = 'transparent';\nconst KNIFE_PART_STROKE = 10;\nconst KNIFE_PART_LIFE   = 200;\n\nexport const KNIFE_PART_CONFIG = {\n    color : KNIFE_PART_COLOR,\n    stroke: KNIFE_PART_STROKE,\n    life  : KNIFE_PART_LIFE,\n}\n\nconst LIGHTS_NUMBER = 10;\nconst LIGHTS_FILL   = '#fff';\n\nexport const LIGHTS_CONFIG = {\n    number: LIGHTS_NUMBER,\n    fill  : LIGHTS_FILL,\n}\n\nconst HOME_LOGO_IMAGE    = 'images/logo.webp';\nconst HOME_LOGO_WIDTH    = calcSize(335);\nconst HOME_LOGO_HEIGHT   = calcSize(200);\nconst HOME_LOGO_ORIG_X   = calcSize(38);\nconst HOME_LOGO_ORIG_Y   = -HOME_LOGO_HEIGHT;\nconst HOME_LOGO_TARGET_X = HOME_LOGO_ORIG_X;\nconst HOME_LOGO_TARGET_Y = calcSize(41);\nconst HOME_LOGO_DURATION = 1e3;\n\nexport const HOME_LOGO_CONFIG = {\n    image   : HOME_LOGO_IMAGE,\n    width   : HOME_LOGO_WIDTH,\n    height  : HOME_LOGO_HEIGHT,\n    startX  : HOME_LOGO_ORIG_X,\n    startY  : HOME_LOGO_ORIG_Y,\n    endX    : HOME_LOGO_TARGET_X,\n    endY    : HOME_LOGO_TARGET_Y,\n    duration: HOME_LOGO_DURATION,\n}\n\nconst RESULT_LOGO_IMAGE    = 'images/logo.webp';\nconst RESULT_LOGO_WIDTH    = calcSize(244);\nconst RESULT_LOGO_HEIGHT   = calcSize(147);\nconst RESULT_LOGO_ORIG_X   = calcSize(81);\nconst RESULT_LOGO_ORIG_Y   = -RESULT_LOGO_HEIGHT;\nconst RESULT_LOGO_TARGET_X = RESULT_LOGO_ORIG_X;\nconst RESULT_LOGO_TARGET_Y = calcSize(24);\nconst RESULT_LOGO_DURATION = 1e3;\n\nexport const RESULT_LOGO_CONFIG = {\n    image   : RESULT_LOGO_IMAGE,\n    width   : RESULT_LOGO_WIDTH,\n    height  : RESULT_LOGO_HEIGHT,\n    startX  : RESULT_LOGO_ORIG_X,\n    startY  : RESULT_LOGO_ORIG_Y,\n    endX    : RESULT_LOGO_TARGET_X,\n    endY    : RESULT_LOGO_TARGET_Y,\n    duration: RESULT_LOGO_DURATION,\n}\n\nconst QUIT_IMAGE    = 'images/quit.png';\nconst QUIT_WIDTH    = calcSize(141);\nconst QUIT_HEIGHT   = calcSize(141);\nconst QUIT_X        = viewportWidth / 2 - QUIT_WIDTH / 2;\nconst QUIT_Y        = viewportHeight - QUIT_HEIGHT - 10;\nconst QUIT_Z        = 1e-5;\nconst QUIT_DURATION = 500;\n\nexport const QUIT_CONFIG = {\n    image   : QUIT_IMAGE,\n    x       : QUIT_X,\n    y       : QUIT_Y,\n    z       : QUIT_Z,\n    width   : QUIT_WIDTH,\n    height  : QUIT_HEIGHT,\n    duration: QUIT_DURATION,\n};\n\nconst SCORE_IMAGE        = 'images/score.webp';\nconst SCORE_IMAGE_SX     = -94;\nconst SCORE_IMAGE_EX     = calcSize(23);\nconst SCORE_IMAGE_Y      = calcSize(8);\nconst SCORE_IMAGE_W      = calcSize(40);\nconst SCORE_IMAGE_H      = calcSize(40);\nconst SCORE_TEXT1_SX     = -59;\nconst SCORE_TEXT1_EX     = SCORE_IMAGE_EX + SCORE_IMAGE_W + calcSize(12);\nconst SCORE_TEXT1_Y      = SCORE_IMAGE_Y + SCORE_IMAGE_H - calcSize(14);\nconst SCORE_TEXT1_FILL   = '#fff';\nconst SCORE_TEXT1_SIZE   = calcVerticalSize(45) + 'px';\nconst SCORE_TEXT1_VALUE  = '0';\nconst SCORE_TEXT2_SX     = -93;\nconst SCORE_TEXT2_EX     = SCORE_IMAGE_EX;\nconst SCORE_TEXT2_Y      = calcSize(65);\nconst SCORE_TEXT2_FILL   = '#fff';\nconst SCORE_TEXT2_PREFIX = 'Рекорд: ';\nconst SCORE_TEXT2_VALUE  = 999;\nconst SCORE_TEXT2_SIZE   = calcVerticalSize(16) + 'px';\nconst SCORE_ANIM_LENGTH  = 500;\n\nexport const SCORE_CONFIG = {\n    image      : SCORE_IMAGE,\n    imageSx    : SCORE_IMAGE_SX,\n    imageEx    : SCORE_IMAGE_EX,\n    imageY     : SCORE_IMAGE_Y,\n    imageW     : SCORE_IMAGE_W,\n    imageH     : SCORE_IMAGE_H,\n    text1Sx    : SCORE_TEXT1_SX,\n    text1Ex    : SCORE_TEXT1_EX,\n    text1Y     : SCORE_TEXT1_Y,\n    text1Fill  : SCORE_TEXT1_FILL,\n    text1Size  : SCORE_TEXT1_SIZE,\n    text1Weight: 'bold',\n    text1Value : SCORE_TEXT1_VALUE,\n    text2Sx    : SCORE_TEXT2_SX,\n    text2Ex    : SCORE_TEXT2_EX,\n    text2Y     : SCORE_TEXT2_Y,\n    text2Fill  : SCORE_TEXT2_FILL,\n    text2Prefix: SCORE_TEXT2_PREFIX,\n    text2Value : SCORE_TEXT2_VALUE,\n    text2Size  : SCORE_TEXT2_SIZE,\n    animLength : SCORE_ANIM_LENGTH,\n}\n\nconst LOSE_WIDTH            = calcSize(45.2);\nconst LOSE_HEIGHT           = calcSize(37.6);\nconst LOSE_LEFT             = viewportWidth - SCORE_IMAGE_EX - LOSE_WIDTH;\nconst LOSE_CONF             = [\n    {\n        src : 'images/x.webp',\n        srcF: 'images/xf.webp',\n        sx  : LOSE_LEFT + 200,\n        ex  : LOSE_LEFT,\n        y   : SCORE_IMAGE_Y,\n        w   : LOSE_WIDTH,\n        h   : LOSE_HEIGHT,\n    },\n    {\n        src : 'images/x.webp',\n        srcF: 'images/xf.webp',\n        sx  : LOSE_LEFT - LOSE_WIDTH + 200,\n        ex  : LOSE_LEFT - LOSE_WIDTH,\n        y   : SCORE_IMAGE_Y,\n        w   : LOSE_WIDTH,\n        h   : LOSE_HEIGHT,\n    },\n    {\n        src : 'images/x.webp',\n        srcF: 'images/xf.webp',\n        sx  : LOSE_LEFT - LOSE_WIDTH - LOSE_WIDTH + 200,\n        ex  : LOSE_LEFT - LOSE_WIDTH - LOSE_WIDTH,\n        y   : SCORE_IMAGE_Y,\n        w   : LOSE_WIDTH,\n        h   : LOSE_HEIGHT,\n    },\n];\nconst LOSE_IMAGE            = 'images/lose.png';\nconst LOSE_ANIMATION_LENGTH = 500;\n\nexport const LOSE_CONFIG = {\n    conf      : LOSE_CONF,\n    image     : LOSE_IMAGE,\n    animLength: LOSE_ANIMATION_LENGTH,\n}\n\nconst HOME_TEXT1_VALUE      = 'Тропическое путешествие\\nв самом разгаре!';\nconst HOME_TEXT1_SX         = -viewportWidth;\nconst HOME_TEXT1_EX         = viewportWidth / 2;\nconst HOME_TEXT1_Y          = HOME_LOGO_TARGET_Y + HOME_LOGO_HEIGHT + calcVerticalSize(28);\nconst HOME_TEXT1_FILL       = '#fff';\nconst HOME_TEXT1_SIZE       = calcVerticalSize(22) + 'px';\nconst HOME_TEXT1_WEIGHT     = 'bold';\nconst HOME_TEXT1_ANCHOR     = 'middle';\nconst HOME_TEXT2_VALUE      = 'Разрежь как можно больше\\nэкзотических фруктов!';\nconst HOME_TEXT2_SX         = -viewportWidth;\nconst HOME_TEXT2_EX         = viewportWidth / 2;\nconst HOME_TEXT2_Y          = HOME_LOGO_TARGET_Y + HOME_LOGO_HEIGHT + calcVerticalSize(148);\nconst HOME_TEXT2_FILL       = '#fff';\nconst HOME_TEXT2_SIZE       = calcVerticalSize(22) + 'px';\nconst HOME_TEXT2_WEIGHT     = 'bold';\nconst HOME_TEXT2_ANCHOR     = 'middle';\nconst HOME_TEXT3_VALUE      = 'Осторожно:\\nизбегай снежинки';\nconst HOME_TEXT3_SX         = -viewportWidth;\nconst HOME_TEXT3_EX         = viewportWidth / 2;\nconst HOME_TEXT3_Y          = HOME_LOGO_TARGET_Y + HOME_LOGO_HEIGHT + calcVerticalSize(225);\nconst HOME_TEXT3_FILL       = '#fff';\nconst HOME_TEXT3_SIZE       = calcVerticalSize(22) + 'px';\nconst HOME_TEXT3_WEIGHT     = 'bold';\nconst HOME_TEXT3_ANCHOR     = 'middle';\nconst HOME_TEXT_ANIM_LENGTH = 500;\n\nexport const HOME_TEXT_CONFIG = {\n    text1Value : HOME_TEXT1_VALUE,\n    text1Sx    : HOME_TEXT1_SX,\n    text1Ex    : HOME_TEXT1_EX,\n    text1Y     : HOME_TEXT1_Y,\n    text1Fill  : HOME_TEXT1_FILL,\n    text1Size  : HOME_TEXT1_SIZE,\n    text1Weight: HOME_TEXT1_WEIGHT,\n    text1Anchor: HOME_TEXT1_ANCHOR,\n    text2Value : HOME_TEXT2_VALUE,\n    text2Sx    : HOME_TEXT2_SX,\n    text2Ex    : HOME_TEXT2_EX,\n    text2Y     : HOME_TEXT2_Y,\n    text2Fill  : HOME_TEXT2_FILL,\n    text2Size  : HOME_TEXT2_SIZE,\n    text2Weight: HOME_TEXT2_WEIGHT,\n    text2Anchor: HOME_TEXT2_ANCHOR,\n    text3Value : HOME_TEXT3_VALUE,\n    text3Sx    : HOME_TEXT3_SX,\n    text3Ex    : HOME_TEXT3_EX,\n    text3Y     : HOME_TEXT3_Y,\n    text3Fill  : HOME_TEXT3_FILL,\n    text3Size  : HOME_TEXT3_SIZE,\n    text3Weight: HOME_TEXT3_WEIGHT,\n    text3Anchor: HOME_TEXT3_ANCHOR,\n    animLength : HOME_TEXT_ANIM_LENGTH,\n}\n\nconst RESULT_TEXT1_VALUE      = 'Сезон Sunny Beach!';\nconst RESULT_TEXT1_X          = viewportWidth / 2;\nconst RESULT_TEXT1_SY         = -200;\nconst RESULT_TEXT1_EY         = RESULT_LOGO_TARGET_Y + RESULT_LOGO_HEIGHT + calcVerticalSize(4);\nconst RESULT_TEXT1_FILL       = '#fff';\nconst RESULT_TEXT1_SIZE       = calcVerticalSize(17.8) + 'px';\nconst RESULT_TEXT1_WEIGHT     = 'bold';\nconst RESULT_TEXT1_ANCHOR     = 'middle';\nconst RESULT_TEXT2_VALUE      = 'Твой счёт:';\nconst RESULT_TEXT2_X          = viewportWidth / 2;\nconst RESULT_TEXT2_SY         = -200;\nconst RESULT_TEXT2_EY         = RESULT_LOGO_TARGET_Y + RESULT_LOGO_HEIGHT + calcVerticalSize(60);\nconst RESULT_TEXT2_FILL       = '#fff';\nconst RESULT_TEXT2_SIZE       = calcVerticalSize(30) + 'px';\nconst RESULT_TEXT2_WEIGHT     = 'bold';\nconst RESULT_TEXT2_ANCHOR     = 'middle';\nconst RESULT_TEXT3_VALUE      = '5432';\nconst RESULT_TEXT3_X          = viewportWidth / 2;\nconst RESULT_TEXT3_SY         = -200;\nconst RESULT_TEXT3_EY         = RESULT_LOGO_TARGET_Y + RESULT_LOGO_HEIGHT + calcVerticalSize(140);\nconst RESULT_TEXT3_FILL       = '270-#FFFFFF-#BCDBF8';\nconst RESULT_TEXT3_SIZE       = calcVerticalSize(calcResultFontSize(RESULT_TEXT3_VALUE, 115)) + 'px';\nconst RESULT_TEXT3_WEIGHT     = 'bold';\nconst RESULT_TEXT3_ANCHOR     = 'middle';\nconst RESULT_TEXT4_VALUE      = 'Твой\\nрекорд';\nconst RESULT_TEXT4_SX         = -viewportWidth;\nconst RESULT_TEXT4_EX         = viewportWidth / 4 + calcSize(10);\nconst RESULT_TEXT4_Y          = RESULT_LOGO_TARGET_Y + RESULT_LOGO_HEIGHT + calcVerticalSize(245);\nconst RESULT_TEXT4_FILL       = '#fff';\nconst RESULT_TEXT4_SIZE       = calcVerticalSize(18) + 'px';\nconst RESULT_TEXT4_WEIGHT     = 'bold';\nconst RESULT_TEXT4_ANCHOR     = 'middle';\nconst RESULT_TEXT5_VALUE      = '5,432';\nconst RESULT_TEXT5_SX         = -viewportWidth;\nconst RESULT_TEXT5_EX         = viewportWidth / 4 + calcSize(10);\nconst RESULT_TEXT5_Y          = RESULT_LOGO_TARGET_Y + RESULT_LOGO_HEIGHT + calcVerticalSize(295);\nconst RESULT_TEXT5_FILL       = '270-#FFFFFF-#BCDBF8';\nconst RESULT_TEXT5_SIZE       = calcVerticalSize(44) + 'px';\nconst RESULT_TEXT5_WEIGHT     = 'bold';\nconst RESULT_TEXT5_ANCHOR     = 'middle';\nconst RESULT_TEXT6_VALUE      = 'Общий\\nрекорд';\nconst RESULT_TEXT6_SX         = 2 * viewportWidth;\nconst RESULT_TEXT6_EX         = 3 * (viewportWidth / 4) - calcSize(10);\nconst RESULT_TEXT6_Y          = RESULT_LOGO_TARGET_Y + RESULT_LOGO_HEIGHT + calcVerticalSize(245);\nconst RESULT_TEXT6_FILL       = '#fff';\nconst RESULT_TEXT6_SIZE       = calcVerticalSize(18) + 'px';\nconst RESULT_TEXT6_WEIGHT     = 'bold';\nconst RESULT_TEXT6_ANCHOR     = 'middle';\nconst RESULT_TEXT7_VALUE      = '10,000';\nconst RESULT_TEXT7_SX         = 2 * viewportWidth;\nconst RESULT_TEXT7_EX         = 3 * (viewportWidth / 4) - calcSize(10);\nconst RESULT_TEXT7_Y          = RESULT_LOGO_TARGET_Y + RESULT_LOGO_HEIGHT + calcVerticalSize(295);\nconst RESULT_TEXT7_FILL       = '270-#FFFFFF-#BCDBF8';\nconst RESULT_TEXT7_SIZE       = calcVerticalSize(44) + 'px';\nconst RESULT_TEXT7_WEIGHT     = 'bold';\nconst RESULT_TEXT7_ANCHOR     = 'middle';\nconst RESULT_TEXT_ANIM_LENGTH = 500;\n\nexport const RESULT_TEXT_CONFIG = {\n    text1Value : RESULT_TEXT1_VALUE,\n    text1X     : RESULT_TEXT1_X,\n    text1Sy    : RESULT_TEXT1_SY,\n    text1Ey    : RESULT_TEXT1_EY,\n    text1Fill  : RESULT_TEXT1_FILL,\n    text1Size  : RESULT_TEXT1_SIZE,\n    text1Weight: RESULT_TEXT1_WEIGHT,\n    text1Anchor: RESULT_TEXT1_ANCHOR,\n    text2Value : RESULT_TEXT2_VALUE,\n    text2X     : RESULT_TEXT2_X,\n    text2Sy    : RESULT_TEXT2_SY,\n    text2Ey    : RESULT_TEXT2_EY,\n    text2Fill  : RESULT_TEXT2_FILL,\n    text2Size  : RESULT_TEXT2_SIZE,\n    text2Weight: RESULT_TEXT2_WEIGHT,\n    text2Anchor: RESULT_TEXT2_ANCHOR,\n    text3Value : RESULT_TEXT3_VALUE,\n    text3X     : RESULT_TEXT3_X,\n    text3Sy    : RESULT_TEXT3_SY,\n    text3Ey    : RESULT_TEXT3_EY,\n    text3Fill  : RESULT_TEXT3_FILL,\n    text3Size  : RESULT_TEXT3_SIZE,\n    text3Weight: RESULT_TEXT3_WEIGHT,\n    text3Anchor: RESULT_TEXT3_ANCHOR,\n    text4Value : RESULT_TEXT4_VALUE,\n    text4Sx    : RESULT_TEXT4_SX,\n    text4Ex    : RESULT_TEXT4_EX,\n    text4Y     : RESULT_TEXT4_Y,\n    text4Fill  : RESULT_TEXT4_FILL,\n    text4Size  : RESULT_TEXT4_SIZE,\n    text4Weight: RESULT_TEXT4_WEIGHT,\n    text4Anchor: RESULT_TEXT4_ANCHOR,\n    text5Value : RESULT_TEXT5_VALUE,\n    text5Sx    : RESULT_TEXT5_SX,\n    text5Ex    : RESULT_TEXT5_EX,\n    text5Y     : RESULT_TEXT5_Y,\n    text5Fill  : RESULT_TEXT5_FILL,\n    text5Size  : RESULT_TEXT5_SIZE,\n    text5Weight: RESULT_TEXT5_WEIGHT,\n    text5Anchor: RESULT_TEXT5_ANCHOR,\n    text6Value : RESULT_TEXT6_VALUE,\n    text6Sx    : RESULT_TEXT6_SX,\n    text6Ex    : RESULT_TEXT6_EX,\n    text6Y     : RESULT_TEXT6_Y,\n    text6Fill  : RESULT_TEXT6_FILL,\n    text6Size  : RESULT_TEXT6_SIZE,\n    text6Weight: RESULT_TEXT6_WEIGHT,\n    text6Anchor: RESULT_TEXT6_ANCHOR,\n    text7Value : RESULT_TEXT7_VALUE,\n    text7Sx    : RESULT_TEXT7_SX,\n    text7Ex    : RESULT_TEXT7_EX,\n    text7Y     : RESULT_TEXT7_Y,\n    text7Fill  : RESULT_TEXT7_FILL,\n    text7Size  : RESULT_TEXT7_SIZE,\n    text7Weight: RESULT_TEXT7_WEIGHT,\n    text7Anchor: RESULT_TEXT7_ANCHOR,\n    animLength : RESULT_TEXT_ANIM_LENGTH,\n};\n\nconst BOTTOM_IMAGE    = 'images/bottom.webp';\nconst BOTTOM_WIDTH    = viewportWidth;\nconst BOTTOM_HEIGHT   = calcSize(139);\nconst BOTTOM_ORIG_X   = 0;\nconst BOTTOM_ORIG_Y   = viewportHeight;\nconst BOTTOM_TARGET_X = 0;\nconst BOTTOM_TARGET_Y = viewportHeight - BOTTOM_HEIGHT;\nconst BOTTOM_DURATION = 1e3;\n\nexport const BOTTOM_CONFIG = {\n    image   : BOTTOM_IMAGE,\n    width   : BOTTOM_WIDTH,\n    height  : BOTTOM_HEIGHT,\n    startX  : BOTTOM_ORIG_X,\n    startY  : BOTTOM_ORIG_Y,\n    endX    : BOTTOM_TARGET_X,\n    endY    : BOTTOM_TARGET_Y,\n    duration: BOTTOM_DURATION,\n}\n\nconst START_BUTTON_IMAGE            = 'images/green-button.webp';\nconst START_BUTTON_ORIG_X           = calcSize(42);\nconst START_BUTTON_TARGET_X         = START_BUTTON_ORIG_X;\nconst START_BUTTON_ORIG_Y           = viewportHeight;\nconst START_BUTTON_TARGET_Y         = HOME_LOGO_TARGET_X + HOME_LOGO_HEIGHT + calcVerticalSize(330);\nconst START_BUTTON_WIDTH            = calcSize(325);\nconst START_BUTTON_HEIGHT           = calcSize(90);\nconst START_BUTTON_ANIMATION_LENGTH = 500;\nconst START_BUTTON_TEXT_VALUE       = 'Начать';\nconst START_BUTTON_TEXT_FILL        = '#fff';\nconst START_BUTTON_TEXT_SIZE        = calcSize(30) + 'px';\nconst START_BUTTON_TEXT_START_X     = viewportWidth / 2;\nconst START_BUTTON_TEXT_START_Y     = viewportHeight + START_BUTTON_HEIGHT;\nconst START_BUTTON_TEXT_END_X       = START_BUTTON_TEXT_START_X;\nconst START_BUTTON_TEXT_END_Y       = START_BUTTON_TARGET_Y - calcVerticalSize(8) + START_BUTTON_HEIGHT / 2;\nconst START_BUTTON_TEXT_ANCHOR      = 'middle';\nconst START_BUTTON_TEXT_WEIGHT      = 'bold';\n\nexport const START_BUTTON_CONFIG = {\n    image     : START_BUTTON_IMAGE,\n    startX    : START_BUTTON_ORIG_X,\n    startY    : START_BUTTON_ORIG_Y,\n    endX      : START_BUTTON_TARGET_X,\n    endY      : START_BUTTON_TARGET_Y,\n    width     : START_BUTTON_WIDTH,\n    height    : START_BUTTON_HEIGHT,\n    textValue : START_BUTTON_TEXT_VALUE,\n    textStartX: START_BUTTON_TEXT_START_X,\n    textStartY: START_BUTTON_TEXT_START_Y,\n    textEndX  : START_BUTTON_TEXT_END_X,\n    textEndY  : START_BUTTON_TEXT_END_Y,\n    textFill  : START_BUTTON_TEXT_FILL,\n    textSize  : START_BUTTON_TEXT_SIZE,\n    textAnchor: START_BUTTON_TEXT_ANCHOR,\n    textWeight: START_BUTTON_TEXT_WEIGHT,\n    animLength: START_BUTTON_ANIMATION_LENGTH,\n}\n\nconst RESULT_BUTTON_NEXT_IMAGE            = 'images/blue-button.webp';\nconst RESULT_BUTTON_NEXT_ORIG_X           = calcSize(42);\nconst RESULT_BUTTON_NEXT_TARGET_X         = RESULT_BUTTON_NEXT_ORIG_X;\nconst RESULT_BUTTON_NEXT_ORIG_Y           = viewportHeight;\nconst RESULT_BUTTON_NEXT_TARGET_Y         = RESULT_LOGO_TARGET_Y + RESULT_LOGO_HEIGHT + calcVerticalSize(360);\nconst RESULT_BUTTON_NEXT_WIDTH            = calcSize(325);\nconst RESULT_BUTTON_NEXT_HEIGHT           = calcSize(90);\nconst RESULT_BUTTON_NEXT_ANIMATION_LENGTH = 500;\nconst RESULT_BUTTON_NEXT_TEXT_VALUE       = 'Далее';\nconst RESULT_BUTTON_NEXT_TEXT_FILL        = '#fff';\nconst RESULT_BUTTON_NEXT_TEXT_SIZE        = calcSize(30) + 'px';\nconst RESULT_BUTTON_NEXT_TEXT_START_X     = viewportWidth / 2;\nconst RESULT_BUTTON_NEXT_TEXT_START_Y     = viewportHeight + RESULT_BUTTON_NEXT_HEIGHT;\nconst RESULT_BUTTON_NEXT_TEXT_END_X       = RESULT_BUTTON_NEXT_TEXT_START_X;\nconst RESULT_BUTTON_NEXT_TEXT_END_Y       = RESULT_BUTTON_NEXT_TARGET_Y - calcSize(8) + RESULT_BUTTON_NEXT_HEIGHT / 2;\nconst RESULT_BUTTON_NEXT_TEXT_ANCHOR      = 'middle';\nconst RESULT_BUTTON_NEXT_TEXT_WEIGHT      = 'bold';\n\nexport const RESULT_BUTTON_NEXT_CONFIG = {\n    image     : RESULT_BUTTON_NEXT_IMAGE,\n    startX    : RESULT_BUTTON_NEXT_ORIG_X,\n    startY    : RESULT_BUTTON_NEXT_ORIG_Y,\n    endX      : RESULT_BUTTON_NEXT_TARGET_X,\n    endY      : RESULT_BUTTON_NEXT_TARGET_Y,\n    width     : RESULT_BUTTON_NEXT_WIDTH,\n    height    : RESULT_BUTTON_NEXT_HEIGHT,\n    textValue : RESULT_BUTTON_NEXT_TEXT_VALUE,\n    textStartX: RESULT_BUTTON_NEXT_TEXT_START_X,\n    textStartY: RESULT_BUTTON_NEXT_TEXT_START_Y,\n    textEndX  : RESULT_BUTTON_NEXT_TEXT_END_X,\n    textEndY  : RESULT_BUTTON_NEXT_TEXT_END_Y,\n    textFill  : RESULT_BUTTON_NEXT_TEXT_FILL,\n    textSize  : RESULT_BUTTON_NEXT_TEXT_SIZE,\n    textAnchor: RESULT_BUTTON_NEXT_TEXT_ANCHOR,\n    textWeight: RESULT_BUTTON_NEXT_TEXT_WEIGHT,\n    animLength: RESULT_BUTTON_NEXT_ANIMATION_LENGTH,\n}\n\nconst RESULT_BUTTON_REPLAY_IMAGE            = 'images/green-button.webp';\nconst RESULT_BUTTON_REPLAY_ORIG_X           = calcSize(42);\nconst RESULT_BUTTON_REPLAY_TARGET_X         = RESULT_BUTTON_NEXT_ORIG_X;\nconst RESULT_BUTTON_REPLAY_ORIG_Y           = viewportHeight;\nconst RESULT_BUTTON_REPLAY_TARGET_Y         = RESULT_BUTTON_NEXT_TARGET_Y + RESULT_BUTTON_NEXT_HEIGHT;\nconst RESULT_BUTTON_REPLAY_WIDTH            = calcSize(325);\nconst RESULT_BUTTON_REPLAY_HEIGHT           = calcSize(90);\nconst RESULT_BUTTON_REPLAY_ANIMATION_LENGTH = 500;\nconst RESULT_BUTTON_REPLAY_TEXT_VALUE       = 'Начать заново';\nconst RESULT_BUTTON_REPLAY_TEXT_FILL        = '#fff';\nconst RESULT_BUTTON_REPLAY_TEXT_SIZE        = calcSize(30) + 'px';\nconst RESULT_BUTTON_REPLAY_TEXT_START_X     = viewportWidth / 2;\nconst RESULT_BUTTON_REPLAY_TEXT_START_Y     = viewportHeight + RESULT_BUTTON_REPLAY_HEIGHT;\nconst RESULT_BUTTON_REPLAY_TEXT_END_X       = RESULT_BUTTON_REPLAY_TEXT_START_X;\nconst RESULT_BUTTON_REPLAY_TEXT_END_Y       = RESULT_BUTTON_REPLAY_TARGET_Y - calcSize(8) + RESULT_BUTTON_REPLAY_HEIGHT / 2;\nconst RESULT_BUTTON_REPLAY_TEXT_ANCHOR      = 'middle';\nconst RESULT_BUTTON_REPLAY_TEXT_WEIGHT      = 'bold';\n\nexport const RESULT_BUTTON_REPLAY_CONFIG = {\n    image     : RESULT_BUTTON_REPLAY_IMAGE,\n    startX    : RESULT_BUTTON_REPLAY_ORIG_X,\n    startY    : RESULT_BUTTON_REPLAY_ORIG_Y,\n    endX      : RESULT_BUTTON_REPLAY_TARGET_X,\n    endY      : RESULT_BUTTON_REPLAY_TARGET_Y,\n    width     : RESULT_BUTTON_REPLAY_WIDTH,\n    height    : RESULT_BUTTON_REPLAY_HEIGHT,\n    textValue : RESULT_BUTTON_REPLAY_TEXT_VALUE,\n    textStartX: RESULT_BUTTON_REPLAY_TEXT_START_X,\n    textStartY: RESULT_BUTTON_REPLAY_TEXT_START_Y,\n    textEndX  : RESULT_BUTTON_REPLAY_TEXT_END_X,\n    textEndY  : RESULT_BUTTON_REPLAY_TEXT_END_Y,\n    textFill  : RESULT_BUTTON_REPLAY_TEXT_FILL,\n    textSize  : RESULT_BUTTON_REPLAY_TEXT_SIZE,\n    textAnchor: RESULT_BUTTON_REPLAY_TEXT_ANCHOR,\n    textWeight: RESULT_BUTTON_REPLAY_TEXT_WEIGHT,\n    animLength: RESULT_BUTTON_REPLAY_ANIMATION_LENGTH,\n}\n\nconst SOUND_TEXT_SIZE                 = calcVerticalSize(16);\nconst SOUND_BUTTON_TEXT_VALUE_ON      = 'Вкл. звук';\nconst SOUND_BUTTON_TEXT_VALUE_OFF     = 'Откл. звук';\nconst SOUND_BUTTON_TEXT_FILL          = '#fff';\nconst SOUND_BUTTON_TEXT_SIZE          = SOUND_TEXT_SIZE + 'px';\nconst SOUND_BUTTON_TEXT_WEIGHT        = 'normal';\nconst SOUND_BUTTON_TEXT_ANCHOR        = 'end';\nconst SOUND_BUTTON_IMAGE_ON           = 'images/sound-on.svg';\nconst SOUND_BUTTON_IMAGE_OFF          = 'images/sound-off.svg';\nconst SOUND_BUTTON_IMAGE_WIDTH        = calcSize(26);\nconst SOUND_BUTTON_IMAGE_HEIGHT       = calcSize(26);\nconst SOUND_BUTTON_IMAGE_X            = viewportWidth - SOUND_BUTTON_IMAGE_WIDTH - calcSize(38);\nconst SOUND_BUTTON_TEXT_X             = SOUND_BUTTON_IMAGE_X - calcSize(10);\nconst SOUND_BUTTON_IMAGE_START_Y      = -100;\nconst SOUND_BUTTON_IMAGE_HOME_END_Y   = calcVerticalSize(13);\nconst SOUND_BUTTON_IMAGE_GAME_END_Y   = SCORE_IMAGE_Y + SCORE_IMAGE_H + calcSize(4);\nconst SOUND_BUTTON_IMAGE_RESULT_END_Y = SOUND_TEXT_SIZE / 2 + calcSize(2);\nconst SOUND_BUTTON_TEXT_START_Y       = -100;\nconst SOUND_BUTTON_TEXT_HOME_END_Y    = SOUND_TEXT_SIZE / 2 + calcSize(18);\nconst SOUND_BUTTON_TEXT_GAME_END_Y    = SCORE_TEXT2_Y;\nconst SOUND_BUTTON_TEXT_RESULT_END_Y  = SOUND_TEXT_SIZE / 2 + calcSize(15);\nconst SOUND_BUTTON_ANIMATION_LENGTH   = 500;\n\nexport const SOUND_BUTTON_CONFIG = {\n    textValueOn    : SOUND_BUTTON_TEXT_VALUE_ON,\n    textValueOff   : SOUND_BUTTON_TEXT_VALUE_OFF,\n    textFill       : SOUND_BUTTON_TEXT_FILL,\n    textSize       : SOUND_BUTTON_TEXT_SIZE,\n    textWeight     : SOUND_BUTTON_TEXT_WEIGHT,\n    textAnchor     : SOUND_BUTTON_TEXT_ANCHOR,\n    imageOn        : SOUND_BUTTON_IMAGE_ON,\n    imageOff       : SOUND_BUTTON_IMAGE_OFF,\n    imageWidth     : SOUND_BUTTON_IMAGE_WIDTH,\n    imageHeight    : SOUND_BUTTON_IMAGE_HEIGHT,\n    imageX         : SOUND_BUTTON_IMAGE_X,\n    textX          : SOUND_BUTTON_TEXT_X,\n    imageStartY    : SOUND_BUTTON_IMAGE_START_Y,\n    imageHomeEndY  : SOUND_BUTTON_IMAGE_HOME_END_Y,\n    imageGameEndY  : SOUND_BUTTON_IMAGE_GAME_END_Y,\n    imageResultEndY: SOUND_BUTTON_IMAGE_RESULT_END_Y,\n    textStartY     : SOUND_BUTTON_TEXT_START_Y,\n    textHomeEndY   : SOUND_BUTTON_TEXT_HOME_END_Y,\n    textGameEndY   : SOUND_BUTTON_TEXT_GAME_END_Y,\n    textResultEndY : SOUND_BUTTON_TEXT_RESULT_END_Y,\n    animLength     : SOUND_BUTTON_ANIMATION_LENGTH,\n}\n\nconst BRAND_QUESTION_FILL             = '#fff';\nconst BRAND_QUESTION_ANIMATION_LENGTH = 500;\nconst BRAND_QUESTION_TITLE_VALUE      = 'Ответь на вопрос\\nПрограммы, чтобы\\nполучить приз:';\nconst BRAND_QUESTION_TITLE_SIZE       = calcVerticalSize(30) + 'px';\nconst BRAND_QUESTION_TITLE_WEIGHT     = 'bold';\nconst BRAND_QUESTION_TITLE_ANCHOR     = 'middle';\nconst BRAND_QUESTION_X                = viewportWidth / 2;\nconst BRAND_QUESTION_START_Y          = -200;\nconst BRAND_QUESTION_END_Y            = calcVerticalSize(100);\n\nexport const BRAND_QUESTION_TITLE_CONFIG = {\n    textValue : BRAND_QUESTION_TITLE_VALUE,\n    textFill  : BRAND_QUESTION_FILL,\n    textSize  : BRAND_QUESTION_TITLE_SIZE,\n    textWeight: BRAND_QUESTION_TITLE_WEIGHT,\n    textAnchor: BRAND_QUESTION_TITLE_ANCHOR,\n    textX     : BRAND_QUESTION_X,\n    textStartY: BRAND_QUESTION_START_Y,\n    textEndY  : BRAND_QUESTION_END_Y,\n    animLength: BRAND_QUESTION_ANIMATION_LENGTH,\n};\n\nconst BRAND_QUESTION_TEXT1_VALUE   = 'Знаешь ли ты,';\nconst BRAND_QUESTION_TEXT1_SIZE    = calcVerticalSize(40) + 'px';\nconst BRAND_QUESTION_TEXT1_WEIGHT  = 'bold';\nconst BRAND_QUESTION_TEXT1_ANCHOR  = 'middle';\nconst BRAND_QUESTION_TEXT1_START_X = -viewportWidth;\nconst BRAND_QUESTION_TEXT1_END_X   = viewportWidth / 2;\nconst BRAND_QUESTION_TEXT1_Y       = calcVerticalSize(249);\n\nexport const BRAND_QUESTION_TEXT1_CONFIG = {\n    textValue : BRAND_QUESTION_TEXT1_VALUE,\n    textFill  : BRAND_QUESTION_FILL,\n    textSize  : BRAND_QUESTION_TEXT1_SIZE,\n    textWeight: BRAND_QUESTION_TEXT1_WEIGHT,\n    textAnchor: BRAND_QUESTION_TEXT1_ANCHOR,\n    textStartX: BRAND_QUESTION_TEXT1_START_X,\n    textEndX  : BRAND_QUESTION_TEXT1_END_X,\n    textY     : BRAND_QUESTION_TEXT1_Y,\n    animLength: BRAND_QUESTION_ANIMATION_LENGTH,\n};\n\nconst BRAND_QUESTION_TEXT2_VALUE   = 'что табак для бренда\\nL&M собирается\\nс 4-х континентов?';\nconst BRAND_QUESTION_TEXT2_SIZE    = calcVerticalSize(26) + 'px';\nconst BRAND_QUESTION_TEXT2_WEIGHT  = 'bold';\nconst BRAND_QUESTION_TEXT2_ANCHOR  = 'middle';\nconst BRAND_QUESTION_TEXT2_START_X = viewportWidth;\nconst BRAND_QUESTION_TEXT2_END_X   = viewportWidth / 2;\nconst BRAND_QUESTION_TEXT2_Y       = calcVerticalSize(335);\n\nexport const BRAND_QUESTION_TEXT2_CONFIG = {\n    textValue : BRAND_QUESTION_TEXT2_VALUE,\n    textFill  : BRAND_QUESTION_FILL,\n    textSize  : BRAND_QUESTION_TEXT2_SIZE,\n    textWeight: BRAND_QUESTION_TEXT2_WEIGHT,\n    textAnchor: BRAND_QUESTION_TEXT2_ANCHOR,\n    textStartX: BRAND_QUESTION_TEXT2_START_X,\n    textEndX  : BRAND_QUESTION_TEXT2_END_X,\n    textY     : BRAND_QUESTION_TEXT2_Y,\n    animLength: BRAND_QUESTION_ANIMATION_LENGTH,\n};\n\nconst BRAND_ANSWER_BUTTON1_IMAGE   = 'images/blue-button.webp';\nconst BRAND_ANSWER_BUTTON1_WIDTH   = calcSize(325);\nconst BRAND_ANSWER_BUTTON1_HEIGHT  = calcSize(90);\nconst BRAND_ANSWER_BUTTON1_X       = calcSize(42);\nconst BRAND_ANSWER_BUTTON1_START_Y = viewportHeight;\nconst BRAND_ANSWER_BUTTON1_END_Y   = calcVerticalSize(450);\n\nconst BRAND_ANSWER_TEXT1_VALUE   = 'Нет';\nconst BRAND_ANSWER_TEXT1_SIZE    = calcVerticalSize(30) + 'px';\nconst BRAND_ANSWER_TEXT1_WEIGHT  = 'bold';\nconst BRAND_ANSWER_TEXT1_ANCHOR  = 'middle';\nconst BRAND_ANSWER_TEXT1_X       = viewportWidth / 2;\nconst BRAND_ANSWER_TEXT1_START_Y = viewportHeight + BRAND_ANSWER_BUTTON1_HEIGHT;\nconst BRAND_ANSWER_TEXT1_END_Y   = BRAND_ANSWER_BUTTON1_END_Y - calcVerticalSize(6) + BRAND_ANSWER_BUTTON1_HEIGHT / 2;\n\nexport const BRAND_ANSWER1_CONFIG = {\n    image       : BRAND_ANSWER_BUTTON1_IMAGE,\n    width       : BRAND_ANSWER_BUTTON1_WIDTH,\n    height      : BRAND_ANSWER_BUTTON1_HEIGHT,\n    buttonX     : BRAND_ANSWER_BUTTON1_X,\n    buttonStartY: BRAND_ANSWER_BUTTON1_START_Y,\n    buttonEndY  : BRAND_ANSWER_BUTTON1_END_Y,\n    textValue   : BRAND_ANSWER_TEXT1_VALUE,\n    textFill    : BRAND_QUESTION_FILL,\n    textSize    : BRAND_ANSWER_TEXT1_SIZE,\n    textWeight  : BRAND_ANSWER_TEXT1_WEIGHT,\n    textAnchor  : BRAND_ANSWER_TEXT1_ANCHOR,\n    textX       : BRAND_ANSWER_TEXT1_X,\n    textStartY  : BRAND_ANSWER_TEXT1_START_Y,\n    textEndY    : BRAND_ANSWER_TEXT1_END_Y,\n    animLength  : BRAND_QUESTION_ANIMATION_LENGTH,\n}\n\nconst BRAND_ANSWER_BUTTON2_IMAGE   = 'images/green-button.webp';\nconst BRAND_ANSWER_BUTTON2_WIDTH   = calcSize(325);\nconst BRAND_ANSWER_BUTTON2_HEIGHT  = calcSize(90);\nconst BRAND_ANSWER_BUTTON2_X       = calcSize(42);\nconst BRAND_ANSWER_BUTTON2_START_Y = viewportHeight;\nconst BRAND_ANSWER_BUTTON2_END_Y   = BRAND_ANSWER_BUTTON1_END_Y + BRAND_ANSWER_BUTTON1_HEIGHT;\n\nconst BRAND_ANSWER_TEXT2_VALUE   = 'Да';\nconst BRAND_ANSWER_TEXT2_SIZE    = calcVerticalSize(30) + 'px';\nconst BRAND_ANSWER_TEXT2_WEIGHT  = 'bold';\nconst BRAND_ANSWER_TEXT2_ANCHOR  = 'middle';\nconst BRAND_ANSWER_TEXT2_X       = viewportWidth / 2;\nconst BRAND_ANSWER_TEXT2_START_Y = viewportHeight + BRAND_ANSWER_BUTTON2_HEIGHT;\nconst BRAND_ANSWER_TEXT2_END_Y   = BRAND_ANSWER_BUTTON2_END_Y - calcVerticalSize(6) + BRAND_ANSWER_BUTTON2_HEIGHT / 2;\n\nexport const BRAND_ANSWER2_CONFIG = {\n    image       : BRAND_ANSWER_BUTTON2_IMAGE,\n    width       : BRAND_ANSWER_BUTTON2_WIDTH,\n    height      : BRAND_ANSWER_BUTTON2_HEIGHT,\n    buttonX     : BRAND_ANSWER_BUTTON2_X,\n    buttonStartY: BRAND_ANSWER_BUTTON2_START_Y,\n    buttonEndY  : BRAND_ANSWER_BUTTON2_END_Y,\n    textValue   : BRAND_ANSWER_TEXT2_VALUE,\n    textFill    : BRAND_QUESTION_FILL,\n    textSize    : BRAND_ANSWER_TEXT2_SIZE,\n    textWeight  : BRAND_ANSWER_TEXT2_WEIGHT,\n    textAnchor  : BRAND_ANSWER_TEXT2_ANCHOR,\n    textX       : BRAND_ANSWER_TEXT2_X,\n    textStartY  : BRAND_ANSWER_TEXT2_START_Y,\n    textEndY    : BRAND_ANSWER_TEXT2_END_Y,\n    animLength  : BRAND_QUESTION_ANIMATION_LENGTH,\n}\n","import * as utils from '../utils.js';\n\n\nconst blankArray = [];\nconst slice      = blankArray.slice;\nconst join       = blankArray.join;\n\nconst Ucren = {\n\n    //\n    // [全局属性]\n    //\n\n    // Ucren.isIe\n    isIe: /msie/i.test(navigator.userAgent),\n\n    // Ucren.isIe6\n    isIe6: /msie 6/i.test(navigator.userAgent),\n\n    // Ucren.isFirefox\n    isFirefox: /firefox/i.test(navigator.userAgent),\n\n    // Ucren.isSafari\n    isSafari: /version\\/[\\d.]+\\s+safari/i.test(navigator.userAgent),\n\n    // Ucren.isOpera\n    isOpera: /opera/i.test(navigator.userAgent),\n\n    // Ucren.isChrome\n    isChrome: /chrome/i.test(navigator.userAgent), //todo isChrome = true, isSafari = true\n\n    // Ucren.isStrict\n    isStrict: document.compatMode === 'CSS1Compat',\n\n    // Ucren.tempDom\n    tempDom: document.createElement('div'),\n\n    apply: utils.apply,\n\n    // Ucren.appendStyle\n    appendStyle: function (text) {\n        var style;\n\n        if (arguments.length > 1)\n            text = join.call(arguments, '');\n\n        if (document.createStyleSheet) {\n            style         = document.createStyleSheet();\n            style.cssText = text;\n        } else {\n            style      = document.createElement('style');\n            style.type = 'text/css';\n            //style.innerHTML = text; fix Chrome bug\n            style.appendChild(document.createTextNode(text));\n            document.getElementsByTagName('head')[0].appendChild(style);\n        }\n    },\n\n    // Ucren.addEvent\n    addEvent: function (target, name, fn) {\n        var call = function () {\n            fn.apply(target, arguments);\n        };\n        if (target.dom) {\n            target = target.dom;\n        }\n        if (window.attachEvent) {\n            target.attachEvent('on' + name, call);\n        } else if (window.addEventListener) {\n            target.addEventListener(name, call, false);\n        } else {\n            target['on' + name] = call;\n        }\n        return call;\n    },\n\n    // Ucren.delEvent\n    delEvent: function (target, name, fn) {\n        if (window.detachEvent) {\n            target.detachEvent('on' + name, fn);\n        } else if (window.removeEventListener) {\n            target.removeEventListener(name, fn, false);\n        } else if (target['on' + name] === fn) {\n            target['on' + name] = null;\n        }\n    },\n\n    // Ucren.Class\n    Class: function (initialize, methods, befores, afters) {\n        var fn, prototype, blank;\n        initialize = initialize || function () {\n        };\n        methods    = methods || {};\n        blank      = {};\n        fn         = function () {\n            this.instanceId = Ucren.id();\n            initialize.apply(this, arguments);\n        };\n        prototype  = fn.prototype;\n        Ucren.registerClassEvent.call(prototype);\n        Ucren.each(methods, function (item, key) {\n            prototype[key] = function (method, name) {\n                if (typeof (method) == 'function') {\n                    return function () {\n                        var args, rtn;\n                        args = slice.call(arguments, 0);\n                        if (befores &&\n                            befores.apply(this, [ name ].concat(args)) === false) {\n                            return;\n                        }\n                        this.fireEvent('before' + name, args);\n                        rtn = method.apply(this, args);\n                        if (afters)\n                            afters.apply(this, [ name ].concat(args));\n                        this.fireEvent(name, args);\n                        return rtn;\n                    };\n                } else {\n                    return method;\n                }\n            }(item, key);\n        });\n        prototype.getOriginMethod = function (name) {\n            return methods[name];\n        };\n        return fn;\n    },\n\n    //private\n    registerClassEvent: function () {\n        this.on        = function (name, fn) {\n            var instanceId = this.instanceId;\n            Ucren.dispatch(instanceId + name, fn.bind(this));\n        };\n        this.onbefore  = function (name, fn) {\n            var instanceId = this.instanceId;\n            Ucren.dispatch(instanceId + 'before' + name, fn.bind(this));\n        };\n        this.un        = function (name, fn) {\n            //todo\n        };\n        this.fireEvent = function (name, args) {\n            var instanceId = this.instanceId;\n            Ucren.dispatch(instanceId + name, args);\n        };\n    },\n\n    // Ucren.createFuze\n    createFuze: function () {\n        var queue, fn, infire;\n        queue         = [];\n        fn            = function (process) {\n            if (infire) {\n                process();\n            } else {\n                queue.push(process);\n            }\n        };\n        fn.fire       = function () {\n            while (queue.length) {\n                queue.shift()();\n            }\n            infire = true;\n        };\n        fn.extinguish = function () {\n            infire = false;\n        };\n        fn.wettish    = function () {\n            if (queue.length) {\n                queue.shift()();\n            }\n        };\n        return fn;\n    },\n\n    // Ucren.dispatch\n    dispatch: function () {\n        var map = {}, send, incept;\n\n        send = function (processId, args, scope) {\n            var processItems;\n            if (processItems = map[processId])\n                Ucren.each(processItems, function (item) {\n                    item.apply(scope, args);\n                });\n        };\n\n        incept = function (processId, fn) {\n            if (!map[processId])\n                map[processId] = [];\n            map[processId].push(fn);\n        };\n\n        return function (arg1, arg2, arg3) {\n            if (typeof (arg2) === 'undefined')\n                arg2 = [];\n\n            if (arg2 instanceof Array)\n                send.apply(this, arguments);\n            else if (typeof (arg2) === 'function')\n                incept.apply(this, arguments);\n        }\n    }(),\n\n    each: utils.each,\n\n    // Ucren.Element\n    Element: function (el, returnDom) {\n        var rtn, handleId;\n        if (el && el.isUcrenElement) {\n            return returnDom ? el.dom : el;\n        }\n        el = typeof (el) == 'string' ? document.getElementById(el) : el;\n\n        if (!el)\n            return null;\n\n        if (returnDom)\n            return el;\n\n        handleId = el.getAttribute('handleId');\n        if (typeof handleId == 'string') {\n            return Ucren.handle(handleId - 0);\n        } else {\n            rtn      = new Ucren.BasicElement(el);\n            handleId = Ucren.handle(rtn);\n            el.setAttribute('handleId', handleId + '');\n            return rtn;\n        }\n    },\n\n    // Ucren.Event\n    Event: function (e) {\n        e = e || window.event;\n\n        if (!e) {\n            // Новый способ: проверка текущего стека вызовов\n            var caller = this.caller;\n            while (caller) {\n                // Если это функция обработчика события, получаем событие из её первого аргумента\n                if (caller.arguments && caller.arguments[0] && typeof caller.arguments[0].altKey === 'boolean') {\n                    e = caller.arguments[0];\n                    break;\n                }\n                caller = caller.caller;\n            }\n        }\n\n        return e;\n    },\n\n\n    // Ucren.fixNumber\n    fixNumber: function (unknown, defaultValue) {\n        return typeof (unknown) == 'number' ? unknown : defaultValue;\n    },\n\n    // Ucren.fixString\n    fixString: function (unknown, defaultValue) {\n        return typeof (unknown) == 'string' ? unknown : defaultValue;\n    },\n\n    // Ucren.fixConfig\n    fixConfig: function (conf) {\n        var defaultConf;\n        defaultConf = {};\n        if (typeof conf == 'undefined') {\n            return defaultConf;\n        } else if (typeof conf == 'function') {\n            return new conf;\n        } else {\n            return conf;\n        }\n    },\n\n    // Ucren.handle\n    handle: function handleFunction (unknown) {\n        var fn, type, number;\n        fn = handleFunction;\n        if (!fn.cache) {\n            fn.cache = {};\n        }\n        if (typeof (fn.number) == 'undefined') {\n            fn.number = 0;\n        }\n        type = typeof (unknown);\n        if (type === 'number') {\n            return fn.cache[unknown.toString()];\n        } else if (type === 'object' || type === 'function') {\n            number                      = fn.number++;\n            fn.cache[number.toString()] = unknown;\n            return number;\n        }\n    },\n\n    // Ucren.id\n    id: function idFunction () {\n        idFunction.number = ++idFunction.number || 0;\n        return '_' + idFunction.number;\n    },\n\n    // Ucren.loadImage\n    loadImage: function (urls, onLoadComplete) {\n        var length = urls.length;\n        var loaded = 0;\n        var check  = function () {\n            if (loaded === length)\n                onLoadComplete && onLoadComplete();\n        };\n        Ucren.each(urls, function (url) {\n            var img    = document.createElement('img');\n            img.onload = img.onerror = function () {\n                this.onload = this.onerror = null;\n                loaded++;\n                check();\n            };\n            Ucren.tempDom.appendChild(img);\n            img.src = url;\n        });\n    },\n\n    // Ucren.loadScript\n    loadScript: function (src, callback) {\n        Ucren.request(src, function (text) {\n            eval(text);\n            callback && callback(text);\n        });\n    },\n\n    makeElement: utils.makeElement,\n\n    nul: utils.nul,\n\n    // Ucren.randomNumber\n    randomNumber: function (num) {\n        return Math.floor(Math.random() * num);\n    },\n\n    // Ucren.randomWord\n    randomWord: function () {\n        var cw = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz';\n        return function (length, sourceString) {\n            var words, re = [];\n            words         = sourceString || cw;\n            Ucren.each(length, function (index) {\n                re[index] = words.charAt(this.randomNumber(words.length));\n            }.bind(this));\n            return re.join('');\n        }\n    }(),\n\n    // Ucren.request\n    request: function (url, callback) {\n        var request = Ucren.request;\n        var xhr = request.xhr;\n        if (!request.xhr) {\n            if (window.XMLHttpRequest) {\n                xhr = request.xhr = new XMLHttpRequest();\n            } else {\n                xhr = request.xhr = new ActiveXObject('Microsoft.XMLHTTP');\n            }\n        }\n        xhr.open('GET', url, true);\n        xhr.onreadystatechange = function () {\n            if (xhr.readyState === 4 && xhr.status === 200) {\n                callback(xhr.responseText);\n            }\n        };\n        xhr.send(null);\n    },\n};\n\n//\n// [底层操作类]\n//\n\n// Ucren.BasicDrag\nUcren.BasicDrag = Ucren.Class(\n    /* constructor */ function (conf) {\n        conf      = Ucren.fixConfig(conf);\n        this.type = Ucren.fixString(conf.type, 'normal');\n\n        var isTouch = this.isTouch = 'ontouchstart' in window;\n\n        this.TOUCH_START = isTouch ? 'touchstart' : 'mousedown',\n            this.TOUCH_MOVE = isTouch ? 'touchmove' : 'mousemove',\n            this.TOUCH_END = isTouch ? 'touchend' : 'mouseup';\n    },\n\n    /* methods */ {\n        bind: function (el, handle) {\n            el     = Ucren.Element(el);\n            handle = Ucren.Element(handle) || el;\n\n            var evt = {};\n\n            evt[this.TOUCH_START] = function (e) {\n                e = Ucren.Event(e);\n                this.startDrag();\n                e.cancelBubble = true;\n                e.stopPropagation && e.stopPropagation();\n                return e.returnValue = false;\n            }.bind(this);\n\n            handle.addEvents(evt);\n            this.target = el;\n        },\n\n        //private\n        getCoors: function (e) {\n            var coors = [];\n            if (e.targetTouches && e.targetTouches.length) { \t// iPhone\n                var thisTouch = e.targetTouches[0];\n                coors[0]      = thisTouch.clientX;\n                coors[1]      = thisTouch.clientY;\n            } else { \t\t\t\t\t\t\t\t// all others\n                coors[0] = e.clientX;\n                coors[1] = e.clientY;\n            }\n            return coors;\n        },\n\n        //private\n        startDrag: function () {\n            var target, draging, e;\n            target  = this.target;\n            draging = target.draging = {};\n\n            this.isDraging = true;\n\n            draging.x = parseInt(target.style('left'), 10) || 0;\n            draging.y = parseInt(target.style('top'), 10) || 0;\n\n            e              = Ucren.Event();\n            var coors      = this.getCoors(e);\n            draging.mouseX = coors[0];\n            draging.mouseY = coors[1];\n\n            this.registerDocumentEvent();\n        },\n\n        //private\n        endDrag: function () {\n            this.isDraging = false;\n            this.unRegisterDocumentEvent();\n        },\n\n        //private\n        registerDocumentEvent: function () {\n            var target, draging;\n            target  = this.target;\n            draging = target.draging;\n\n            draging.documentSelectStart =\n                Ucren.addEvent(document, 'selectstart', function (e) {\n                    e = e || event;\n                    e.stopPropagation && e.stopPropagation();\n                    e.cancelBubble = true;\n                    return e.returnValue = false;\n                });\n\n            draging.documentMouseMove =\n                Ucren.addEvent(document, this.TOUCH_MOVE, function (e) {\n                    var ie, nie;\n                    e   = e || event;\n                    ie  = Ucren.isIe && e.button !== 1;\n                    nie = !Ucren.isIe && e.button !== 0;\n                    if ((ie || nie) && !this.isTouch)\n                        this.endDrag();\n                    var coors         = this.getCoors(e);\n                    draging.newMouseX = coors[0];\n                    draging.newMouseY = coors[1];\n                    e.stopPropagation && e.stopPropagation();\n                    return e.returnValue = false;\n                }.bind(this));\n\n            draging.documentMouseUp =\n                Ucren.addEvent(document, this.TOUCH_END, function () {\n                    this.endDrag();\n                }.bind(this));\n\n            clearInterval(draging.timer);\n            draging.timer = setInterval(function () {\n                var x, y, dx, dy;\n                if (draging.newMouseX) {\n                    dx = draging.newMouseX - draging.mouseX;\n                    dy = draging.newMouseY - draging.mouseY;\n                    x  = draging.x + dx;\n                    y  = draging.y + dy;\n                    if (this.type === 'calc') {\n                        this.returnValue(dx, dy, draging.newMouseX, draging.newMouseY);\n                    } else {\n                        target.left(x).top(y);\n                    }\n                }\n            }.bind(this), 10);\n        },\n\n        //private\n        unRegisterDocumentEvent: function () {\n            var draging = this.target.draging;\n            Ucren.delEvent(document, this.TOUCH_MOVE, draging.documentMouseMove);\n            Ucren.delEvent(document, this.TOUCH_END, draging.documentMouseUp);\n            Ucren.delEvent(document, 'selectstart', draging.documentSelectStart);\n            clearInterval(draging.timer);\n        },\n\n        //private\n        returnValue: function (dx, dy, x, y) {\n            //todo something\n        },\n    },\n);\n\n// Ucren.Template\nUcren.Template = Ucren.Class(\n    /* constructor */ function () {\n        this.string = join.call(arguments, '');\n    },\n\n    /* methods */ {\n        apply: function (conf) {\n            return this.string.format(conf);\n        },\n    },\n);\n\n// Ucren.BasicElement\nUcren.BasicElement = Ucren.Class(\n    /* constructor */ function (el) {\n        this.dom          = el;\n        this.countMapping = {};\n    },\n\n    /* methods */ {\n        isUcrenElement: true,\n\n        attr: function (name, value) {\n            if (typeof value == 'string') {\n                this.dom.setAttribute(name, value);\n            } else {\n                return this.dom.getAttribute(name);\n            }\n            return this;\n        },\n\n        style: function (/* unknown1, unknown2 */) {\n            var getStyle = Ucren.isIe ?\n                function (name) {\n                    return this.dom.currentStyle[name];\n                } :\n\n                function (name) {\n                    var style;\n                    style = document.defaultView.getComputedStyle(this.dom, null);\n                    return style.getPropertyValue(name);\n                };\n\n            return function (unknown1, unknown2) {\n                if (typeof unknown1 == 'object') {\n                    Ucren.each(unknown1, function (value, key) {\n                        this[key] = value;\n                    }.bind(this.dom.style));\n                } else if (typeof unknown1 == 'string' && typeof unknown2 == 'undefined') {\n                    return getStyle.call(this, unknown1);\n                } else if (typeof unknown1 == 'string' && typeof unknown2 != 'undefined') {\n                    this.dom.style[unknown1] = unknown2;\n                }\n                return this;\n            };\n        }(),\n\n        hasClass: function (name) {\n            var className = ' ' + this.dom.className + ' ';\n            return className.indexOf(' ' + name + ' ') > -1;\n        },\n\n        setClass: function (name) {\n            if (typeof (name) == 'string')\n                this.dom.className = name.trim();\n            return this;\n        },\n\n        addClass: function (name) {\n            var el, className;\n            el        = this.dom;\n            className = ' ' + el.className + ' ';\n            if (className.indexOf(' ' + name + ' ') === -1) {\n                className += name;\n                className    = className.trim();\n                className    = className.replace(/ +/g, ' ');\n                el.className = className;\n            }\n            return this;\n        },\n\n        delClass: function (name) {\n            var el, className;\n            el        = this.dom;\n            className = ' ' + el.className + ' ';\n            if (className.indexOf(' ' + name + ' ') > -1) {\n                className    = className.replace(' ' + name + ' ', ' ');\n                className    = className.trim();\n                className    = className.replace(/ +/g, ' ');\n                el.className = className;\n            }\n            return this;\n        },\n\n        html: function (html) {\n            var el = this.dom;\n\n            if (typeof html == 'string') {\n                el.innerHTML = html;\n            } else if (html instanceof Array) {\n                el.innerHTML = html.join('');\n            } else {\n                return el.innerHTML;\n            }\n            return this;\n        },\n\n        left: function (number) {\n            var el = this.dom;\n            if (typeof (number) == 'number') {\n                el.style.left = number + 'px';\n                this.fireEvent('infect', [ { left: number } ]);\n            } else {\n                return this.getPos().x;\n            }\n            return this;\n        },\n\n        top: function (number) {\n            var el = this.dom;\n            if (typeof (number) == 'number') {\n                el.style.top = number + 'px';\n                this.fireEvent('infect', [ { top: number } ]);\n            } else {\n                return this.getPos().y;\n            }\n            return this;\n        },\n\n        width: function (unknown) {\n            var el = this.dom;\n            if (typeof unknown == 'number') {\n                el.style.width = unknown + 'px';\n                this.fireEvent('infect', [ { width: unknown } ]);\n            } else if (typeof unknown == 'string') {\n                el.style.width = unknown;\n                this.fireEvent('infect', [ { width: unknown } ]);\n            } else {\n                return this.getSize().width;\n            }\n            return this;\n        },\n\n        height: function (unknown) {\n            var el = this.dom;\n            if (typeof unknown == 'number') {\n                el.style.height = unknown + 'px';\n                this.fireEvent('infect', [ { height: unknown } ]);\n            } else if (typeof unknown == 'string') {\n                el.style.height = unknown;\n                this.fireEvent('infect', [ { height: unknown } ]);\n            } else {\n                return this.getSize().height;\n            }\n            return this;\n        },\n\n        count: function (name) {\n            return this.countMapping[name] = ++this.countMapping[name] || 1;\n        },\n\n        display: function (bool) {\n            var dom = this.dom;\n            if (typeof (bool) == 'boolean') {\n                dom.style.display = bool ? 'block' : 'none';\n                this.fireEvent('infect', [ { display: bool } ]);\n            } else {\n                return this.style('display') !== 'none';\n            }\n            return this;\n        },\n\n        first: function () {\n            var c = this.dom.firstChild;\n            while (c && !c.tagName && c.nextSibling) {\n                c = c.nextSibling;\n            }\n            return c;\n        },\n\n        add: function (dom) {\n            var el;\n            el = Ucren.Element(dom);\n            this.dom.appendChild(el.dom);\n            return this;\n        },\n\n        remove: function (dom) {\n            var el;\n            if (dom) {\n                el = Ucren.Element(dom);\n                el.html('');\n                this.dom.removeChild(el.dom);\n            } else {\n                el = Ucren.Element(this.dom.parentNode);\n                el.remove(this);\n            }\n            return this;\n        },\n\n        insert: function (dom) {\n            var tdom;\n            tdom = this.dom;\n            if (tdom.firstChild) {\n                tdom.insertBefore(dom, tdom.firstChild);\n            } else {\n                this.add(dom);\n            }\n            return this;\n        },\n\n        addEvents: function (conf) {\n            var blank, el, rtn;\n            blank = {};\n            rtn   = {};\n            el    = this.dom;\n            Ucren.each(conf, function (item, key) {\n                rtn[key] = Ucren.addEvent(el, key, item);\n            });\n            return rtn;\n        },\n\n        removeEvents: function (conf) {\n            var blank, el;\n            blank = {};\n            el    = this.dom;\n            Ucren.each(conf, function (item, key) {\n                Ucren.delEvent(el, key, item);\n            });\n            return this;\n        },\n\n        getPos: function () {\n            var el, parentNode, pos, box, offset;\n            el  = this.dom;\n            pos = {};\n\n            if (el.getBoundingClientRect) {\n                box            = el.getBoundingClientRect();\n                offset         = Ucren.isIe ? 2 : 0;\n                var doc        = document;\n                var scrollTop  = Math.max(doc.documentElement.scrollTop,\n                    doc.body.scrollTop);\n                var scrollLeft = Math.max(doc.documentElement.scrollLeft,\n                    doc.body.scrollLeft);\n                return {\n                    x: box.left + scrollLeft - offset,\n                    y: box.top + scrollTop - offset,\n                };\n            } else {\n                pos        = {\n                    x: el.offsetLeft,\n                    y: el.offsetTop,\n                };\n                parentNode = el.offsetParent;\n                if (parentNode !== el) {\n                    while (parentNode) {\n                        pos.x += parentNode.offsetLeft;\n                        pos.y += parentNode.offsetTop;\n                        parentNode = parentNode.offsetParent;\n                    }\n                }\n                if (Ucren.isSafari && this.style('position') === 'absolute') { // safari doubles in some cases\n                    pos.x -= document.body.offsetLeft;\n                    pos.y -= document.body.offsetTop;\n                }\n            }\n\n            if (el.parentNode) {\n                parentNode = el.parentNode;\n            } else {\n                parentNode = null;\n            }\n\n            while (parentNode && parentNode.tagName.toUpperCase() !== 'BODY' &&\n            parentNode.tagName.toUpperCase() !== 'HTML') { // account for any scrolled ancestors\n                pos.x -= parentNode.scrollLeft;\n                pos.y -= parentNode.scrollTop;\n                if (parentNode.parentNode) {\n                    parentNode = parentNode.parentNode;\n                } else {\n                    parentNode = null;\n                }\n            }\n\n            return pos;\n        },\n\n        getSize: function () {\n            var dom     = this.dom;\n            var display = this.style('display');\n\n            if (display && display !== 'none') {\n                return { width: dom.offsetWidth, height: dom.offsetHeight };\n            }\n\n            var style          = dom.style;\n            var originalStyles = {\n                visibility: style.visibility,\n                position  : style.position,\n                display   : style.display,\n            };\n\n            var newStyles = {\n                visibility: 'hidden',\n                display   : 'block',\n            };\n\n            if (originalStyles.position !== 'fixed')\n                newStyles.position = 'absolute';\n\n            this.style(newStyles);\n\n            var dimensions = {\n                width : dom.offsetWidth,\n                height: dom.offsetHeight,\n            };\n\n            this.style(originalStyles);\n\n            return dimensions;\n        },\n\n        observe: function (el, fn) {\n            el = Ucren.Element(el);\n            el.on('infect', fn.bind(this));\n            return this;\n        },\n\n        usePNGbackground: function (image) {\n            var dom;\n            dom = this.dom;\n            if (/\\.png$/i.test(image) && Ucren.isIe6) {\n                dom.style.filter =\n                    'progid:DXImageTransform.Microsoft.AlphaImageLoader(src=\\'' +\n                    image + '\\',sizingMethod=\\'scale\\');';\n                /// \t_background: none;\n                ///  _filter: progid:DXImageTransform.Microsoft.AlphaImageLoader(src='images/pic.png',sizingMethod='scale');\n            } else {\n                dom.style.backgroundImage = 'url(' + image + ')';\n            }\n            return this;\n        },\n\n        setAlpha: function () {\n            var reOpacity = /alpha\\s*\\(\\s*opacity\\s*=\\s*([^)]+)\\)/;\n            return function (value) {\n                var element = this.dom, es = element.style;\n                if (!Ucren.isIe) {\n                    es.opacity = value / 100;\n                    /* }else if(es.filter === \"string\"){ */\n                } else {\n                    if (element.currentStyle && !element.currentStyle.hasLayout)\n                        es.zoom = 1;\n\n                    if (reOpacity.test(es.filter)) {\n                        value     = value >= 99.99 ? '' : ('alpha(opacity=' + value + ')');\n                        es.filter = es.filter.replace(reOpacity, value);\n                    } else {\n                        es.filter += ' alpha(opacity=' + value + ')';\n                    }\n                }\n                return this;\n            };\n        }(),\n\n        fadeIn: function (callback) {\n            if (typeof this.fadingNumber == 'undefined')\n                this.fadingNumber = 0;\n            this.setAlpha(this.fadingNumber);\n\n            var fading = function () {\n                this.setAlpha(this.fadingNumber);\n                if (this.fadingNumber === 100) {\n                    clearInterval(this.fadingInterval);\n                    callback && callback();\n                } else\n                    this.fadingNumber += 10;\n            }.bind(this);\n\n            this.display(true);\n            clearInterval(this.fadingInterval);\n            this.fadingInterval = setInterval(fading, Ucren.isIe ? 20 : 30);\n\n            return this;\n        },\n\n        fadeOut: function (callback) {\n            if (typeof this.fadingNumber == 'undefined')\n                this.fadingNumber = 100;\n            this.setAlpha(this.fadingNumber);\n\n            var fading = function () {\n                this.setAlpha(this.fadingNumber);\n                if (this.fadingNumber === 0) {\n                    clearInterval(this.fadingInterval);\n                    this.display(false);\n                    callback && callback();\n                } else\n                    this.fadingNumber -= 10;\n            }.bind(this);\n\n            clearInterval(this.fadingInterval);\n            this.fadingInterval = setInterval(fading, Ucren.isIe ? 20 : 30);\n\n            return this;\n        },\n\n        useMouseAction: function (className, actions) {\n            /**\n             *  调用示例:  el.useMouseAction(\"xbutton\", \"over,out,down,up\");\n             *  使用效果:  el 会在 \"xbutton xbutton-over\",\"xbutton xbutton-out\",\"xbutton xbutton-down\",\"xbutton xbutton-up\"\n             *             等四个 className 中根据相应的鼠标事件来进行切换。\n             *  特别提示:  useMouseAction 可使用不同参数多次调用。\n             */\n            if (!this.MouseAction)\n                this.MouseAction = new Ucren.MouseAction({ element: this });\n            this.MouseAction.use(className, actions);\n            return this;\n        },\n    },\n);\n\nexport default Ucren;\n","import Ucren from './libs/ucren.js';\nimport { makeElement } from './utils.js';\nimport { LAYERS, FONT_FAMILY } from './config-defaults.js';\nimport viewport from './layout/viewport.js';\n\n\nconst layers            = {};\nconst zIndexes          = {\n    [LAYERS.PRELOAD]       : zi(),\n    [LAYERS.DEFAULT]       : zi(),\n    [LAYERS.FLASH]         : zi(),\n    [LAYERS.JUICE]         : zi(),\n    [LAYERS.FRUIT]         : zi(),\n    [LAYERS.KNIFE]         : zi(),\n    [LAYERS.LIGHT]         : zi(),\n    [LAYERS.MASK]          : zi(),\n    [LAYERS.START_SCREEN]  : zi(),\n    [LAYERS.RESULT_SCREEN] : zi(),\n    [LAYERS.BRAND_QUESTION]: zi(),\n};\nconst { width, height } = viewport;\n\nfunction createImage (layer, src, x, y, w, h, preserveAspectRatio = 'none') {\n    layer = this.getLayer(layer);\n    return layer.image(src, x, y, w, h, preserveAspectRatio);\n}\n\nfunction createText (layer, text, x, y, fill, size, weight = 'normal', textAnchor = 'start') {\n    layer = this.getLayer(layer);\n\n    return layer.text(x, y, text).attr({\n        fill         : fill || '#fff',\n        'font-family': FONT_FAMILY,\n        'font-size'  : size || '14px',\n        'font-weight': weight,\n        'text-anchor': textAnchor,\n    });\n}\n\nfunction getLayer (name) {\n    name  = name || LAYERS.DEFAULT;\n    let p = layers[name], layer;\n\n    if (p) {\n        return p;\n    } else {\n        layer = makeElement('div', {\n            'class'    : 'layer',\n            'data-name': name,\n            'style'    : 'z-index: ' + (zIndexes[name] || 0) + ';',\n        });\n        Ucren.Element('extra').add(layer);\n        p = layers[name] = Raphael(layer, width, height);\n        return p;\n    }\n}\n\nfunction hideLayer (name) {\n    const layer = getLayer(name);\n    layer && layer.canvas && layer.canvas.parentNode && (layer.canvas.parentNode.style.display = 'none');\n}\n\nfunction showLayer (name) {\n    const layer = getLayer(name);\n    layer && layer.canvas && layer.canvas.parentNode && (layer.canvas.parentNode.style.display = 'block');\n}\n\nfunction zi () {\n    return zi.num = ++zi.num || 2;\n}\n\nexport default {\n    createImage,\n    createText,\n    getLayer,\n    hideLayer,\n    showLayer,\n};\n","import { nul } from './utils.js';\n\n\nlet addingTasks = [];\nlet adding      = 0;\nlet tasks       = [];\n\n\nclass Timeline {\n    _requestAnimationFrame = function (glob) {\n        return glob.requestAnimationFrame ||\n            glob.mozRequestAnimationFrame ||\n            glob.webkitRequestAnimationFrame ||\n            glob.msRequestAnimationFrame ||\n            glob.oRequestAnimationFrame || function (callback) {\n                setTimeout(callback, 1);\n            };\n    }(window);\n\n    constructor () {\n        this.startTime = 0;\n        this.count     = 0;\n    }\n\n    now () {\n        return new Date().getTime();\n    }\n\n    init () {\n        this.startTime = this.now();\n        this.count     = 0;\n\n        const time = 1;\n\n        setInterval(() => {\n            this.count++;\n            this.update(this.now());\n        }, time);\n    }\n\n    createTask (conf) {\n        /* e.g. createTask({\n            start: 500, duration: 2000, data: [a, b, c,..],\n            object: module, onTimeUpdate: fn(time, a, b, c,..), onTimeStart: fn(a, b, c,..), onTimeEnd: fn(a, b, c,..),\n            recycle: []\n        }); */\n        const task = this._createTask(conf);\n        addingTasks.unshift(task);\n        adding = 1;\n\n        if (conf.recycle)\n            this.taskList(conf.recycle, task);\n\n        return task;\n    }\n\n    taskList (queue, task) {\n        if (!queue.clear)\n            queue.clear = function () {\n                for (let task, i = this.length - 1; i >= 0; i--) {\n                    task = this[i];\n                    task.stop();\n                    this.splice(i, 1);\n                }\n                return this;\n            };\n\n        if (task)\n            queue.unshift(task);\n\n        return queue;\n    }\n\n    setTimeout (fn, time) {\n        // e.g. setTimeout(fn, time);\n        return this.createTask({ start: time, duration: 0, onTimeStart: fn });\n    }\n\n    _setInterval (fn, time) {\n        // e.g. setInterval(fn, time);\n        const timer = setInterval(fn, time);\n        return {\n            stop: function () {\n                clearInterval(timer);\n            },\n        };\n    }\n\n    getFPS () {\n        const t = this.now(), fps = this.count / (t - this.startTime) * 1e3;\n        if (this.count > 1e3) {\n            this.count     = 0;\n            this.startTime = t;\n        }\n        return fps;\n    }\n\n    _createTask (conf) {\n        const object = conf.object || {};\n        conf.start   = conf.start || 0;\n        return {\n            start       : conf.start + this.now(),\n            duration    : conf.duration === -1 ? 86400000 : conf.duration,\n            data        : conf.data ? [ 0 ].concat(conf.data) : [ 0 ],\n            started     : 0,\n            object      : object,\n            onTimeStart : conf.onTimeStart || object.onTimeStart || nul,\n            onTimeUpdate: conf.onTimeUpdate || object.onTimeUpdate || nul,\n            onTimeEnd   : conf.onTimeEnd || object.onTimeEnd || nul,\n            stop        : function () {\n                this.stopped = 1;\n            },\n        }\n    }\n\n    updateTask (task, time) {\n        const data = task.data;\n        data[0]    = time;\n        task.onTimeUpdate.apply(task.object, data);\n    }\n\n    checkStartTask (task) {\n        if (!task.started) {\n            task.started = 1;\n            task.onTimeStart.apply(task.object, task.data.slice(1));\n            this.updateTask(task, 0);\n        }\n    }\n\n    update (time) {\n        let i = tasks.length, t, task, start, duration;\n\n\n        while (i--) {\n            task     = tasks[i];\n            start    = task.start;\n            duration = task.duration;\n\n            if (time >= start) {\n\n                if (task.stopped) {\n                    tasks.splice(i, 1);\n                    continue;\n                }\n\n                this.checkStartTask(task);\n                if ((t = time - start) < duration) {\n                    this.updateTask(task, t);\n                } else {\n                    this.updateTask(task, duration);\n                    task.onTimeEnd.apply(task.object, task.data.slice(1));\n                    tasks.splice(i, 1);\n                }\n            }\n        }\n\n        if (adding) {\n            tasks.unshift.apply(tasks, addingTasks);\n            addingTasks.length = adding = 0;\n        }\n    }\n}\n\n\nexport default new Timeline();\n","import layer from '../layer.js';\nimport timeline from '../timeline.js';\nimport { MODES } from '../config-defaults.js';\n\n\nclass Displacement {\n    image;\n    anim  = {};\n    anims = [];\n\n    constructor ({ layer, imageSrc, width, height, startX, startY, endX, endY, animMap, duration }) {\n        this.layer    = layer;\n        this.imageSrc = imageSrc;\n        this.width    = width;\n        this.height   = height;\n        this.startX   = startX;\n        this.startY   = startY;\n        this.endX     = endX;\n        this.endY     = endY;\n        if (typeof animMap === 'function') {\n            this.anim.show = this.anim.hide = animMap;\n        } else {\n            this.anim = animMap;\n        }\n        this.duration = duration;\n    }\n\n    createTask (start, duration, sx, sy, ex, ey, anim, mode) {\n        timeline.createTask({\n            start       : start,\n            duration    : duration,\n            object      : this,\n            data        : [ sx, sy, ex, ey, anim, mode ],\n            onTimeUpdate: this.onTimeUpdate,\n            onTimeStart : this.onTimeStart,\n            onTimeEnd   : this.onTimeEnd,\n            recycle     : this.anims,\n        });\n    }\n\n    set () {\n        this.image = layer.createImage(\n            this.layer,\n            this.imageSrc,\n            this.startX,\n            this.startY,\n            this.width,\n            this.height,\n        );\n    }\n\n    show (start) {\n        this.createTask(\n            start,\n            this.duration,\n            this.startX,\n            this.startY,\n            this.endX,\n            this.endY,\n            this.anim.show,\n            MODES.SHOW,\n        );\n    }\n\n    hide () {\n        this.anims.clear();\n        this.createTask(\n            0,\n            this.duration,\n            this.endX,\n            this.endY,\n            this.startX,\n            this.startY,\n            this.anim.hide,\n            MODES.HIDE,\n        );\n    }\n\n    onTimeUpdate (time, sx, sy, ex, ey, anim) {\n        this.image.attr({\n            x: anim(time, sx, ex - sx, this.duration),\n            y: anim(time, sy, ey - sy, this.duration),\n        });\n    }\n\n    onTimeStart () {\n    }\n\n    onTimeEnd (sx, sy, ex, ey, anim) {\n        if (anim === MODES.HIDE) this.image.hide();\n    }\n}\n\n\nclass DisplacementFactory {\n    create (config) {\n        return new Displacement(config);\n    }\n}\n\n\nexport default new DisplacementFactory();\n","import { LAYERS } from '../config-defaults.js';\nimport displacementFactory from './displacement.js';\n\n\nclass Preload {\n    constructor (imageSrc) {\n        displacementFactory.create({\n            layer: LAYERS.PRELOAD,\n            imageSrc,\n        }).set();\n    }\n}\n\n\nclass PreloadFactory {\n    create (imageSrc) {\n        return new Preload(imageSrc);\n    }\n}\n\n\nexport default new PreloadFactory();\n","import { FRUIT_CONFIG, LOSE_CONFIG } from './config-defaults.js';\nimport preloadFactory from './factory/preload.js';\n\nfunction getURLs () {\n    return [\n        Object.values(FRUIT_CONFIG.infos).map(([ src ]) => src),\n        Object.values(FRUIT_CONFIG.cutImages).flat(),\n        FRUIT_CONFIG.shadowImage,\n        LOSE_CONFIG.conf.map(({ src }) => src),\n    ].flat();\n}\n\nfunction preload () {\n    const URLs = getURLs();\n\n    URLs.forEach(preloadFactory.create);\n}\n\nexport default preload;\n","function unsetObject (object) {\n    for (const i in object) {\n        if (object.hasOwnProperty(i) && typeof object[i] == 'function') {\n            object[i] = function () {};\n        }\n    }\n}\n\nfunction getAngleByRadian (radian) {\n    return radian * 180 / Math.PI;\n}\n\nfunction pointToRadian (origin, point) {\n    if (point[0] === origin[0]) {\n        if (point[1] > origin[1]) return Math.PI * 0.5;\n        return Math.PI * 1.5\n    } else if (point[1] === origin[1]) {\n        if (point[0] > origin[0]) return 0;\n        return Math.PI;\n    }\n\n    const t = Math.atan((origin[1] - point[1]) / (origin[0] - point[0]));\n\n    if (point[0] > origin[0] && point[1] < origin[1]) return t + 2 * Math.PI;\n\n    if (point[0] > origin[0] && point[1] > origin[1]) return t;\n\n    return t + Math.PI;\n}\n\nexport default {\n    unsetObject,\n    getAngleByRadian,\n    pointToRadian,\n};\n","import Ucren from './libs/ucren.js';\n\n\nfunction postMessage (message/*, message, message... */, to) {\n    const messages   = [].slice.call(arguments, 0);\n    const splitIndex = messages.length - 1;\n\n    to = messages[splitIndex];\n    messages.slice(0, splitIndex);\n\n    Ucren.dispatch(to, messages);\n}\n\n/**\n * bind a message handler\n * @param {String}   from    message address\n * @param {Function} fn    message handler\n */\nfunction addEventListener (from, fn) {\n    Ucren.dispatch(from, fn);\n}\n\n\nexport default {\n    postMessage,\n    addEventListener,\n};\n","import timeline from './timeline.js';\n\n\nconst stack = {};\nconst cache = {};\n\n\n/**\n * usage:\n * state( key ).is( value )\t\t->\tdetermine if the value of key is the given value\n * state( key ).isnot( value )\t->\tdetermine if the value of key is not given value\n * state( key ).ison()\t\t\t->\tdetermine if the value of key is the boolean value 'true'\n * state( key ).isoff()\t\t\t->\tdetermine if the value of key is the boolean value 'false'\n * state( key ).isunset()\t\t->\tdetermine if the value of key is undefined\n * state( key ).set( value )\t->\tset the value of key to a given value\n * state( key ).get()\t\t\t->\tget the value of key\n * state( key ).on()\t\t\t->\tset the value of key to boolean value 'true'\n * state( key ).off()\t\t\t->\tset the value of key to boolean value 'false'\n */\n\nclass State {\n    constructor (key) {\n        this.key = key;\n    }\n\n    is (value) {\n        return stack[this.key] === value;\n    }\n\n    isnot (value) {\n        return stack[this.key] !== value;\n    }\n\n    ison () {\n        return this.is(true);\n    }\n\n    isoff () {\n        return this.isnot(true);\n    }\n\n    isunset () {\n        return this.is(undefined);\n    }\n\n    set (value) {\n        stack[this.key] = value;\n    }\n\n    get () {\n        return stack[this.key];\n    }\n\n    on () {\n        this.set(true);\n        return {\n            keep: (time) => {\n                timeline.setTimeout(() => this.set(false), time);\n            },\n        };\n    }\n\n    off () {\n        this.set(false);\n        return {\n            keep: (time) => {\n                timeline.setTimeout(() => this.set(true), time);\n            },\n        };\n    }\n}\n\n\nexport default (key) => {\n    if (cache[key]) {\n        return cache[key];\n    }\n    return cache[key] = new State(key);\n};\n","import layer from '../layer.js';\nimport timeline from '../timeline.js';\nimport { LAYERS, KNIFE_PART_CONFIG } from '../config-defaults.js';\n\n\nclass Knifes {\n    _knifes     = [];\n    lastX       = null;\n    lastY       = null;\n    switchState = true;\n\n    _anims = [];\n\n    get anims () {\n        return this._anims;\n    }\n\n    newKnife () {\n        this.lastX = null;\n        this.lastY = null;\n    }\n\n    through (x, y) {\n        if (!this.switchState) return;\n\n        let ret = null;\n\n        if (this.lastX !== null && (this.lastX !== x || this.lastY !== y)) {\n            new KnifePart({\n                sx: this.lastX,\n                sy: this.lastY,\n                ex: x,\n                ey: y,\n            }).set();\n\n            ret = [ this.lastX, this.lastY, x, y ];\n        }\n\n        this.lastX = x;\n        this.lastY = y;\n\n        return ret;\n    }\n\n    pause () {\n        this.anims.clear && this.anims.clear();\n        this.switchOff();\n    }\n\n    switchOff () {\n        this.switchState = false;\n    }\n\n    switchOn () {\n        this.switchState = true;\n        this.endAll();\n    }\n\n    endAll () {\n        for (let i = this._knifes.length - 1; i >= 0; i--) {\n            this._knifes[i].end();\n        }\n    }\n\n    push (knife) {\n        this._knifes.push(knife);\n    }\n\n    indexOf (knife) {\n        return this._knifes.indexOf(knife);\n    }\n\n    splice (index, count) {\n        this._knifes.splice(index, count);\n    }\n}\n\n\nconst knifes = new Knifes();\n\n\nclass KnifePart {\n    color  = KNIFE_PART_CONFIG.color;\n    stroke = KNIFE_PART_CONFIG.stroke;\n    life   = KNIFE_PART_CONFIG.life;\n\n    constructor (config) {\n        this.sx = config.sx;\n        this.sy = config.sy;\n        this.ex = config.ex;\n        this.ey = config.ey;\n\n        knifes.push(this);\n    }\n\n    set () {\n        const knifeLayer = layer.getLayer(LAYERS.KNIFE);\n        let sx, sy, ex, ey, dx, dy, ax, ay;\n\n        sx = this.sx;\n        sy = this.sy;\n        ex = this.ex;\n        ey = this.ey;\n\n        dx = sx - ex;\n        dy = sy - ey;\n        ax = Math.abs(dx);\n        ay = Math.abs(dy);\n\n        if (ax > ay) {\n            sx += dx < 0 ? -1 : 1;\n            sy += dy < 0 ? -(ay / ax) : ay / ax;\n        } else {\n            sx += dx < 0 ? -(ax / ay) : ax / ay;\n            sy += dy < 0 ? -1 : 1;\n        }\n\n        this.line = knifeLayer.path(\n            'M' + sx + ',' + sy + 'L' + ex + ',' + ey,\n        ).attr({\n            'stroke'      : this.color,\n            'stroke-width': this.stroke + 'px',\n        });\n\n        timeline.createTask({\n            start       : 0,\n            duration    : this.life,\n            object      : this,\n            onTimeUpdate: this.update,\n            onTimeEnd   : this.end,\n            recycle     : knifes.anims,\n        });\n\n        return this;\n    }\n\n    update (time) {\n        this.line.attr(\n            'stroke-width',\n            this.stroke * (1 - time / this.life) + 'px',\n        );\n    }\n\n    end () {\n        this.line.remove();\n\n        const index = knifes.indexOf(this);\n        if (index) knifes.splice(index, 1);\n    }\n}\n\n\nexport default knifes;\n","import Ucren from './libs/ucren.js';\nimport message from './message.js';\nimport knifes from './object/knifes.js';\nimport { MESSAGES, INTERACTION_MODE, INTERACTION_MODES } from './config-defaults.js';\nimport viewport from './layout/viewport.js';\n\n\nconst { width: viewportWidth, height: viewportHeight } = viewport;\n\n\nclass Control {\n    canvasTop  = 0;\n    canvasLeft = 0;\n\n    init () {\n        this.fixCanvasPos();\n        this.installDragger();\n    }\n\n    fix = () => {\n        this.canvasLeft = (document.documentElement.clientWidth - viewportWidth) / 2;\n        this.canvasTop  = (document.documentElement.clientHeight - viewportHeight) / 2;\n    };\n\n    fixCanvasPos () {\n        this.fix();\n        Ucren.addEvent(window, 'resize', this.fix);\n    }\n\n    dragHandler = (dx, dy, x, y, kf) => {\n        const posX = x - this.canvasLeft;\n        const posY = y - this.canvasTop;\n\n        if (INTERACTION_MODE === INTERACTION_MODES.SLICE) {\n            const throughResult = knifes.through(posX, posY);\n            if (throughResult) message.postMessage(throughResult, MESSAGES.SLICE);\n        } else if (INTERACTION_MODE === INTERACTION_MODES.TOUCH) {\n            message.postMessage([ posX, posY ], MESSAGES.TOUCH);\n        }\n    };\n\n    startDragHandler = () => {\n        knifes.newKnife();\n    };\n\n    installDragger () {\n        const dragger = new Ucren.BasicDrag({ type: 'calc' });\n\n        dragger.on('returnValue', this.dragHandler);\n\n        dragger.on('startDrag', this.startDragHandler);\n\n        dragger.bind(document.documentElement);\n    }\n}\n\n\nexport default new Control();\n","export function exponential (){}\nexponential.co = function co (index, offset, target, framesNum){ return (index == framesNum) ? offset + target : target * (-Math.pow(2, -10 * index / framesNum) + 1) + offset; };\nexponential.ci = function ci (index, offset, target, framesNum){ return (index == 0) ? offset : target * Math.pow(2, 10 * (index / framesNum - 1)) + offset; }\n\nexport function bounce (){}\nbounce.co = function co (index, offset, target, framesNum){ if((index /= framesNum) < (1 / 2.75)) return target * (7.5625 * index * index) + offset; else if(index < (2 / 2.75)) return target * (7.5625 * (index -= (1.5 / 2.75)) * index + .75) + offset; else if(index < (2.5 / 2.75)) return target * (7.5625 * (index -= (2.25 / 2.75)) * index + .9375) + offset; else return target * (7.5625 * (index -= (2.625 / 2.75)) * index + .984375) + offset; };\n\nexport function quadratic (){}\nquadratic.ci = function ci (index, offset, target, framesNum){ return target * (index /= framesNum) * index + offset; };\nquadratic.co = function co (index, offset, target, framesNum){ return - target * (index /= framesNum) * (index - 2) + offset; };\nquadratic.cio = function cio (index, offset, target, framesNum){ if((index /= framesNum / 2) < 1) return target / 2 * index * index + offset; else return - target / 2 * ((-- index) * (index - 2) - 1) + offset; };\n\nexport function circular (index, offset, target, framesNum){ if((index /= framesNum / 2) < 1) return - target / 2 * (Math.sqrt(1 - index * index) - 1) + offset; else return target / 2 * (Math.sqrt(1 - (index -= 2) * index) + 1) + offset; }\nexport function linear (index, offset, target, framesNum){ return target * index / framesNum + offset; }\n\nexport function back (){}\nback.ci = function ci (index, offset, target, framesNum, s){ s = 1.70158; return target * ((index = index / framesNum - 1) * index * ((s + 1) * index + s) + 1) + offset; };\nback.co = function co (index, offset, target, framesNum, s){ s = 1.70158; return target * (index /= framesNum) * index * ((s + 1) * index - s) + offset; };\n","// ----------------------------------------------------------------------------\n// Buzz, a Javascript HTML5 Audio library\n// v 1.0.x beta\n// Licensed under the MIT license.\n// http://buzz.jaysalvat.com/\n// ----------------------------------------------------------------------------\n// Copyright (C) 2011 Jay Salvat\n// http://jaysalvat.com/\n// ----------------------------------------------------------------------------\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files ( the \"Software\" ), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n// ----------------------------------------------------------------------------\n\n\nfunction init () {\n    const buzz = {\n        defaults: {\n            autoplay   : false,\n            duration   : 5000,\n            formats    : [],\n            loop       : false,\n            placeholder: '--',\n            preload    : 'metadata',\n            volume     : 80,\n        },\n        types   : {\n            'mp3': 'audio/mpeg',\n            'ogg': 'audio/ogg',\n            'wav': 'audio/wav',\n            'aac': 'audio/aac',\n            'm4a': 'audio/x-m4a',\n        },\n        sounds  : [],\n        el      : document.createElement('audio'),\n\n        sound: function (src, options) {\n            options = options || {};\n\n            let pid        = 0,\n                events     = [],\n                eventsOnce = {},\n                supported  = buzz.isSupported();\n\n            // publics\n            this.load = function () {\n                if (!supported) {\n                    return this;\n                }\n\n                this.sound.load();\n                return this;\n            };\n\n            this.play = function () {\n                if (!supported) {\n                    return this;\n                }\n\n                this.sound.play().catch(console.warn);\n                return this;\n            };\n\n            this.togglePlay = function () {\n                if (!supported) {\n                    return this;\n                }\n\n                if (this.sound.paused) {\n                    this.sound.play().catch(console.warn);\n                } else {\n                    this.sound.pause();\n                }\n                return this;\n            };\n\n            this.pause = function () {\n                if (!supported) {\n                    return this;\n                }\n\n                this.sound.pause();\n                return this;\n            };\n\n            this.isPaused = function () {\n                if (!supported) {\n                    return null;\n                }\n\n                return this.sound.paused;\n            };\n\n            this.stop = function () {\n                if (!supported) {\n                    return this;\n                }\n\n                this.setTime(this.getDuration());\n                this.sound.pause();\n                return this;\n            };\n\n            this.isEnded = function () {\n                if (!supported) {\n                    return null;\n                }\n\n                return this.sound.ended;\n            };\n\n            this.loop = function () {\n                if (!supported) {\n                    return this;\n                }\n\n                this.sound.loop = 'loop';\n                this.bind('ended.buzzloop', function () {\n                    this.currentTime = 0;\n                    this.play();\n                });\n                return this;\n            };\n\n            this.unloop = function () {\n                if (!supported) {\n                    return this;\n                }\n\n                this.sound.removeAttribute('loop');\n                this.unbind('ended.buzzloop');\n                return this;\n            };\n\n            this.mute = function () {\n                if (!supported) {\n                    return this;\n                }\n\n                this.sound.muted = true;\n                return this;\n            };\n\n            this.unmute = function () {\n                if (!supported) {\n                    return this;\n                }\n\n                this.sound.muted = false;\n                return this;\n            };\n\n            this.toggleMute = function () {\n                if (!supported) {\n                    return this;\n                }\n\n                this.sound.muted = !this.sound.muted;\n                return this;\n            };\n\n            this.isMuted = function () {\n                if (!supported) {\n                    return null;\n                }\n\n                return this.sound.muted;\n            };\n\n            this.setVolume = function (volume) {\n                if (!supported) {\n                    return this;\n                }\n\n                if (volume < 0) {\n                    volume = 0;\n                }\n                if (volume > 100) {\n                    volume = 100;\n                }\n\n                this.volume       = volume;\n                this.sound.volume = volume / 100;\n                return this;\n            };\n\n            this.getVolume = function () {\n                if (!supported) {\n                    return this;\n                }\n\n                return this.volume;\n            };\n\n            this.increaseVolume = function (value) {\n                return this.setVolume(this.volume + (value || 1));\n            };\n\n            this.decreaseVolume = function (value) {\n                return this.setVolume(this.volume - (value || 1));\n            };\n\n            this.setTime = function (time) {\n                if (!supported) {\n                    return this;\n                }\n\n                this.whenReady(function () {\n                    this.sound.currentTime = time;\n                });\n                return this;\n            };\n\n            this.getTime = function () {\n                if (!supported) {\n                    return null;\n                }\n\n                const time = Math.round(this.sound.currentTime * 100) / 100;\n                return isNaN(time) ? buzz.defaults.placeholder : time;\n            };\n\n            this.setPercent = function (percent) {\n                if (!supported) {\n                    return this;\n                }\n\n                return this.setTime(buzz.fromPercent(percent, this.sound.duration));\n            };\n\n            this.getPercent = function () {\n                if (!supported) {\n                    return null;\n                }\n\n                const percent = Math.round(buzz.toPercent(this.sound.currentTime, this.sound.duration));\n                return isNaN(percent) ? buzz.defaults.placeholder : percent;\n            };\n\n            this.setSpeed = function (duration) {\n                if (!supported) {\n                    return this;\n                }\n\n                this.sound.playbackRate = duration;\n            };\n\n            this.getSpeed = function () {\n                if (!supported) {\n                    return null;\n                }\n\n                return this.sound.playbackRate;\n            };\n\n            this.getDuration = function () {\n                if (!supported) {\n                    return null;\n                }\n\n                const duration = Math.round(this.sound.duration * 100) / 100;\n                return isNaN(duration) ? buzz.defaults.placeholder : duration;\n            };\n\n            this.getPlayed = function () {\n                if (!supported) {\n                    return null;\n                }\n\n                return timerangeToArray(this.sound.played);\n            };\n\n            this.getBuffered = function () {\n                if (!supported) {\n                    return null;\n                }\n\n                return timerangeToArray(this.sound.buffered);\n            };\n\n            this.getSeekable = function () {\n                if (!supported) {\n                    return null;\n                }\n\n                return timerangeToArray(this.sound.seekable);\n            };\n\n            this.getErrorCode = function () {\n                if (supported && this.sound.error) {\n                    return this.sound.error.code;\n                }\n                return 0;\n            };\n\n            this.getErrorMessage = function () {\n                if (!supported) {\n                    return null;\n                }\n\n                switch (this.getErrorCode()) {\n                    case 1:\n                        return 'MEDIA_ERR_ABORTED';\n                    case 2:\n                        return 'MEDIA_ERR_NETWORK';\n                    case 3:\n                        return 'MEDIA_ERR_DECODE';\n                    case 4:\n                        return 'MEDIA_ERR_SRC_NOT_SUPPORTED';\n                    default:\n                        return null;\n                }\n            };\n\n            this.getStateCode = function () {\n                if (!supported) {\n                    return null;\n                }\n\n                return this.sound.readyState;\n            };\n\n            this.getStateMessage = function () {\n                if (!supported) {\n                    return null;\n                }\n\n                switch (this.getStateCode()) {\n                    case 0:\n                        return 'HAVE_NOTHING';\n                    case 1:\n                        return 'HAVE_METADATA';\n                    case 2:\n                        return 'HAVE_CURRENT_DATA';\n                    case 3:\n                        return 'HAVE_FUTURE_DATA';\n                    case 4:\n                        return 'HAVE_ENOUGH_DATA';\n                    default:\n                        return null;\n                }\n            };\n\n            this.getNetworkStateCode = function () {\n                if (!supported) {\n                    return null;\n                }\n\n                return this.sound.networkState;\n            };\n\n            this.getNetworkStateMessage = function () {\n                if (!supported) {\n                    return null;\n                }\n\n                switch (this.getNetworkStateCode()) {\n                    case 0:\n                        return 'NETWORK_EMPTY';\n                    case 1:\n                        return 'NETWORK_IDLE';\n                    case 2:\n                        return 'NETWORK_LOADING';\n                    case 3:\n                        return 'NETWORK_NO_SOURCE';\n                    default:\n                        return null;\n                }\n            };\n\n            this.set = function (key, value) {\n                if (!supported) {\n                    return this;\n                }\n\n                this.sound[key] = value;\n                return this;\n            };\n\n            this.get = function (key) {\n                if (!supported) {\n                    return null;\n                }\n\n                return key ? this.sound[key] : this.sound;\n            };\n\n            this.bind = function (types, func) {\n                if (!supported) {\n                    return this;\n                }\n\n                types = types.split(' ');\n\n                const that  = this,\n                      efunc = function (e) {\n                          func.call(that, e);\n                      };\n\n                for (let t = 0; t < types.length; t++) {\n                    let type = types[t],\n                        idx  = type;\n                    type     = idx.split('.')[0];\n\n                    events.push({ idx: idx, func: efunc });\n                    this.sound.addEventListener(type, efunc, true);\n                }\n                return this;\n            };\n\n            this.unbind = function (types) {\n                if (!supported) {\n                    return this;\n                }\n\n                types = types.split(' ');\n\n                for (let t = 0; t < types.length; t++) {\n                    const idx  = types[t],\n                          type = idx.split('.')[0];\n\n                    for (let i = 0; i < events.length; i++) {\n                        const namespace = events[i].idx.split('.');\n                        if (events[i].idx === idx || (namespace[1] && namespace[1] === idx.replace('.', ''))) {\n                            this.sound.removeEventListener(type, events[i].func, true);\n                            // remove event\n                            events.splice(i, 1);\n                        }\n                    }\n                }\n                return this;\n            };\n\n            this.bindOnce = function (type, func) {\n                if (!supported) {\n                    return this;\n                }\n\n                const that = this;\n\n                eventsOnce[pid++] = false;\n                this.bind(pid + type, function () {\n                    if (!eventsOnce[pid]) {\n                        eventsOnce[pid] = true;\n                        func.call(that);\n                    }\n                    that.unbind(pid + type);\n                });\n            };\n\n            this.trigger = function (types) {\n                if (!supported) {\n                    return this;\n                }\n\n                types = types.split(' ');\n\n                for (let t = 0; t < types.length; t++) {\n                    const idx = types[t];\n\n                    for (let i = 0; i < events.length; i++) {\n                        const eventType = events[i].idx.split('.');\n                        if (events[i].idx === idx || (eventType[0] && eventType[0] === idx.replace('.', ''))) {\n                            const evt = document.createEvent('HTMLEvents');\n                            evt.initEvent(eventType[0], false, true);\n                            this.sound.dispatchEvent(evt);\n                        }\n                    }\n                }\n                return this;\n            };\n\n            this.fadeTo = function (to, duration, callback) {\n                if (!supported) {\n                    return this;\n                }\n\n                if (duration instanceof Function) {\n                    callback = duration;\n                    duration = buzz.defaults.duration;\n                } else {\n                    duration = duration || buzz.defaults.duration;\n                }\n\n                const from  = this.volume,\n                      delay = duration / Math.abs(from - to),\n                      that  = this;\n                this.play();\n\n                function doFade () {\n                    setTimeout(function () {\n                        if (from < to && that.volume < to) {\n                            that.setVolume(that.volume += 1);\n                            doFade();\n                        } else if (from > to && that.volume > to) {\n                            that.setVolume(that.volume -= 1);\n                            doFade();\n                        } else if (callback instanceof Function) {\n                            callback.apply(that);\n                        }\n                    }, delay);\n                }\n\n                this.whenReady(function () {\n                    doFade();\n                });\n\n                return this;\n            };\n\n            this.fadeIn = function (duration, callback) {\n                if (!supported) {\n                    return this;\n                }\n\n                return this.setVolume(0).fadeTo(100, duration, callback);\n            };\n\n            this.fadeOut = function (duration, callback) {\n                if (!supported) {\n                    return this;\n                }\n\n                return this.fadeTo(0, duration, callback);\n            };\n\n            this.fadeWith = function (sound, duration) {\n                if (!supported) {\n                    return this;\n                }\n\n                this.fadeOut(duration, function () {\n                    this.stop();\n                });\n\n                sound.play().fadeIn(duration);\n\n                return this;\n            };\n\n            this.whenReady = function (func) {\n                if (!supported) {\n                    return null;\n                }\n\n                const that = this;\n                if (this.sound.readyState === 0) {\n                    this.bind('canplay.buzzwhenready', function () {\n                        func.call(that);\n                    });\n                } else {\n                    func.call(that);\n                }\n            };\n\n            // privates\n            function timerangeToArray (timeRange) {\n                const array  = [],\n                      length = timeRange.length - 1;\n\n                for (let i = 0; i <= length; i++) {\n                    array.push({\n                        start: timeRange.start(length),\n                        end  : timeRange.end(length),\n                    });\n                }\n                return array;\n            }\n\n            function getExt (filename) {\n                return filename.split('.').pop();\n            }\n\n            function addSource (sound, src) {\n                const source = document.createElement('source');\n                source.src = src;\n                if (buzz.types[getExt(src)]) {\n                    source.type = buzz.types[getExt(src)];\n                }\n                sound.appendChild(source);\n            }\n\n            // init\n            if (supported && src) {\n\n                for (const i in buzz.defaults) {\n                    if (buzz.defaults.hasOwnProperty(i)) {\n                        options[i] = options[i] || buzz.defaults[i];\n                    }\n                }\n\n                this.sound = document.createElement('audio');\n\n                if (src instanceof Array) {\n                    for (const j in src) {\n                        if (src.hasOwnProperty(j)) {\n                            addSource(this.sound, src[j]);\n                        }\n                    }\n                } else if (options.formats.length) {\n                    for (const k in options.formats) {\n                        if (options.formats.hasOwnProperty(k)) {\n                            addSource(this.sound, src + '.' + options.formats[k]);\n                        }\n                    }\n                } else {\n                    addSource(this.sound, src);\n                }\n\n                if (options.loop) {\n                    this.loop();\n                }\n\n                if (options.autoplay) {\n                    this.sound.autoplay = 'autoplay';\n                }\n\n                if (options.preload === true) {\n                    this.sound.preload = 'auto';\n                } else if (options.preload === false) {\n                    this.sound.preload = 'none';\n                } else {\n                    this.sound.preload = options.preload;\n                }\n\n                this.setVolume(options.volume);\n\n                buzz.sounds.push(this);\n            }\n        },\n\n        group: function (sounds) {\n            sounds = argsToArray(sounds, arguments);\n\n            // public\n            this.getSounds = function () {\n                return sounds;\n            };\n\n            this.add = function (soundArray) {\n                soundArray = argsToArray(soundArray, arguments);\n                for (let a = 0; a < soundArray.length; a++) {\n                    sounds.push(soundArray[a]);\n                }\n            };\n\n            this.remove = function (soundArray) {\n                soundArray = argsToArray(soundArray, arguments);\n                for (let a = 0; a < soundArray.length; a++) {\n                    for (let i = 0; i < sounds.length; i++) {\n                        if (sounds[i] == soundArray[a]) {\n                            delete sounds[i];\n                            break;\n                        }\n                    }\n                }\n            };\n\n            this.load = function () {\n                fn('load');\n                return this;\n            };\n\n            this.play = function () {\n                fn('play');\n                return this;\n            };\n\n            this.togglePlay = function () {\n                fn('togglePlay');\n                return this;\n            };\n\n            this.pause = function (time) {\n                fn('pause', time);\n                return this;\n            };\n\n            this.stop = function () {\n                fn('stop');\n                return this;\n            };\n\n            this.mute = function () {\n                fn('mute');\n                return this;\n            };\n\n            this.unmute = function () {\n                fn('unmute');\n                return this;\n            };\n\n            this.toggleMute = function () {\n                fn('toggleMute');\n                return this;\n            };\n\n            this.setVolume = function (volume) {\n                fn('setVolume', volume);\n                return this;\n            };\n\n            this.increaseVolume = function (value) {\n                fn('increaseVolume', value);\n                return this;\n            };\n\n            this.decreaseVolume = function (value) {\n                fn('decreaseVolume', value);\n                return this;\n            };\n\n            this.loop = function () {\n                fn('loop');\n                return this;\n            };\n\n            this.unloop = function () {\n                fn('unloop');\n                return this;\n            };\n\n            this.setTime = function (time) {\n                fn('setTime', time);\n                return this;\n            };\n\n            this.setduration = function (duration) {\n                fn('setduration', duration);\n                return this;\n            };\n\n            this.set = function (key, value) {\n                fn('set', key, value);\n                return this;\n            };\n\n            this.bind = function (type, func) {\n                fn('bind', type, func);\n                return this;\n            };\n\n            this.unbind = function (type) {\n                fn('unbind', type);\n                return this;\n            };\n\n            this.bindOnce = function (type, func) {\n                fn('bindOnce', type, func);\n                return this;\n            };\n\n            this.trigger = function (type) {\n                fn('trigger', type);\n                return this;\n            };\n\n            this.fade = function (from, to, duration, callback) {\n                fn('fade', from, to, duration, callback);\n                return this;\n            };\n\n            this.fadeIn = function (duration, callback) {\n                fn('fadeIn', duration, callback);\n                return this;\n            };\n\n            this.fadeOut = function (duration, callback) {\n                fn('fadeOut', duration, callback);\n                return this;\n            };\n\n            // privates\n            function fn () {\n                const args = argsToArray(null, arguments),\n                      func = args.shift();\n\n                for (let i = 0; i < sounds.length; i++) {\n                    sounds[i][func].apply(sounds[i], args);\n                }\n            }\n\n            function argsToArray (array, args) {\n                return (array instanceof Array) ? array : Array.prototype.slice.call(args);\n            }\n        },\n\n        all: function () {\n            return new buzz.group(buzz.sounds);\n        },\n\n        isSupported: function () {\n            return !!buzz.el.canPlayType;\n        },\n\n        isOGGSupported: function () {\n            return !!buzz.el.canPlayType && buzz.el.canPlayType('audio/ogg; codecs=\"vorbis\"');\n        },\n\n        isWAVSupported: function () {\n            return !!buzz.el.canPlayType && buzz.el.canPlayType('audio/wav; codecs=\"1\"');\n        },\n\n        isMP3Supported: function () {\n            return !!buzz.el.canPlayType && buzz.el.canPlayType('audio/mpeg;');\n        },\n\n        isAACSupported: function () {\n            return !!buzz.el.canPlayType && (buzz.el.canPlayType('audio/x-m4a;') || buzz.el.canPlayType('audio/aac;'));\n        },\n\n        toTimer: function (time, withHours) {\n            let h, m, s;\n            h = Math.floor(time / 3600);\n            h = isNaN(h) ? '--' : (h >= 10) ? h : '0' + h;\n            m = withHours ? Math.floor(time / 60 % 60) : Math.floor(time / 60);\n            m = isNaN(m) ? '--' : (m >= 10) ? m : '0' + m;\n            s = Math.floor(time % 60);\n            s = isNaN(s) ? '--' : (s >= 10) ? s : '0' + s;\n            return withHours ? h + ':' + m + ':' + s : m + ':' + s;\n        },\n\n        fromTimer: function (time) {\n            const splits = time.toString().split(':');\n            if (splits && splits.length === 3) {\n                time = (parseInt(splits[0], 10) * 3600) + (parseInt(splits[1], 10) * 60) + parseInt(splits[2], 10);\n            }\n            if (splits && splits.length === 2) {\n                time = (parseInt(splits[0], 10) * 60) + parseInt(splits[1], 10);\n            }\n            return time;\n        },\n\n        toPercent: function (value, total, decimal) {\n            const r = Math.pow(10, decimal || 0);\n\n            return Math.round(((value * 100) / total) * r) / r;\n        },\n\n        fromPercent: function (percent, total, decimal) {\n            const r = Math.pow(10, decimal || 0);\n\n            return Math.round(((total / 100) * percent) * r) / r;\n        },\n    };\n\n    return buzz;\n}\n\nexport default init();\n","const VIBRATION_PATTERNS = {\n    DEFAULT     : [ 100 ],\n    SOUND_BUTTON: [ 30 ],\n    FRUIT       : [ 30 ],\n    GAME_OVER   : [ 10, 0, 10, 0, 100, 0, 600 ],\n    BOOM        : [ 10, 0, 10, 0, 100, 0, 600, 0, 10, 0, 10, 0, 100, 0, 400 ],\n};\n\n\nclass Vibration {\n    vibrate (pattern = VIBRATION_PATTERNS.DEFAULT) {\n        navigator.vibrate && navigator.vibrate(pattern);\n    }\n\n    soundButton () {\n        this.vibrate(VIBRATION_PATTERNS.SOUND_BUTTON);\n    }\n\n    fruit () {\n        this.vibrate(VIBRATION_PATTERNS.FRUIT);\n    }\n\n    gameOver () {\n        this.vibrate(VIBRATION_PATTERNS.GAME_OVER);\n    }\n\n    boom () {\n        this.vibrate(VIBRATION_PATTERNS.BOOM);\n    }\n}\n\n\nexport default new Vibration();\n","import layer from '../layer.js';\nimport tween from '../libs/tween/index.js';\nimport timeline from '../timeline.js';\nimport message from '../message.js';\nimport vibration from './vibration.js';\nimport { HOME_TEXT_CONFIG, LAYERS, SOUND_BUTTON_CONFIG, MODES, MESSAGES } from '../config-defaults.js';\n\n\nclass SoundButton {\n    startText;\n    gameText;\n    resultText;\n    startSoundButton;\n    gameSoundButton;\n    resultSoundButton;\n    startGroup;\n    gameGroup;\n    resultGroup;\n    anims = [];\n    anim  = tween.exponential.co;\n    isOn = false;\n\n    set () {\n        this.startSoundButton = layer.createImage(\n            LAYERS.START_SCREEN,\n            this.isOn ? SOUND_BUTTON_CONFIG.imageOn : SOUND_BUTTON_CONFIG.imageOff,\n            SOUND_BUTTON_CONFIG.imageX,\n            SOUND_BUTTON_CONFIG.imageStartY,\n            SOUND_BUTTON_CONFIG.imageWidth,\n            SOUND_BUTTON_CONFIG.imageHeight,\n        ).hide();\n\n        this.startText = layer.createText(\n            LAYERS.START_SCREEN,\n            this.isOn ? SOUND_BUTTON_CONFIG.textValueOff : SOUND_BUTTON_CONFIG.textValueOn,\n            SOUND_BUTTON_CONFIG.textX,\n            SOUND_BUTTON_CONFIG.textStartY,\n            SOUND_BUTTON_CONFIG.textFill,\n            SOUND_BUTTON_CONFIG.textSize,\n            SOUND_BUTTON_CONFIG.textWeight,\n            SOUND_BUTTON_CONFIG.textAnchor,\n        );\n\n        this.startGroup = layer.getLayer(LAYERS.START_SCREEN).set();\n        this.startGroup.push(this.startSoundButton, this.startText);\n\n        this.startGroup.click(() => {\n            this.toggle();\n            message.postMessage(null, MESSAGES.TOGGLE_SOUND);\n            vibration.soundButton();\n        });\n\n        this.gameSoundButton = layer.createImage(\n            LAYERS.FRUIT,\n            this.isOn ? SOUND_BUTTON_CONFIG.imageOn : SOUND_BUTTON_CONFIG.imageOff,\n            SOUND_BUTTON_CONFIG.imageX,\n            SOUND_BUTTON_CONFIG.imageStartY,\n            SOUND_BUTTON_CONFIG.imageWidth,\n            SOUND_BUTTON_CONFIG.imageHeight,\n        ).hide();\n\n        this.gameText = layer.createText(\n            LAYERS.FRUIT,\n            this.isOn ? SOUND_BUTTON_CONFIG.textValueOff : SOUND_BUTTON_CONFIG.textValueOn,\n            SOUND_BUTTON_CONFIG.textX,\n            SOUND_BUTTON_CONFIG.textStartY,\n            SOUND_BUTTON_CONFIG.textFill,\n            SOUND_BUTTON_CONFIG.textSize,\n            SOUND_BUTTON_CONFIG.textWeight,\n            SOUND_BUTTON_CONFIG.textAnchor,\n        );\n\n        this.gameGroup = layer.getLayer(LAYERS.FRUIT).set();\n        this.gameGroup.push(this.gameSoundButton, this.gameText);\n\n        this.gameGroup.click(() => {\n            this.toggle();\n            message.postMessage(null, MESSAGES.TOGGLE_SOUND);\n            vibration.soundButton();\n        });\n\n        this.resultSoundButton = layer.createImage(\n            LAYERS.RESULT_SCREEN,\n            this.isOn ? SOUND_BUTTON_CONFIG.imageOn : SOUND_BUTTON_CONFIG.imageOff,\n            SOUND_BUTTON_CONFIG.imageX,\n            SOUND_BUTTON_CONFIG.imageStartY,\n            SOUND_BUTTON_CONFIG.imageWidth,\n            SOUND_BUTTON_CONFIG.imageHeight,\n        ).hide();\n\n        this.resultText = layer.createText(\n            LAYERS.RESULT_SCREEN,\n            this.isOn ? SOUND_BUTTON_CONFIG.textValueOff : SOUND_BUTTON_CONFIG.textValueOn,\n            SOUND_BUTTON_CONFIG.textX,\n            SOUND_BUTTON_CONFIG.textStartY,\n            SOUND_BUTTON_CONFIG.textFill,\n            SOUND_BUTTON_CONFIG.textSize,\n            SOUND_BUTTON_CONFIG.textWeight,\n            SOUND_BUTTON_CONFIG.textAnchor,\n        );\n\n        this.resultGroup = layer.getLayer(LAYERS.START_SCREEN).set();\n        this.resultGroup.push(this.resultSoundButton, this.resultText);\n\n        this.resultGroup.click(() => {\n            this.toggle();\n            message.postMessage(null, MESSAGES.TOGGLE_SOUND);\n            vibration.soundButton();\n        });\n    }\n\n    show (start) {\n        timeline.createTask({\n            start,\n            duration: SOUND_BUTTON_CONFIG.animLength,\n            data    : [\n                MODES.SHOW,\n                SOUND_BUTTON_CONFIG.imageStartY,\n                SOUND_BUTTON_CONFIG.imageHomeEndY,\n                SOUND_BUTTON_CONFIG.textStartY,\n                SOUND_BUTTON_CONFIG.textHomeEndY,\n            ],\n            object  : this,\n            onTime  : this.onTimeUpdate,\n            recycle : this.anims,\n        });\n    }\n\n    hide (start) {\n        timeline.createTask({\n            start       : start,\n            duration: SOUND_BUTTON_CONFIG.animLength,\n            data    : [\n                MODES.SHOW,\n                SOUND_BUTTON_CONFIG.imageHomeEndY,\n                SOUND_BUTTON_CONFIG.imageStartY,\n                SOUND_BUTTON_CONFIG.textHomeEndY,\n                SOUND_BUTTON_CONFIG.textStartY,\n            ],\n            object  : this,\n            onTime  : this.onTimeUpdate,\n            recycle : this.anims,\n        });\n    }\n\n    showHomeSoundButton (start) {\n        timeline.createTask({\n            start       : start,\n            duration: SOUND_BUTTON_CONFIG.animLength,\n            data    : [\n                MODES.SHOW,\n                SOUND_BUTTON_CONFIG.imageStartY,\n                SOUND_BUTTON_CONFIG.imageHomeEndY,\n                SOUND_BUTTON_CONFIG.textStartY,\n                SOUND_BUTTON_CONFIG.textHomeEndY,\n            ],\n            object  : this,\n            onTime  : this.onTimeUpdate,\n            recycle : this.anims,\n        });\n    }\n\n    showResultSoundButton (start) {\n        timeline.createTask({\n            start       : start,\n            duration: SOUND_BUTTON_CONFIG.animLength,\n            data    : [\n                MODES.SHOW,\n                SOUND_BUTTON_CONFIG.imageStartY,\n                SOUND_BUTTON_CONFIG.imageResultEndY,\n                SOUND_BUTTON_CONFIG.textStartY,\n                SOUND_BUTTON_CONFIG.textResultEndY,\n            ],\n            object  : this,\n            onTime  : this.onTimeUpdate,\n            recycle : this.anims,\n        });\n    }\n\n    showGameSoundButton (start) {\n        timeline.createTask({\n            start       : start,\n            duration: SOUND_BUTTON_CONFIG.animLength,\n            data    : [\n                MODES.SHOW,\n                SOUND_BUTTON_CONFIG.imageStartY,\n                SOUND_BUTTON_CONFIG.imageGameEndY,\n                SOUND_BUTTON_CONFIG.textStartY,\n                SOUND_BUTTON_CONFIG.textGameEndY,\n            ],\n            object  : this,\n            onTime  : this.onTimeUpdate,\n            recycle : this.anims,\n        });\n    }\n\n    hideHomeSoundButton (start) {\n        timeline.createTask({\n            start       : start,\n            duration: SOUND_BUTTON_CONFIG.animLength,\n            data    : [\n                MODES.HIDE,\n                SOUND_BUTTON_CONFIG.imageHomeEndY,\n                SOUND_BUTTON_CONFIG.imageStartY,\n                SOUND_BUTTON_CONFIG.textHomeEndY,\n                SOUND_BUTTON_CONFIG.textStartY,\n            ],\n            object  : this,\n            onTime  : this.onTimeUpdate,\n            recycle : this.anims,\n        });\n    }\n\n    hideResultSoundButton (start) {\n        timeline.createTask({\n            start       : start,\n            duration: SOUND_BUTTON_CONFIG.animLength,\n            data    : [\n                MODES.HIDE,\n                SOUND_BUTTON_CONFIG.imageResultEndY,\n                SOUND_BUTTON_CONFIG.imageStartY,\n                SOUND_BUTTON_CONFIG.textResultEndY,\n                SOUND_BUTTON_CONFIG.textStartY,\n            ],\n            object  : this,\n            onTime  : this.onTimeUpdate,\n            recycle : this.anims,\n        });\n    }\n\n    hideGameSoundButton (start) {\n        timeline.createTask({\n            start       : start,\n            duration: SOUND_BUTTON_CONFIG.animLength,\n            data    : [\n                MODES.HIDE,\n                SOUND_BUTTON_CONFIG.imageGameEndY,\n                SOUND_BUTTON_CONFIG.imageStartY,\n                SOUND_BUTTON_CONFIG.textGameEndY,\n                SOUND_BUTTON_CONFIG.textStartY,\n            ],\n            object  : this,\n            onTime  : this.onTimeUpdate,\n            recycle : this.anims,\n        });\n    }\n\n    onTimeUpdate (time, mode, bsy, bey, tsy, tey) {\n        this.startSoundButton.attr('y', this.anim(time, bsy, bey - bsy, HOME_TEXT_CONFIG.animLength));\n        this.startText.attr('y', this.anim(time, tsy, tey - tsy, HOME_TEXT_CONFIG.animLength));\n        this.gameSoundButton.attr('y', this.anim(time, bsy, bey - bsy, HOME_TEXT_CONFIG.animLength));\n        this.gameText.attr('y', this.anim(time, tsy, tey - tsy, HOME_TEXT_CONFIG.animLength));\n        this.resultSoundButton.attr('y', this.anim(time, bsy, bey - bsy, HOME_TEXT_CONFIG.animLength));\n        this.resultText.attr('y', this.anim(time, tsy, tey - tsy, HOME_TEXT_CONFIG.animLength));\n    }\n\n    onTimeStart (mode) {\n        if (mode === MODES.SHOW) [\n            this.startSoundButton,\n            this.startText,\n            this.gameSoundButton,\n            this.gameText,\n            this.resultSoundButton,\n            this.resultText\n        ].invoke(mode);\n    }\n\n    onTimeEnd (mode) {\n        if (mode === MODES.HIDE) [\n            this.startSoundButton,\n            this.startText,\n            this.gameSoundButton,\n            this.gameText,\n            this.resultSoundButton,\n            this.resultText\n        ].invoke(mode);\n    }\n\n    toggle () {\n        this.isOn ? this.off() : this.on();\n    }\n\n    on () {\n        this.startText.attr('text', SOUND_BUTTON_CONFIG.textValueOff);\n        this.startSoundButton.attr('src', SOUND_BUTTON_CONFIG.imageOn);\n        this.gameText.attr('text', SOUND_BUTTON_CONFIG.textValueOff);\n        this.gameSoundButton.attr('src', SOUND_BUTTON_CONFIG.imageOn);\n        this.resultText.attr('text', SOUND_BUTTON_CONFIG.textValueOff);\n        this.resultSoundButton.attr('src', SOUND_BUTTON_CONFIG.imageOn);\n        this.isOn = true;\n    }\n\n    off () {\n        this.startText.attr('text', SOUND_BUTTON_CONFIG.textValueOn);\n        this.startSoundButton.attr('src', SOUND_BUTTON_CONFIG.imageOff);\n        this.gameText.attr('text', SOUND_BUTTON_CONFIG.textValueOn);\n        this.gameSoundButton.attr('src', SOUND_BUTTON_CONFIG.imageOff);\n        this.resultText.attr('text', SOUND_BUTTON_CONFIG.textValueOn);\n        this.resultSoundButton.attr('src', SOUND_BUTTON_CONFIG.imageOff);\n        this.isOn = false;\n    }\n}\n\n\nexport default new SoundButton();\n","import buzz from '../libs/buzz.js';\nimport soundButton from '../object/sound-button.js';\n\n\nclass Sound {\n    constructor (src) {\n        this.sound = new buzz.sound(src, { formats: [ \"ogg\", \"mp3\" ], preload: true, autoload: true, loop: false });\n    }\n\n    play () {\n        this.sound.setPercent(0);\n        this.sound.setVolume(100);\n        soundButton.isOn && this.sound.play();\n    }\n\n    stop () {\n        if (soundButton.isOn) {\n            this.sound.fadeOut(1000, function () {\n                this.pause();\n            });\n        } else {\n            this.sound.stop();\n        }\n    }\n}\n\nclass SoundFactory {\n    create (src) {\n        return new Sound(src);\n    }\n}\n\nexport default new SoundFactory();\n","import tween from '../libs/tween/index.js';\nimport layer from '../layer.js';\nimport timeline from '../timeline.js';\nimport soundFactory from '../factory/sound.js';\nimport { LAYERS, FLASH_CONFIG } from '../config-defaults.js';\n\n\nclass Flash {\n    image;\n    snd;\n    xDiff    = 0;\n    yDiff    = 0;\n    switchOn = true;\n    anim     = tween.quadratic.cio;\n    anims    = [];\n    dur      = FLASH_CONFIG.duration;\n\n    set () {\n        if (!this.switchOn) return false;\n\n        this.image = layer.createImage(\n            LAYERS.FLASH,\n            FLASH_CONFIG.image,\n            0,\n            0,\n            FLASH_CONFIG.width,\n            FLASH_CONFIG.height,\n        ).hide();\n\n        this.snd = soundFactory.create('sound/splatter');\n    }\n\n    showAt (x, y, an) {\n        if (!this.switchOn) return false;\n\n        this.image && this.image.rotate(\n            an,\n            true,\n        ).scale(\n            1e-5,\n            1e-5,\n        ).attr({\n            x: x + this.xDiff,\n            y: y + this.yDiff,\n        }).show();\n\n        this.anims.clear && this.anims.clear();\n\n        this.snd && this.snd.play();\n\n        timeline.createTask({\n            start       : 0,\n            duration    : this.dur,\n            data        : [ 1e-5, 1 ],\n            object      : this,\n            onTimeUpdate: this.onTimeUpdate,\n            recycle     : this.anims,\n        });\n\n        timeline.createTask({\n            start       : this.dur,\n            duration    : this.dur,\n            data        : [ 1, 1e-5 ],\n            object      : this,\n            onTimeUpdate: this.onTimeUpdate,\n            recycle     : this.anims,\n        });\n    }\n\n    onTimeUpdate (time, a, b, z) {\n        if (!this.switchOn) return false;\n\n        this.image.scale(\n            z = this.anim(\n                time,\n                a,\n                b - a,\n                this.dur,\n            ),\n            z,\n        );\n    }\n}\n\n\nexport default new Flash();\n","import timeline from '../timeline.js';\nimport layer from '../layer.js';\nimport tween from '../libs/tween/index.js';\nimport tools from '../tools.js';\nimport { randomNumber } from '../utils.js';\nimport { LAYERS, JUICE_CONFIG } from '../config-defaults.js';\n\n\nclass Juice {\n    dur      = JUICE_CONFIG.duration;\n    anim     = tween.exponential.co;\n    dropAnim = tween.quadratic.co;\n    shape;\n    figure;\n\n    constructor (x, y, color, shape = JUICE_CONFIG.shapes.CIRCLE) {\n        this.originX  = x;\n        this.originY  = y;\n        this.color    = color;\n        this.radius   = JUICE_CONFIG.radius;\n        this.distance = randomNumber(200) + 100;\n        this.dir      = randomNumber(360) * Math.PI / 180;\n        this.shape    = shape;\n    }\n\n    render () {\n        const paper = layer.getLayer(LAYERS.JUICE);\n\n        if (this.shape === JUICE_CONFIG.shapes.CIRCLE) {\n            this.figure = paper.circle(\n                this.originX,\n                this.originY,\n                this.radius,\n            ).attr({\n                fill  : this.color,\n                stroke: 'none',\n            });\n        } else if (this.shape === JUICE_CONFIG.shapes.SQUARE) {\n            this.figure = paper.rect(\n                this.originX - this.radius,\n                this.originY - this.radius,\n                this.radius * 2,\n                this.radius * 2,\n            ).attr({\n                fill  : this.color,\n                stroke: 'none',\n            });\n        } else if (this.shape === JUICE_CONFIG.shapes.DIAMOND) {\n            const starPath = this.createStarPath(this.originX, this.originY, this.radius, 4);\n            this.figure    = paper.path(starPath).attr({\n                fill  : this.color,\n                stroke: 'none',\n            });\n        } else if (this.shape === JUICE_CONFIG.shapes.STAR) {\n            const starPath = this.createStarPath(this.originX, this.originY, this.radius, 5);\n            this.figure    = paper.path(starPath).attr({\n                fill  : this.color,\n                stroke: 'none',\n            });\n        }\n    }\n\n    createStarPath (cx, cy, r, points) {\n        const step = Math.PI / points;\n        let path   = '';\n        for (let i = 0; i < 2 * points; i++) {\n            const angle  = i * step;\n            const radius = i % 2 === 0 ? r : r / 2;\n            const x      = cx + radius * Math.sin(angle);\n            const y      = cy - radius * Math.cos(angle);\n            path += i === 0 ? `M ${ x } ${ y }` : `L ${ x } ${ y }`;\n        }\n        path += 'Z';\n        return path;\n    }\n\n    sputter () {\n        timeline.createTask({\n            start       : 0,\n            duration    : this.dur,\n            object      : this,\n            onTimeUpdate: this.onTimeUpdate,\n            onTimeEnd   : this.onTimeEnd,\n        });\n    }\n\n    onTimeUpdate (time) {\n        const distance = this.anim(time, 0, this.distance, this.dur);\n        const x        = this.originX + distance * Math.cos(this.dir);\n        const y        = this.originY + distance * Math.sin(this.dir) + this.dropAnim(time, 0, 200, this.dur);\n        const z        = this.anim(time, 1, -1, this.dur);\n\n        if (this.shape === JUICE_CONFIG.shapes.CIRCLE) {\n            this.figure.attr({ cx: x, cy: y }).scale(z, z);\n        } else if (this.shape === JUICE_CONFIG.shapes.SQUARE) {\n            this.figure.attr({ x: x - this.radius * z, y: y - this.radius * z }).scale(z, z);\n        } else if (this.shape === JUICE_CONFIG.shapes.DIAMOND) {\n            this.figure.attr({ path: this.createStarPath(x, y, this.radius * z, 4) }).scale(z, z);\n        } else if (this.shape === JUICE_CONFIG.shapes.STAR) {\n            this.figure.attr({ path: this.createStarPath(x, y, this.radius * z, 5) }).scale(z, z);\n        }\n    }\n\n    onTimeEnd () {\n        this.figure.remove();\n        tools.unsetObject(this);\n    }\n}\n\n\nclass JuiceFactory {\n    num = JUICE_CONFIG.number;\n\n    create (x, y, color) {\n        for (let i = 0; i < this.num; i++) {\n            this.createOne(x, y, color);\n        }\n    }\n\n    createOne = function (x, y, color) {\n        if (!color) return;\n\n        const juice = new Juice(x, y, color, JUICE_CONFIG.shape);\n        juice.render();\n        juice.sputter();\n    }\n}\n\n\nexport default new JuiceFactory();\n","import { calcSize } from '../layout/calc-size.js';\nimport control from '../control.js';\nimport tween from '../libs/tween/index.js';\nimport layer from '../layer.js';\nimport message from '../message.js';\nimport flash from '../object/flash.js';\nimport timeline from '../timeline.js';\nimport juiceFactory from './juice.js';\nimport { randomNumber } from '../utils.js';\nimport { FRUIT_CONFIG, LAYERS, MESSAGES, MODES, DEBUG_MODE, IS_TOUCH } from '../config-defaults.js';\nimport viewport from '../layout/viewport.js';\n\n\nconst { height: viewportHeight } = viewport;\nconst average                    = function (a, b) {\n    return ((a + b) / 2) >> 0;\n};\n\n\nclass Fruit {\n    image;\n    shadow;\n    zoomAnim              = tween.exponential.co;\n    linearAnim            = tween.linear;\n    dropAnim              = tween.quadratic.ci;\n    fallOffAnim           = tween.quadratic.co;\n    rotateSpeed           = [ 60, 50, 40, -40, -50, -60 ];\n    brokend               = false;\n    apartAngle            = 0;\n    aparted               = false;\n    shotOutStartX;\n    shotOutStartY;\n    shotOutEndX;\n    shotOutEndY;\n    fallOffToX;\n    fallTargetX;\n    fallTargetY;\n    brokenPosX;\n    brokenPosY;\n    brokenTargetX1;\n    brokenTargetY1;\n    brokenTargetX2;\n    brokenTargetY2;\n    bImage1RotateAngle;\n    bImage2RotateAngle;\n    fallOutOfViewerCalled = false;\n    fallOffing            = false;\n    type;\n\n    shotOut = (() => {\n        const sign = [ -1, 1 ];\n\n        return (start, endX) => {\n            this.shotOutStartX = this.originX;\n            this.shotOutStartY = this.originY;\n            this.shotOutEndX   = average(this.originX, endX);\n            this.shotOutEndY   = Math.min(this.startY - randomNumber(this.startY - 100), 200);\n            this.fallOffToX    = endX;\n\n            timeline.createTask({\n                start       : start,\n                duration    : FRUIT_CONFIG.dropTime,\n                object      : this,\n                onTimeUpdate: this.onShotOuting,\n                onTimeStart : this.onShotOutStart,\n                onTimeEnd   : this.onShotOutEnd,\n                recycle     : this.anims,\n            });\n\n            if (this.type !== FRUIT_CONFIG.types.BOOM) this.rotate(0, (randomNumber(180) + 90) * sign[randomNumber(2)]);\n\n            return this;\n        };\n    })();\n\n    fallOff = (() => {\n        const sign    = [ -1, 1 ];\n        let signIndex = 0;\n\n        return (start, x) => {\n            if (this.aparted || this.brokend) return;\n\n            this.fallOffing = 1;\n\n            const y = viewportHeight + calcSize(120);\n\n            if (typeof x !== 'number') x = this.originX + randomNumber(FRUIT_CONFIG.dropXScope) * sign[(signIndex++) % 2];\n\n            this.fallTargetX = x;\n            this.fallTargetY = y;\n\n            timeline.createTask({\n                start       : start,\n                duration    : FRUIT_CONFIG.dropTime,\n                object      : this,\n                onTimeUpdate: this.onFalling,\n                onTimeStart : this.onFallStart,\n                onTimeEnd   : this.onFallEnd,\n                recycle     : this.anims,\n            });\n        }\n    })();\n\n    constructor (conf) {\n        const info   = FRUIT_CONFIG.infos[conf.type];\n        const radius = info[3];\n\n        this.type    = conf.type;\n        this.originX = conf.originX;\n        this.originY = conf.originY;\n        this.radius  = radius;\n        this.startX  = conf.originX;\n        this.startY  = conf.originY;\n        this.anims   = [];\n    }\n\n    set (hide) {\n        const inf    = FRUIT_CONFIG.infos[this.type];\n        const radius = this.radius;\n\n        this.shadow = layer.createImage(\n            LAYERS.FRUIT,\n            FRUIT_CONFIG.shadowImage,\n            this.startX - radius,\n            this.startY - radius + FRUIT_CONFIG.shadowPos,\n            106,\n            77,\n        );\n\n        this.image = layer.createImage(\n            LAYERS.FRUIT,\n            inf[0],\n            this.startX - radius,\n            this.startY - radius,\n            inf[1],\n            inf[2],\n        );\n\n        IS_TOUCH && this.addClickHandler();\n\n        if (this.type === FRUIT_CONFIG.types.BOOM) {\n            this.image.rotate(inf[4]);\n        }\n\n        if (hide) {\n            this.image.hide();\n            this.shadow.hide();\n        }\n\n        DEBUG_MODE && this.showDebugCatchArea();\n\n        return this;\n    }\n\n    clickHandler = (event) => {\n        const posX = event.clientX - control.canvasLeft;\n        const posY = event.clientY - control.canvasTop;\n        message.postMessage([ posX, posY ], MESSAGES.TOUCH);\n    };\n\n    addClickHandler () {\n        this.image.node.addEventListener('click', this.clickHandler);\n    }\n\n    removeClickHandler () {\n        this.image.node.removeEventListener('click', this.clickHandler);\n    }\n\n    showDebugCatchArea () {\n        const { originX, originY, radius } = this;\n\n        this.debugArea = this.image.paper.circle(originX, originY, radius).attr({\n            stroke            : 'red',\n            'stroke-width'    : 2,\n            'stroke-dasharray': '- ',\n            opacity           : 0.5,\n        });\n\n        this.debugArea.insertBefore(this.image);\n    }\n\n    pos (x, y) {\n        const r      = this.radius;\n        this.originX = x;\n        this.originY = y;\n\n        this.image.attr({ x: x -= r, y: y -= r });\n        this.shadow.attr({ x: x, y: y + FRUIT_CONFIG.shadowPos });\n        DEBUG_MODE && this.debugArea.attr({ cx: x + r, cy: y + r });\n\n        if (this.fallOffing && !this.fallOutOfViewerCalled && y > viewportHeight + this.radius) {\n            this.fallOutOfViewerCalled = 1;\n            message.postMessage(this, MESSAGES.FRUIT_FALL_OUT_OF_VIEWER);\n        }\n    }\n\n    show (start) {\n        timeline.createTask({\n            start       : start,\n            duration    : 500,\n            data        : [ 1e-5, 1, MODES.SHOW ],\n            object      : this,\n            onTimeUpdate: this.onScaling,\n            onTimeStart : this.onShowStart,\n            recycle     : this.anims,\n        });\n    }\n\n    hide (start) {\n        if (this.type !== FRUIT_CONFIG.types.BOOM) return;\n\n        this.anims.clear();\n\n        timeline.createTask({\n            start       : start,\n            duration    : 500,\n            data        : [ 1, 1e-5, MODES.HIDE ],\n            object      : this,\n            onTimeUpdate: this.onScaling,\n            onTimeEnd   : this.onHideEnd,\n            recycle     : this.anims,\n        });\n    }\n\n    rotate (start, speed) {\n        this.rotateSpeed = speed || this.rotateSpeed[randomNumber(6)];\n        timeline.createTask({\n            start       : start,\n            duration    : -1,\n            object      : this,\n            onTimeUpdate: this.onRotating,\n            recycle     : this.anims,\n        });\n    }\n\n    broken (angle) {\n        if (this.brokend) return;\n\n        this.brokend = true;\n\n        const index = FruitFactory.fruitCache.indexOf(this);\n        if (index > -1) FruitFactory.fruitCache.splice(index, 1);\n\n        if (this.type !== FRUIT_CONFIG.types.BOOM) {\n            flash.showAt(this.originX, this.originY, angle);\n            juiceFactory.create(this.originX, this.originY, FRUIT_CONFIG.infos[this.type][6]);\n            this.apart(angle);\n        } else {\n            this.hide();\n        }\n    }\n\n    pause () {\n        if (this.brokend) return;\n\n        this.anims.clear();\n    }\n\n    apart (angle) {\n        this.anims.clear();\n        this.image.hide();\n        this.shadow.hide();\n        this.aparted = true;\n\n        const inf       = FRUIT_CONFIG.infos[this.type];\n        const cutImages = FRUIT_CONFIG.cutImages[this.type];\n        const radius    = this.radius;\n        const create    = layer.createImage.saturate(\n            layer,\n            this.startX - radius,\n            this.startY - radius,\n            inf[1],\n            inf[2],\n        );\n\n        angle = ((angle % 180) + 360 + inf[4]) % 360;\n\n        this.bImage1 = create(LAYERS.FRUIT, cutImages[0]);\n        this.bImage2 = create(LAYERS.FRUIT, cutImages[1]);\n\n        [ this.bImage1, this.bImage2 ].invoke('rotate', angle);\n\n        this.apartAngle = angle;\n\n        timeline.createTask({\n            start       : 0,\n            duration    : FRUIT_CONFIG.dropTime,\n            object      : this,\n            onTimeUpdate: this.onBrokenDropUpdate,\n            onTimeStart : this.onBrokenDropStart,\n            onTimeEnd   : this.onBrokenDropEnd,\n            recycle     : this.anims,\n        });\n\n        this.debugArea && this.debugArea.remove();\n    }\n\n    remove () {\n        IS_TOUCH && this.removeClickHandler();\n\n        this.anims.clear();\n\n        if (this.image) {\n            this.image.remove();\n            this.shadow.remove();\n            this.debugArea && this.debugArea.remove();\n        }\n\n        if (this.bImage1) {\n            this.bImage1.remove();\n            this.bImage2.remove();\n        }\n\n        const index = FruitFactory.fruitCache.indexOf(this);\n        if (index > -1) FruitFactory.fruitCache.splice(index, 1);\n\n        for (const name in this) {\n            if (typeof this[name] === 'function') {\n                this[name] = function (name) {\n                    return function () {\n                        throw new Error('method ' + name + ' has been removed');\n                    };\n                }(name);\n            } else {\n                delete this[name];\n            }\n        }\n\n        message.postMessage(this, MESSAGES.FRUIT_REMOVE);\n    }\n\n    onShowStart () {\n        this.image.show();\n        this.shadow.show();\n    }\n\n    onScaling (time, a, b, z) {\n        this.image.scale(z = this.zoomAnim(time, a, b - a, 500), z);\n        this.shadow.scale(z, z);\n    }\n\n    onHideEnd () {\n        this.remove();\n    }\n\n    onRotating (time) {\n        this.image.rotate((this.rotateSpeed * time / 1e3) % 360, true);\n    }\n\n    onBrokenDropUpdate (time) {\n        const radius = this.radius;\n        this.bImage1.attr({\n            x: this.linearAnim(time, this.brokenPosX - radius, this.brokenTargetX1, FRUIT_CONFIG.dropTime),\n            y: this.dropAnim(time, this.brokenPosY - radius, this.brokenTargetY1 - this.brokenPosY + radius, FRUIT_CONFIG.dropTime),\n        }).rotate(this.linearAnim(time, this.apartAngle, this.bImage1RotateAngle, FRUIT_CONFIG.dropTime), true);\n        this.bImage2.attr({\n            x: this.linearAnim(time, this.brokenPosX - radius, this.brokenTargetX2, FRUIT_CONFIG.dropTime),\n            y: this.dropAnim(time, this.brokenPosY - radius, this.brokenTargetY2 - this.brokenPosY + radius, FRUIT_CONFIG.dropTime),\n        }).rotate(this.linearAnim(time, this.apartAngle, this.bImage2RotateAngle, FRUIT_CONFIG.dropTime), true);\n    }\n\n    onBrokenDropStart () {\n        this.brokenTargetX1     = -(randomNumber(FRUIT_CONFIG.dropXScope) + 75);\n        this.brokenTargetX2     = randomNumber(FRUIT_CONFIG.dropXScope + 75);\n        this.brokenTargetY1     = 600;\n        this.brokenTargetY2     = 600;\n        this.brokenPosX         = this.originX;\n        this.brokenPosY         = this.originY;\n        this.bImage1RotateAngle = -randomNumber(150) - 50;\n        this.bImage2RotateAngle = randomNumber(150) + 50;\n\n        for (let i = FruitFactory.fruitCache.length - 1; i >= 0; i--) {\n            if (FruitFactory.fruitCache[i] === this) {\n                FruitFactory.fruitCache.splice(i, 1);\n            }\n        }\n    }\n\n    onBrokenDropEnd () {\n        this.remove();\n    }\n\n    onShotOuting (time) {\n        this.pos(\n            this.linearAnim(time, this.shotOutStartX, this.shotOutEndX - this.shotOutStartX, FRUIT_CONFIG.dropTime),\n            this.fallOffAnim(time, this.shotOutStartY, this.shotOutEndY - this.shotOutStartY, FRUIT_CONFIG.dropTime),\n        );\n    }\n\n    onShotOutStart () {\n    }\n\n    onShotOutEnd () {\n        this.fallOff(0, this.fallOffToX);\n    }\n\n    onFalling (time) {\n        this.pos(\n            this.linearAnim(time, this.brokenPosX, this.fallTargetX - this.brokenPosX, FRUIT_CONFIG.dropTime),\n            this.dropAnim(time, this.brokenPosY, this.fallTargetY - this.brokenPosY, FRUIT_CONFIG.dropTime),\n        );\n    }\n\n    onFallStart () {\n        this.brokenPosX = this.originX;\n        this.brokenPosY = this.originY;\n    }\n\n    onFallEnd () {\n        message.postMessage(this, MESSAGES.FRUIT_FALL_OFF);\n        this.remove();\n    }\n}\n\n\nclass FruitFactory {\n    static fruitCache = [];\n    types             = [\n        FRUIT_CONFIG.types.PEACH,\n        FRUIT_CONFIG.types.SANDIA,\n        FRUIT_CONFIG.types.APPLE,\n        FRUIT_CONFIG.types.BANANA,\n        FRUIT_CONFIG.types.BASAHA,\n    ];\n\n    create (originX, originY) {\n        const fruit = new Fruit({\n            type   : this.getType(),\n            originX: originX,\n            originY: originY,\n        }).set();\n\n        FruitFactory.fruitCache.unshift(fruit);\n\n        return fruit;\n    }\n\n    getType () {\n        if (randomNumber(8) === 4) return FRUIT_CONFIG.types.BOOM;\n        else return this.types[randomNumber(5)];\n    }\n\n    getFruitInView () {\n        return FruitFactory.fruitCache;\n    }\n}\n\n\nexport default new FruitFactory();\n","import fruitFactory from './factory/fruit.js';\n\n\nclass Collide {\n    checkSlice (knifePath) {\n        const collidedFruits = [];\n        let index            = 0;\n\n        fruitFactory.getFruitInView().forEach(fruit => {\n            const isColliding = this.isLineIntersectingEllipse(\n                knifePath.slice(0, 2),\n                knifePath.slice(2, 4),\n                [ fruit.originX, fruit.originY ],\n                fruit.radius,\n            );\n            if (isColliding) collidedFruits[index++] = fruit;\n        });\n        return collidedFruits;\n    }\n\n    checkTouch (position) {\n        const collidedFruits = [];\n        let index            = 0;\n\n        fruitFactory.getFruitInView().forEach(fruit => {\n            const isColliding = this.isPointInsideEllipse(\n                position,\n                [ fruit.originX, fruit.originY ],\n                fruit.radius,\n            );\n            if (isColliding) collidedFruits[index++] = fruit;\n        });\n        return collidedFruits;\n    }\n\n    isPointInsideEllipse(point, center, radius) {\n        const dx = point[0] - center[0];\n        const dy = point[1] - center[1];\n        return (dx * dx + dy * dy) <= (radius * radius);\n    }\n\n    isLineIntersectingEllipse (startPoint, endPoint, ellipseCenter, radius, eccentricity = 1) {\n        const intersectionPoints = this.calculateLineEllipseIntersections(\n            startPoint,\n            endPoint,\n            ellipseCenter,\n            radius,\n            eccentricity,\n        );\n        return intersectionPoints && (intersectionPoints[0] || intersectionPoints[1]);\n    }\n\n    calculateLineEllipseIntersections (startPoint, endPoint, ellipseCenter, radius, eccentricity = 1) {\n        if (radius <= 0) return;\n\n        const semiMajorAxis = radius;\n        const semiMinorAxis = radius * eccentricity;\n\n        const quadraticA =\n            this.square(semiMinorAxis) * this.square(startPoint[0] - endPoint[0]) +\n            this.square(semiMajorAxis) * this.square(startPoint[1] - endPoint[1]);\n\n        if (quadraticA <= 0) return;\n\n        const quadraticB =\n            2 * this.square(semiMinorAxis) * (endPoint[0] - startPoint[0]) * (startPoint[0] - ellipseCenter[0]) +\n            2 * this.square(semiMajorAxis) * (endPoint[1] - startPoint[1]) * (startPoint[1] - ellipseCenter[1]);\n\n        const quadraticC =\n              this.square(semiMinorAxis) * this.square(startPoint[0] - ellipseCenter[0]) +\n              this.square(semiMajorAxis) * this.square(startPoint[1] - ellipseCenter[1]) -\n              this.square(semiMajorAxis) * this.square(semiMinorAxis);\n\n        const roots = this.solveQuadraticEquation(quadraticA, quadraticB, quadraticC);\n\n        if (!roots) return;\n\n        const intersectionPoints = [\n            [\n                startPoint[0] + roots[0] * (endPoint[0] - startPoint[0]),\n                startPoint[1] + roots[0] * (endPoint[1] - startPoint[1]),\n            ],\n            [\n                startPoint[0] + roots[1] * (endPoint[0] - startPoint[0]),\n                startPoint[1] + roots[1] * (endPoint[1] - startPoint[1]),\n            ],\n        ];\n\n        if (!this.isPointOnSegment(intersectionPoints[0], startPoint, endPoint)) {\n            intersectionPoints[0] = null;\n        }\n\n        if (!this.isPointOnSegment(intersectionPoints[1], startPoint, endPoint)) {\n            intersectionPoints[1] = null;\n        }\n\n        return intersectionPoints;\n    }\n\n    isPointOnSegment (point, segmentStart, segmentEnd) {\n        if (!point) return false;\n\n        return (\n            this.getSign(point[0] - segmentStart[0]) * this.getSign(point[0] - segmentEnd[0]) <= 0 &&\n            this.getSign(point[1] - segmentStart[1]) * this.getSign(point[1] - segmentEnd[1]) <= 0\n        );\n    }\n\n    square (value) {\n        return Math.pow(value, 2);\n    }\n\n    getSign (value) {\n        return value < 0 ? -1 : value > 0 ? 1 : 0;\n    }\n\n    solveQuadraticEquation (a, b, c) {\n        if (a === 0) return;\n\n        const discriminant = b * b - 4 * a * c;\n        if (discriminant === 0) {\n            const root = -b / (2 * a);\n            return [ root, root ];\n        } else if (discriminant > 0) {\n            const sqrtDiscriminant = Math.sqrt(discriminant);\n            return [\n                (-b + sqrtDiscriminant) / (2 * a),\n                (-b - sqrtDiscriminant) / (2 * a),\n            ];\n        }\n    }\n}\n\n\nexport default new Collide();\n","import layer from '../layer.js';\nimport message from '../message.js';\nimport timeline from '../timeline.js';\nimport { randomNumber } from '../utils.js';\nimport { LAYERS, MESSAGES, LIGHTS_CONFIG, SCENES } from '../config-defaults.js';\nimport viewport from '../layout/viewport.js';\n\n\nconst { width: viewportWidth, height: viewportHeight } = viewport;\n\n\nclass Light {\n    maskLayer  = layer.getLayer(LAYERS.MASK);\n    lightLayer = layer.getLayer(LAYERS.LIGHT);\n    lights     = [];\n    indexs     = [];\n    lightsNum  = LIGHTS_CONFIG.number;\n\n    constructor () {\n        for (let i = 0; i < this.lightsNum; i++) {\n            this.indexs[i] = i;\n        }\n\n        layer.hideLayer(LAYERS.LIGHT);\n        layer.hideLayer(LAYERS.MASK);\n    }\n\n    start (boom) {\n        const x   = boom.originX;\n        const y   = boom.originY;\n        const idx = this.indexs.random();\n        let time  = 0;\n\n        const b = (i) => {\n            this.build(x, y, idx[i]);\n        };\n\n        for (let i = 0; i < this.lightsNum; i++) {\n            timeline.setTimeout(() => b(i), time += 200);\n        }\n\n        timeline.setTimeout(this.overWhiteLight, time + 200);\n    }\n\n    overWhiteLight = () => {\n        message.postMessage(MESSAGES.OVER_WHITE_LIGHT_SHOW);\n        this.removeLights();\n\n        const dur     = 4e3;\n        const mask    = this.maskLayer.rect(0, 0, viewportWidth, viewportHeight).attr({\n            fill  : LIGHTS_CONFIG.fill,\n            stroke: 'none',\n        });\n        const control = {\n            onTimeUpdate: function (time) {\n                mask.attr('opacity', 1 - time / dur);\n            },\n\n            onTimeEnd: function () {\n                mask.remove();\n                message.postMessage(MESSAGES.GAME_OVER);\n                message.postMessage(SCENES.GAME_OVER, MESSAGES.SCENE_SWITCH_SCENE);\n            },\n        };\n\n        layer.showLayer(LAYERS.MASK);\n\n        timeline.createTask({\n            start       : 0,\n            duration    : dur,\n            object      : control,\n            onTimeUpdate: control.onTimeUpdate,\n            onTimeEnd   : control.onTimeEnd,\n        });\n\n    }\n\n    removeLights () {\n        const l = this.lights.length;\n        for (let i = 0; i < l; i++) {\n            this.lights[i].remove();\n        }\n        this.lights.length = 0;\n    }\n\n    build (x, y, r) {\n        let a1 = r * 36 + randomNumber(10);\n        let a2 = a1 + 5;\n\n        a1 = Math.PI * a1 / 180;\n        a2 = Math.PI * a2 / 180;\n\n        const x1    = x + (2 * viewportWidth) * Math.cos(a1);\n        const y1    = y + (2 * viewportWidth) * Math.sin(a1);\n        const x2    = x + (2 * viewportWidth) * Math.cos(a2);\n        const y2    = y + (2 * viewportWidth) * Math.sin(a2);\n        const light = this.lightLayer.path([ 'M', x, y, 'L', x1, y1, 'L', x2, y2, 'Z' ]).attr({\n            stroke: 'none',\n            fill  : LIGHTS_CONFIG.fill,\n        });\n\n        layer.showLayer(LAYERS.LIGHT);\n\n        this.lights.push(light);\n    }\n}\n\n\nexport default new Light();\n","import tween from '../libs/tween/index.js';\nimport timeline from '../timeline.js';\nimport layer from '../layer.js';\nimport { LAYERS, MODES, SCORE_CONFIG } from '../config-defaults.js';\n\n\nclass Score {\n    setTimeout = timeline.setTimeout.bind(timeline);\n    anim       = tween.exponential.co;\n    anims      = [];\n    image;\n    text1;\n    text2;\n\n    set () {\n        this.image = layer.createImage(\n            LAYERS.DEFAULT,\n            SCORE_CONFIG.image,\n            SCORE_CONFIG.imageSx,\n            SCORE_CONFIG.imageY,\n            SCORE_CONFIG.imageW,\n            SCORE_CONFIG.imageH,\n        ).hide();\n\n        this.text1 = layer.createText(\n            LAYERS.DEFAULT,\n            SCORE_CONFIG.text1Value,\n            SCORE_CONFIG.text1Sx,\n            SCORE_CONFIG.text1Y,\n            SCORE_CONFIG.text1Fill,\n            SCORE_CONFIG.text1Size,\n            SCORE_CONFIG.text1Weight,\n        ).hide();\n\n        this.text2 = layer.createText(\n            LAYERS.DEFAULT,\n            SCORE_CONFIG.text2Prefix + SCORE_CONFIG.text2Value,\n            SCORE_CONFIG.text2Sx,\n            SCORE_CONFIG.text2Y,\n            SCORE_CONFIG.text2Fill,\n            SCORE_CONFIG.text2Size,\n        ).hide();\n    }\n\n    show (start) {\n        timeline.createTask({\n            start       : start,\n            duration    : SCORE_CONFIG.animLength,\n            data        : [\n                MODES.SHOW,\n                SCORE_CONFIG.imageSx,\n                SCORE_CONFIG.imageEx,\n                SCORE_CONFIG.text1Sx,\n                SCORE_CONFIG.text1Ex,\n                SCORE_CONFIG.text2Sx,\n                SCORE_CONFIG.text2Ex,\n            ],\n            object      : this,\n            onTimeUpdate: this.onTimeUpdate,\n            onTimeStart : this.onTimeStart,\n            onTimeEnd   : this.onTimeEnd,\n            recycle     : this.anims,\n        });\n    }\n\n    hide (start) {\n        timeline.createTask({\n            start       : start,\n            duration    : SCORE_CONFIG.animLength,\n            data        : [\n                MODES.HIDE,\n                SCORE_CONFIG.imageEx,\n                SCORE_CONFIG.imageSx,\n                SCORE_CONFIG.text1Ex,\n                SCORE_CONFIG.text1Sx,\n                SCORE_CONFIG.text2Ex,\n                SCORE_CONFIG.text2Sx,\n            ],\n            object      : this,\n            onTimeUpdate: this.onTimeUpdate,\n            onTimeStart : this.onTimeStart,\n            onTimeEnd   : this.onTimeEnd,\n            recycle     : this.anims,\n        });\n    }\n\n    number (number) {\n        this.text1.attr('text', number || 0);\n        this.image.scale(1.2, 1.2);\n        this.setTimeout(() => {\n            this.image.scale(1, 1);\n        }, 60);\n    }\n\n    onTimeUpdate (time, mode, isx, iex, t1sx, t1ex, t2sx, t2ex) {\n        this.image.attr('x', this.anim(time, isx, iex - isx, SCORE_CONFIG.animLength));\n        this.text1.attr('x', this.anim(time, t1sx, t1ex - t1sx, SCORE_CONFIG.animLength));\n        this.text2.attr('x', this.anim(time, t2sx, t2ex - t2sx, SCORE_CONFIG.animLength));\n    }\n\n    onTimeStart (mode) {\n        if (mode === MODES.SHOW) [ this.image, this.text1, this.text2 ].invoke(mode);\n    }\n\n    onTimeEnd (mode) {\n        if (mode === MODES.HIDE) {\n            [ this.image, this.text1, this.text2 ].invoke(mode)\n            this.text1.attr('text', 0);\n        }\n    }\n}\n\n\nexport default new Score();\n","import layer from '../layer.js';\nimport timeline from '../timeline.js';\nimport { randomNumber } from '../utils.js';\nimport { BACKGROUND_CONFIG, LAYERS } from '../config-defaults.js';\n\n\nclass Background {\n    image;\n    time;\n\n    set () {\n        this.image = layer.createImage(\n            LAYERS.DEFAULT,\n            BACKGROUND_CONFIG.image,\n            BACKGROUND_CONFIG.x,\n            BACKGROUND_CONFIG.y,\n            BACKGROUND_CONFIG.width,\n            BACKGROUND_CONFIG.height,\n            BACKGROUND_CONFIG.preserveAspectRatio,\n        );\n    }\n\n    getWobble = () => {\n        const x = randomNumber(12) - 6;\n        const y = randomNumber(12) - 6;\n        this.image.attr({ x: x, y: y });\n    };\n\n    wobble () {\n        this.time = timeline._setInterval(this.getWobble, 50);\n    }\n\n    stop () {\n        this.time.stop();\n        this.image.attr({ x: 0, y: 0 });\n    }\n}\n\n\nexport default new Background();\n","import tween from '../libs/tween/index.js';\nimport layer from '../layer.js';\nimport message from '../message.js';\nimport timeline from '../timeline.js';\nimport { LAYERS, LOSE_CONFIG, MESSAGES, MODES, SCENES } from '../config-defaults.js';\nimport vibration from './vibration.js';\nimport { calcSize } from '../layout/calc-size.js';\nimport viewport from '../layout/viewport.js';\n\n\nconst { height: viewportHeight } = viewport;\n\n\nclass Lose {\n    anim       = tween.exponential.co;\n    back       = tween.back.co;\n    o1;\n    o2;\n    o3;\n    animLength = LOSE_CONFIG.animLength;\n    number     = 0;\n    anims      = [];\n\n    set () {\n        this.o1 = layer.createImage(\n            LAYERS.DEFAULT,\n            LOSE_CONFIG.conf[0].src,\n            LOSE_CONFIG.conf[0].sx,\n            LOSE_CONFIG.conf[0].y,\n            LOSE_CONFIG.conf[0].w,\n            LOSE_CONFIG.conf[0].h,\n        ).hide();\n\n        this.o2 = layer.createImage(\n            LAYERS.DEFAULT,\n            LOSE_CONFIG.conf[1].src,\n            LOSE_CONFIG.conf[1].sx,\n            LOSE_CONFIG.conf[1].y,\n            LOSE_CONFIG.conf[1].w,\n            LOSE_CONFIG.conf[1].h,\n        ).hide();\n\n        this.o3 = layer.createImage(\n            LAYERS.DEFAULT,\n            LOSE_CONFIG.conf[2].src,\n            LOSE_CONFIG.conf[2].sx,\n            LOSE_CONFIG.conf[2].y,\n            LOSE_CONFIG.conf[2].w,\n            LOSE_CONFIG.conf[2].h,\n        ).hide();\n    }\n\n    show (start) {\n        timeline.createTask({\n            start       : start,\n            duration    : this.animLength,\n            data        : [\n                MODES.SHOW,\n                LOSE_CONFIG.conf[0].sx,\n                LOSE_CONFIG.conf[0].ex,\n                LOSE_CONFIG.conf[1].sx,\n                LOSE_CONFIG.conf[1].ex,\n                LOSE_CONFIG.conf[2].sx,\n                LOSE_CONFIG.conf[2].ex,\n            ],\n            object      : this,\n            onTimeUpdate: this.onTimeUpdate,\n            onTimeStart : this.onTimeStart,\n            onTimeEnd   : this.onTimeEnd,\n            recycle     : this.anims,\n        });\n    }\n\n    hide (start) {\n        timeline.createTask({\n            start       : start,\n            duration    : this.animLength,\n            data        : [\n                MODES.HIDE,\n                LOSE_CONFIG.conf[0].ex,\n                LOSE_CONFIG.conf[0].sx,\n                LOSE_CONFIG.conf[1].ex,\n                LOSE_CONFIG.conf[1].sx,\n                LOSE_CONFIG.conf[2].ex,\n                LOSE_CONFIG.conf[2].sx,\n            ],\n            object      : this,\n            onTimeUpdate: this.onTimeUpdate,\n            onTimeStart : this.onTimeStart,\n            onTimeEnd   : this.onTimeEnd,\n            recycle     : this.anims,\n        });\n    }\n\n    showLoseAt () {\n        const inf = [\n            [ this.o1, LOSE_CONFIG.conf[0] ],\n            [ this.o2, LOSE_CONFIG.conf[1] ],\n            [ this.o3, LOSE_CONFIG.conf[2] ],\n        ];\n\n        const infx = inf[(++this.number) - 1];\n        infx[0].attr('src', infx[1].srcF).scale(1e-5, 1e-5);\n        this.scaleImage(infx[0]);\n\n        vibration.vibrate();\n\n        if (this.number === 3) {\n            vibration.gameOver();\n            this.number = 0;\n            message.postMessage(MESSAGES.GAME_OVER);\n            message.postMessage(SCENES.GAME_OVER, MESSAGES.SCENE_SWITCH_SCENE);\n        }\n    }\n\n    scaleImage (image) {\n        const dur = 500;\n\n        image.myOnScaling = image.myOnScaling || ((time, z) => {\n            image.scale(z = this.back(time, 1e-5, 1 - 1e-5, dur), z);\n        });\n\n        image.myOnScaleEnd = image.myOnScaleEnd || function () {\n            image.scale(1, 1);\n        };\n\n        timeline.createTask({\n            start       : 0,\n            duration    : dur,\n            object      : image,\n            onTimeUpdate: image.myOnScaling,\n            onTimeEnd   : image.myOnScaleEnd,\n            recycle     : this.anims,\n        });\n    }\n\n    onTimeUpdate (time, mode, x1s, x1e, x2s, x2e, x3s, x3e) {\n        this.o1.attr('x', this.anim(time, x1s, x1e - x1s, this.animLength));\n        this.o2.attr('x', this.anim(time, x2s, x2e - x2s, this.animLength));\n        this.o3.attr('x', this.anim(time, x3s, x3e - x3s, this.animLength));\n    }\n\n    onTimeStart (mode) {\n        if (mode === MODES.SHOW) {\n            [ this.o1, this.o2, this.o3 ].invoke(mode);\n            [\n                [ this.o1, LOSE_CONFIG.conf[0] ],\n                [ this.o2, LOSE_CONFIG.conf[1] ],\n                [ this.o3, LOSE_CONFIG.conf[2] ],\n            ].forEach(infx => {\n                infx[0].attr('src', infx[1].src);\n            });\n        }\n    }\n\n    onTimeEnd (mode) {\n        if (mode === MODES.HIDE) {\n            [ this.o1, this.o2, this.o3 ].invoke(mode);\n            [\n                [ this.o1, LOSE_CONFIG.conf[0] ],\n                [ this.o2, LOSE_CONFIG.conf[1] ],\n                [ this.o3, LOSE_CONFIG.conf[2] ],\n            ].forEach(infx => {\n                infx[0].attr('src', infx[1].srcF);\n            });\n        }\n    }\n\n    createPosShow (x) {\n        const image = layer.createImage(\n            LAYERS.DEFAULT,\n            LOSE_CONFIG.image,\n            x - calcSize(27),\n            viewportHeight - calcSize(50),\n            calcSize(54),\n            calcSize(50),\n        ).scale(\n            1e-5,\n            1e-5,\n        );\n\n        const duration = 500;\n\n        const control = {\n            show: function (start) {\n                timeline.createTask({\n                    start       : start,\n                    duration    : duration,\n                    data        : [ tween.back.co, 1e-5, 1 ],\n                    object      : this,\n                    onTimeUpdate: this.onScaling,\n                    onTimeEnd   : this.onShowEnd,\n                });\n            },\n\n            hide: function (start) {\n                timeline.createTask({\n                    start       : start,\n                    duration    : duration,\n                    data        : [ tween.back.ci, 1, 1e-5 ],\n                    object      : this,\n                    onTimeUpdate: this.onScaling,\n                    onTimeEnd   : this.onHideEnd,\n                });\n            },\n\n            onScaling: function (time, anim, a, b, z) {\n                image.scale(z = anim(time, a, b - a, duration), z);\n            },\n\n            onShowEnd: function () {\n                this.hide(1500);\n            },\n\n            onHideEnd: function () {\n                image.remove();\n            },\n        };\n\n        control.show(200);\n    }\n}\n\n\nexport default new Lose();\n","import tween from '../libs/tween/index.js';\nimport layer from '../layer.js';\nimport state from '../state.js';\nimport timeline from '../timeline.js';\nimport { LAYERS, GAME_OVER_CONFIG, MODES, STATE_KEYS } from '../config-defaults.js';\n\n\nclass GameOver {\n    image;\n    anims = [];\n\n    set () {\n        this.image = layer.createImage(\n            LAYERS.DEFAULT,\n            GAME_OVER_CONFIG.image,\n            GAME_OVER_CONFIG.x,\n            GAME_OVER_CONFIG.y,\n            GAME_OVER_CONFIG.width,\n            GAME_OVER_CONFIG.height,\n        ).hide().scale(\n            1e-5,\n            1e-5,\n        );\n    }\n\n    show (start) {\n        timeline.createTask({\n            start       : start,\n            duration    : 500,\n            data        : [ 1e-5, 1, MODES.SHOW ],\n            object      : this,\n            onTimeUpdate: this.onZooming,\n            onTimeStart : this.onZoomStart,\n            onTimeEnd   : this.onZoomEnd,\n            recycle     : this.anims,\n        });\n    }\n\n    hide (start) {\n        timeline.createTask({\n            start       : start,\n            duration    : 500,\n            data        : [ 1, 1e-5, MODES.HIDE ],\n            object      : this,\n            onTimeUpdate: this.onZooming,\n            onTimeStart : this.onZoomStart,\n            onTimeEnd   : this.onZoomEnd,\n            recycle     : this.anims,\n        });\n    }\n\n    onZoomStart (sz, ez, mode) {\n        if (mode === MODES.SHOW) this.image.show();\n    }\n\n    onZooming (time, sz, ez, z) {\n        this.image.scale(\n            z = tween.exponential.co(\n                time,\n                sz,\n                ez - sz,\n                500,\n            ),\n            z,\n        );\n    }\n\n    onZoomEnd (sz, ez, mode) {\n        if (mode === MODES.SHOW) {\n            state(STATE_KEYS.CLICK_ENABLE).on();\n        } else if (mode === MODES.HIDE) {\n            this.image.hide();\n        }\n    }\n}\n\n\nexport default new GameOver();\n","import fruitFactory from './factory/fruit.js';\nimport soundFactory from './factory/sound.js';\n\nimport timeline from './timeline.js';\nimport state from './state.js';\nimport message from './message.js';\n\nimport light from './object/light.js';\nimport score from './object/score.js';\nimport background from './object/background.js';\nimport knifes from './object/knifes.js';\nimport lose from './object/lose.js';\nimport gameOver from './object/game-over.js';\nimport vibration from './object/vibration.js';\nimport { randomNumber } from './utils.js';\nimport { FRUIT_CONFIG, MESSAGES, STATE_KEYS, GAME_STATES } from './config-defaults.js';\nimport viewport from './layout/viewport.js';\n\n\nconst { width: viewportWidth, height: viewportHeight } = viewport;\n\n\nclass Game {\n    scoreNumber          = 0;\n    volleyNum            = 2;\n    volleyMultipleNumber = 5;\n    fruits               = [];\n    gameInterval;\n    snd;\n    boomSnd;\n\n    constructor () {\n        message.addEventListener(MESSAGES.FRUIT_REMOVE, (fruit) => {\n            const index = this.fruits.indexOf(fruit);\n\n            if (index > -1) {\n                this.fruits.splice(index, 1);\n            }\n        });\n\n        message.addEventListener(MESSAGES.FRUIT_FALL_OUT_OF_VIEWER, (fruit) => {\n            if (state(STATE_KEYS.GAME_STATE).isnot(GAME_STATES.PLAYING)) {\n                return;\n            }\n            if (fruit.type !== FRUIT_CONFIG.types.BOOM) {\n                lose.showLoseAt(fruit.originX);\n            }\n        });\n\n        message.addEventListener(MESSAGES.GAME_OVER, () => {\n            this.gameOver();\n            knifes.switchOn();\n        });\n\n        message.addEventListener(MESSAGES.OVER_WHITE_LIGHT_SHOW, () => {\n            knifes.endAll();\n\n            for (let i = this.fruits.length - 1; i >= 0; i--) {\n                this.fruits[i].remove();\n            }\n\n            background.stop();\n        });\n\n        message.addEventListener(MESSAGES.CLICK, () => {\n            state(STATE_KEYS.CLICK_ENABLE).off();\n            gameOver.hide();\n            message.postMessage(MESSAGES.HOME_MENU, MESSAGES.SCENE_SWITCH_SCENE);\n        });\n    }\n\n    barbette = () => {\n        if (this.fruits.length >= this.volleyNum) {\n            return;\n        }\n\n        const startX = randomNumber(viewportWidth);\n        const endX   = randomNumber(viewportWidth);\n        const startY = viewportHeight;\n        const f      = fruitFactory.create(startX, startY).shotOut(0, endX);\n\n        this.fruits.push(f);\n        this.snd.play();\n\n        this.barbette();\n    }\n\n    start () {\n        this.scoreNumber   = 0;\n        this.volleyNum     = 2;\n\n        this.snd     = soundFactory.create('sound/throw');\n        this.boomSnd = soundFactory.create('sound/boom');\n\n        timeline.setTimeout(() => {\n            state(STATE_KEYS.GAME_STATE).set(GAME_STATES.PLAYING);\n            this.gameInterval = timeline._setInterval(this.barbette, 1e3);\n        }, 500);\n    }\n\n    gameOver () {\n        state(STATE_KEYS.GAME_STATE).set(GAME_STATES.OVER);\n\n        this.gameInterval.stop();\n        this.fruits.length = 0;\n    }\n\n    applyScore (score) {\n        if (score > this.volleyNum * this.volleyMultipleNumber) {\n            this.volleyNum++;\n        }\n        this.volleyMultipleNumber += 50;\n    }\n\n    sliceAt (fruit, angle) {\n        const index = this.fruits.indexOf(fruit);\n\n        if (state(STATE_KEYS.GAME_STATE).isnot(GAME_STATES.PLAYING)) return;\n\n        if (fruit.type !== FRUIT_CONFIG.types.BOOM) {\n            fruit.broken(angle);\n            vibration.fruit();\n            if (index) this.fruits.splice(index, 1);\n            score.number(++this.scoreNumber);\n            this.applyScore(this.scoreNumber);\n        } else {\n            this.boomSnd.play();\n            this.pauseAllFruit();\n            background.wobble();\n            vibration.boom();\n            light.start(fruit);\n        }\n    }\n\n    catchFruit (fruit) {\n        const index = this.fruits.indexOf(fruit);\n\n        if (state(STATE_KEYS.GAME_STATE).isnot(GAME_STATES.PLAYING)) return;\n\n        if (fruit.type !== FRUIT_CONFIG.types.BOOM) {\n            fruit.broken(0);\n            vibration.fruit();\n            if (index !== -1) this.fruits.splice(index, 1);\n            score.number(++this.scoreNumber);\n            this.applyScore(this.scoreNumber);\n        } else {\n            this.boomSnd.play();\n            this.pauseAllFruit();\n            background.wobble();\n            vibration.boom();\n            light.start(fruit);\n        }\n    }\n\n    pauseAllFruit () {\n        this.gameInterval.stop();\n        knifes.pause();\n        this.fruits.invoke('pause');\n    }\n}\n\n\nexport default new Game();\n","import tween from '../libs/tween/index.js';\nimport displacementFactory from '../factory/displacement.js';\nimport { HOME_MASK_CONFIG, LAYERS } from '../config-defaults.js';\n\n\nexport default displacementFactory.create({\n    layer   : LAYERS.START_SCREEN,\n    imageSrc: HOME_MASK_CONFIG.image,\n    width   : HOME_MASK_CONFIG.width,\n    height  : HOME_MASK_CONFIG.height,\n    startX  : HOME_MASK_CONFIG.startX,\n    startY  : HOME_MASK_CONFIG.startY,\n    endX    : HOME_MASK_CONFIG.endX,\n    endY    : HOME_MASK_CONFIG.endY,\n    animMap : tween.exponential.co,\n    duration: HOME_MASK_CONFIG.duration,\n});\n","import tween from '../libs/tween/index.js';\nimport displacementFactory from '../factory/displacement.js';\nimport { LAYERS, HOME_LOGO_CONFIG } from '../config-defaults.js';\n\n\nexport default displacementFactory.create({\n    layer   : LAYERS.START_SCREEN,\n    imageSrc: HOME_LOGO_CONFIG.image,\n    width   : HOME_LOGO_CONFIG.width,\n    height  : HOME_LOGO_CONFIG.height,\n    startX  : HOME_LOGO_CONFIG.startX,\n    startY  : HOME_LOGO_CONFIG.startY,\n    endX    : HOME_LOGO_CONFIG.endX,\n    endY    : HOME_LOGO_CONFIG.endY,\n    animMap : tween.exponential.co,\n    duration: HOME_LOGO_CONFIG.duration,\n});\n","import { HOME_TEXT_CONFIG, LAYERS, MODES } from '../config-defaults.js';\nimport layer from '../layer.js';\nimport tween from '../libs/tween/index.js';\nimport timeline from '../timeline.js';\n\n\nclass HomeText {\n    setTimeout = timeline.setTimeout.bind(timeline);\n    anim       = tween.exponential.co;\n    anims      = [];\n    text1;\n    text2;\n    text3;\n\n    set () {\n        this.text1 = layer.createText(\n            LAYERS.START_SCREEN,\n            HOME_TEXT_CONFIG.text1Value,\n            HOME_TEXT_CONFIG.text1Sx,\n            HOME_TEXT_CONFIG.text1Y,\n            HOME_TEXT_CONFIG.text1Fill,\n            HOME_TEXT_CONFIG.text1Size,\n            HOME_TEXT_CONFIG.text1Weight,\n            HOME_TEXT_CONFIG.text1Anchor,\n        ).hide();\n\n        this.text2 = layer.createText(\n            LAYERS.START_SCREEN,\n            HOME_TEXT_CONFIG.text2Value,\n            HOME_TEXT_CONFIG.text2Sx,\n            HOME_TEXT_CONFIG.text2Y,\n            HOME_TEXT_CONFIG.text2Fill,\n            HOME_TEXT_CONFIG.text2Size,\n            HOME_TEXT_CONFIG.text2Weight,\n            HOME_TEXT_CONFIG.text2Anchor,\n        ).hide();\n\n        this.text3 = layer.createText(\n            LAYERS.START_SCREEN,\n            HOME_TEXT_CONFIG.text3Value,\n            HOME_TEXT_CONFIG.text3Sx,\n            HOME_TEXT_CONFIG.text3Y,\n            HOME_TEXT_CONFIG.text3Fill,\n            HOME_TEXT_CONFIG.text3Size,\n            HOME_TEXT_CONFIG.text3Weight,\n            HOME_TEXT_CONFIG.text3Anchor,\n        ).hide();\n    }\n\n    show (start) {\n        timeline.createTask({\n            start       : start,\n            duration    : HOME_TEXT_CONFIG.animLength,\n            data        : [\n                MODES.SHOW,\n                HOME_TEXT_CONFIG.text1Sx,\n                HOME_TEXT_CONFIG.text1Ex,\n                HOME_TEXT_CONFIG.text2Sx,\n                HOME_TEXT_CONFIG.text2Ex,\n                HOME_TEXT_CONFIG.text3Sx,\n                HOME_TEXT_CONFIG.text3Ex,\n            ],\n            object      : this,\n            onTimeUpdate: this.onTimeUpdate,\n            onTimeStart : this.onTimeStart,\n            onTimeEnd   : this.onTimeEnd,\n            recycle     : this.anims,\n        });\n    }\n\n    hide (start) {\n        timeline.createTask({\n            start       : start,\n            duration    : HOME_TEXT_CONFIG.animLength,\n            data        : [\n                MODES.HIDE,\n                HOME_TEXT_CONFIG.text1Ex,\n                HOME_TEXT_CONFIG.text1Sx,\n                HOME_TEXT_CONFIG.text2Ex,\n                HOME_TEXT_CONFIG.text2Sx,\n                HOME_TEXT_CONFIG.text3Ex,\n                HOME_TEXT_CONFIG.text3Sx,\n            ],\n            object      : this,\n            onTimeUpdate: this.onTimeUpdate,\n            onTimeStart : this.onTimeStart,\n            onTimeEnd   : this.onTimeEnd,\n            recycle     : this.anims,\n        });\n    }\n\n    onTimeUpdate (time, mode, t1sx, t1ex, t2sx, t2ex, t3sx, t3ex) {\n        this.text1.attr('x', this.anim(time, t1sx, t1ex - t1sx, HOME_TEXT_CONFIG.animLength));\n        this.text2.attr('x', this.anim(time, t2sx, t2ex - t2sx, HOME_TEXT_CONFIG.animLength));\n        this.text3.attr('x', this.anim(time, t3sx, t3ex - t3sx, HOME_TEXT_CONFIG.animLength));\n    }\n\n    onTimeStart (mode) {\n        if (mode === MODES.SHOW) [ this.text1, this.text2, this.text3 ].invoke(mode);\n    }\n\n    onTimeEnd (mode) {\n        if (mode === MODES.HIDE) [ this.text1, this.text2, this.text3 ].invoke(mode);\n    }\n}\n\nexport default new HomeText();\n","import layer from '../layer.js';\nimport tween from '../libs/tween/index.js';\nimport timeline from '../timeline.js';\nimport message from '../message.js';\nimport { HOME_TEXT_CONFIG, LAYERS, START_BUTTON_CONFIG, MODES, MESSAGES } from '../config-defaults.js';\nimport vibration from './vibration.js';\n\n\nclass HomeButton {\n    text;\n    button;\n    group;\n    anims = [];\n    anim  = tween.exponential.co;\n\n    set () {\n        this.button = layer.createImage(\n            LAYERS.START_SCREEN,\n            START_BUTTON_CONFIG.image,\n            START_BUTTON_CONFIG.startX,\n            START_BUTTON_CONFIG.startY,\n            START_BUTTON_CONFIG.width,\n            START_BUTTON_CONFIG.height,\n        ).hide();\n\n        this.text = layer.createText(\n            LAYERS.START_SCREEN,\n            START_BUTTON_CONFIG.textValue,\n            START_BUTTON_CONFIG.textStartX,\n            START_BUTTON_CONFIG.textStartY,\n            START_BUTTON_CONFIG.textFill,\n            START_BUTTON_CONFIG.textSize,\n            START_BUTTON_CONFIG.textWeight,\n            START_BUTTON_CONFIG.textAnchor,\n        );\n\n        this.group = layer.getLayer(LAYERS.START_SCREEN).set();\n        this.group.push(this.button, this.text);\n        layer.hideLayer(LAYERS.START_SCREEN);\n\n        this.group.click(() => {\n            message.postMessage(MESSAGES.START_GAME);\n            vibration.vibrate();\n        });\n    }\n\n    show (start) {\n        timeline.createTask({\n            start,\n            duration: START_BUTTON_CONFIG.animLength,\n            data    : [\n                MODES.SHOW,\n                START_BUTTON_CONFIG.startY,\n                START_BUTTON_CONFIG.endY,\n                START_BUTTON_CONFIG.textStartY,\n                START_BUTTON_CONFIG.textEndY,\n            ],\n            object  : this,\n            onTime  : this.onTimeUpdate,\n            recycle : this.anims,\n        });\n    }\n\n    hide (start) {\n        timeline.createTask({\n            start       : start,\n            duration: START_BUTTON_CONFIG.animLength,\n            data    : [\n                MODES.SHOW,\n                START_BUTTON_CONFIG.endY,\n                START_BUTTON_CONFIG.startY,\n                START_BUTTON_CONFIG.textEndY,\n                START_BUTTON_CONFIG.textStartY,\n            ],\n            object  : this,\n            onTime  : this.onTimeUpdate,\n            recycle : this.anims,\n        });\n    }\n\n    onTimeUpdate (time, mode, bsy, bey, tsy, tey) {\n        this.button.attr('y', this.anim(time, bsy, bey - bsy, HOME_TEXT_CONFIG.animLength));\n        this.text.attr('y', this.anim(time, tsy, tey - tsy, HOME_TEXT_CONFIG.animLength));\n    }\n\n    onTimeStart (mode) {\n        if (mode === MODES.SHOW) [ this.button ].invoke(mode);\n    }\n\n    onTimeEnd (mode) {\n        if (mode === MODES.HIDE) [ this.button ].invoke(mode);\n    }\n}\n\n\nexport default new HomeButton();\n","import tween from '../libs/tween/index.js';\nimport displacementFactory from '../factory/displacement.js';\nimport { LAYERS, RESULT_LOGO_CONFIG } from '../config-defaults.js';\n\n\nexport default displacementFactory.create({\n    layer   : LAYERS.RESULT_SCREEN,\n    imageSrc: RESULT_LOGO_CONFIG.image,\n    width   : RESULT_LOGO_CONFIG.width,\n    height  : RESULT_LOGO_CONFIG.height,\n    startX  : RESULT_LOGO_CONFIG.startX,\n    startY  : RESULT_LOGO_CONFIG.startY,\n    endX    : RESULT_LOGO_CONFIG.endX,\n    endY    : RESULT_LOGO_CONFIG.endY,\n    animMap : tween.exponential.co,\n    duration: RESULT_LOGO_CONFIG.duration,\n});\n","import { RESULT_TEXT_CONFIG, LAYERS, MODES, MESSAGES } from '../config-defaults.js';\nimport layer from '../layer.js';\nimport tween from '../libs/tween/index.js';\nimport message from '../message.js';\nimport timeline from '../timeline.js';\nimport game from '../game.js';\n\n\nclass ResultText {\n    setTimeout = timeline.setTimeout.bind(timeline);\n    anim       = tween.exponential.co;\n    anims      = [];\n    text1;\n    text2;\n    text3;\n    text4;\n    text5;\n    text6;\n    text7;\n\n    constructor () {\n        message.addEventListener(MESSAGES.GAME_OVER, () => {\n            this.text3.attr('text', game.scoreNumber);\n        });\n    }\n\n    set () {\n        this.text1 = layer.createText(\n            LAYERS.RESULT_SCREEN,\n            RESULT_TEXT_CONFIG.text1Value,\n            RESULT_TEXT_CONFIG.text1X,\n            RESULT_TEXT_CONFIG.text1Sy,\n            RESULT_TEXT_CONFIG.text1Fill,\n            RESULT_TEXT_CONFIG.text1Size,\n            RESULT_TEXT_CONFIG.text1Weight,\n            RESULT_TEXT_CONFIG.text1Anchor,\n        ).hide();\n\n        this.text2 = layer.createText(\n            LAYERS.RESULT_SCREEN,\n            RESULT_TEXT_CONFIG.text2Value,\n            RESULT_TEXT_CONFIG.text2X,\n            RESULT_TEXT_CONFIG.text2Sy,\n            RESULT_TEXT_CONFIG.text2Fill,\n            RESULT_TEXT_CONFIG.text2Size,\n            RESULT_TEXT_CONFIG.text2Weight,\n            RESULT_TEXT_CONFIG.text2Anchor,\n        ).hide();\n\n        this.text3 = layer.createText(\n            LAYERS.RESULT_SCREEN,\n            game.scoreNumber,\n            RESULT_TEXT_CONFIG.text3X,\n            RESULT_TEXT_CONFIG.text3Sy,\n            RESULT_TEXT_CONFIG.text3Fill,\n            RESULT_TEXT_CONFIG.text3Size,\n            RESULT_TEXT_CONFIG.text3Weight,\n            RESULT_TEXT_CONFIG.text3Anchor,\n        )\n            .attr('stroke', 'white')\n            .attr('stroke-width', 3)\n            .hide();\n\n\n        this.text4 = layer.createText(\n            LAYERS.RESULT_SCREEN,\n            RESULT_TEXT_CONFIG.text4Value,\n            RESULT_TEXT_CONFIG.text4Sx,\n            RESULT_TEXT_CONFIG.text4Y,\n            RESULT_TEXT_CONFIG.text4Fill,\n            RESULT_TEXT_CONFIG.text4Size,\n            RESULT_TEXT_CONFIG.text4Weight,\n            RESULT_TEXT_CONFIG.text4Anchor,\n        ).hide();\n\n        this.text5 = layer.createText(\n            LAYERS.RESULT_SCREEN,\n            RESULT_TEXT_CONFIG.text5Value,\n            RESULT_TEXT_CONFIG.text5Sx,\n            RESULT_TEXT_CONFIG.text5Y,\n            RESULT_TEXT_CONFIG.text5Fill,\n            RESULT_TEXT_CONFIG.text5Size,\n            RESULT_TEXT_CONFIG.text5Weight,\n            RESULT_TEXT_CONFIG.text5Anchor,\n        )\n            .attr('stroke', 'white')\n            .attr('stroke-width', 2)\n            .hide();\n\n        this.text6 = layer.createText(\n            LAYERS.RESULT_SCREEN,\n            RESULT_TEXT_CONFIG.text6Value,\n            RESULT_TEXT_CONFIG.text6Sx,\n            RESULT_TEXT_CONFIG.text6Y,\n            RESULT_TEXT_CONFIG.text6Fill,\n            RESULT_TEXT_CONFIG.text6Size,\n            RESULT_TEXT_CONFIG.text6Weight,\n            RESULT_TEXT_CONFIG.text6Anchor,\n        ).hide();\n\n        this.text7 = layer.createText(\n            LAYERS.RESULT_SCREEN,\n            RESULT_TEXT_CONFIG.text7Value,\n            RESULT_TEXT_CONFIG.text7Sx,\n            RESULT_TEXT_CONFIG.text7Y,\n            RESULT_TEXT_CONFIG.text7Fill,\n            RESULT_TEXT_CONFIG.text7Size,\n            RESULT_TEXT_CONFIG.text7Weight,\n            RESULT_TEXT_CONFIG.text7Anchor,\n        )\n            .attr('stroke', 'white')\n            .attr('stroke-width', 2)\n            .hide();\n    }\n\n    show (start) {\n        timeline.createTask({\n            start       : start,\n            duration    : RESULT_TEXT_CONFIG.animLength,\n            data        : [\n                MODES.SHOW,\n                RESULT_TEXT_CONFIG.text1Sy,\n                RESULT_TEXT_CONFIG.text1Ey,\n                RESULT_TEXT_CONFIG.text2Sy,\n                RESULT_TEXT_CONFIG.text2Ey,\n                RESULT_TEXT_CONFIG.text3Sy,\n                RESULT_TEXT_CONFIG.text3Ey,\n                RESULT_TEXT_CONFIG.text4Sx,\n                RESULT_TEXT_CONFIG.text4Ex,\n                RESULT_TEXT_CONFIG.text5Sx,\n                RESULT_TEXT_CONFIG.text5Ex,\n                RESULT_TEXT_CONFIG.text6Sx,\n                RESULT_TEXT_CONFIG.text6Ex,\n                RESULT_TEXT_CONFIG.text7Sx,\n                RESULT_TEXT_CONFIG.text7Ex,\n            ],\n            object      : this,\n            onTimeUpdate: this.onTimeUpdate,\n            onTimeStart : this.onTimeStart,\n            onTimeEnd   : this.onTimeEnd,\n            recycle     : this.anims,\n        });\n    }\n\n    hide (start) {\n        timeline.createTask({\n            start       : start,\n            duration    : RESULT_TEXT_CONFIG.animLength,\n            data        : [\n                MODES.HIDE,\n                RESULT_TEXT_CONFIG.text1Ey,\n                RESULT_TEXT_CONFIG.text1Sy,\n                RESULT_TEXT_CONFIG.text2Ey,\n                RESULT_TEXT_CONFIG.text2Sy,\n                RESULT_TEXT_CONFIG.text3Ey,\n                RESULT_TEXT_CONFIG.text3Sy,\n                RESULT_TEXT_CONFIG.text4Ex,\n                RESULT_TEXT_CONFIG.text4Sx,\n                RESULT_TEXT_CONFIG.text5Ex,\n                RESULT_TEXT_CONFIG.text5Sx,\n                RESULT_TEXT_CONFIG.text6Ex,\n                RESULT_TEXT_CONFIG.text6Sx,\n                RESULT_TEXT_CONFIG.text7Ex,\n                RESULT_TEXT_CONFIG.text7Sx,\n            ],\n            object      : this,\n            onTimeUpdate: this.onTimeUpdate,\n            onTimeStart : this.onTimeStart,\n            onTimeEnd   : this.onTimeEnd,\n            recycle     : this.anims,\n        });\n    }\n\n    onTimeUpdate (time, mode, t1sy, t1ey, t2sy, t2ey, t3sy, t3ey, t4sx, t4ex, t5sx, t5ex, t6sx, t6ex, t7sx, t7ex) {\n        this.text1.attr('y', this.anim(time, t1sy, t1ey - t1sy, RESULT_TEXT_CONFIG.animLength));\n        this.text2.attr('y', this.anim(time, t2sy, t2ey - t2sy, RESULT_TEXT_CONFIG.animLength));\n        this.text3.attr('y', this.anim(time, t3sy, t3ey - t3sy, RESULT_TEXT_CONFIG.animLength));\n        this.text4.attr('x', this.anim(time, t4sx, t4ex - t4sx, RESULT_TEXT_CONFIG.animLength));\n        this.text5.attr('x', this.anim(time, t5sx, t5ex - t5sx, RESULT_TEXT_CONFIG.animLength));\n        this.text6.attr('x', this.anim(time, t6sx, t6ex - t6sx, RESULT_TEXT_CONFIG.animLength));\n        this.text7.attr('x', this.anim(time, t7sx, t7ex - t7sx, RESULT_TEXT_CONFIG.animLength));\n    }\n\n    onTimeStart (mode) {\n        if (mode === MODES.SHOW) {\n            [ this.text1, this.text2, this.text3, this.text4, this.text5, this.text6, this.text7 ].invoke(mode);\n        }\n    }\n\n    onTimeEnd (mode) {\n        if (mode === MODES.HIDE) {\n            [ this.text1, this.text2, this.text3, this.text4, this.text5, this.text6, this.text7 ].invoke(mode);\n        }\n    }\n}\n\nexport default new ResultText();\n","import layer from '../layer.js';\nimport tween from '../libs/tween/index.js';\nimport message from '../message.js';\nimport timeline from '../timeline.js';\nimport { HOME_TEXT_CONFIG, LAYERS, RESULT_BUTTON_NEXT_CONFIG, MODES, SCENES, MESSAGES } from '../config-defaults.js';\nimport vibration from './vibration.js';\n\n\nclass ResultButtonNext {\n    text;\n    button;\n    group;\n    anims = [];\n    anim  = tween.exponential.co;\n\n    set () {\n        this.button = layer.createImage(\n            LAYERS.RESULT_SCREEN,\n            RESULT_BUTTON_NEXT_CONFIG.image,\n            RESULT_BUTTON_NEXT_CONFIG.startX,\n            RESULT_BUTTON_NEXT_CONFIG.startY,\n            RESULT_BUTTON_NEXT_CONFIG.width,\n            RESULT_BUTTON_NEXT_CONFIG.height,\n        ).hide();\n\n        this.text = layer.createText(\n            LAYERS.RESULT_SCREEN,\n            RESULT_BUTTON_NEXT_CONFIG.textValue,\n            RESULT_BUTTON_NEXT_CONFIG.textStartX,\n            RESULT_BUTTON_NEXT_CONFIG.textStartY,\n            RESULT_BUTTON_NEXT_CONFIG.textFill,\n            RESULT_BUTTON_NEXT_CONFIG.textSize,\n            RESULT_BUTTON_NEXT_CONFIG.textWeight,\n            RESULT_BUTTON_NEXT_CONFIG.textAnchor,\n        );\n\n        this.group = layer.getLayer(LAYERS.RESULT_SCREEN).set();\n        this.group.push(this.button, this.text);\n        layer.hideLayer(LAYERS.RESULT_SCREEN);\n\n        this.group.click(() => {\n            vibration.vibrate();\n            message.postMessage(SCENES.BRAND_QUESTION, MESSAGES.SCENE_SWITCH_SCENE);\n        });\n    }\n\n    show (start) {\n        timeline.createTask({\n            start,\n            duration: RESULT_BUTTON_NEXT_CONFIG.animLength,\n            data    : [\n                MODES.SHOW,\n                RESULT_BUTTON_NEXT_CONFIG.startY,\n                RESULT_BUTTON_NEXT_CONFIG.endY,\n                RESULT_BUTTON_NEXT_CONFIG.textStartY,\n                RESULT_BUTTON_NEXT_CONFIG.textEndY,\n            ],\n            object  : this,\n            onTime  : this.onTimeUpdate,\n            recycle : this.anims,\n        });\n    }\n\n    hide (start) {\n        timeline.createTask({\n            start   : start,\n            duration: RESULT_BUTTON_NEXT_CONFIG.animLength,\n            data    : [\n                MODES.SHOW,\n                RESULT_BUTTON_NEXT_CONFIG.endY,\n                RESULT_BUTTON_NEXT_CONFIG.startY,\n                RESULT_BUTTON_NEXT_CONFIG.textEndY,\n                RESULT_BUTTON_NEXT_CONFIG.textStartY,\n            ],\n            object  : this,\n            onTime  : this.onTimeUpdate,\n            recycle : this.anims,\n        });\n    }\n\n    onTimeUpdate (time, mode, bsy, bey, tsy, tey) {\n        this.button.attr('y', this.anim(time, bsy, bey - bsy, HOME_TEXT_CONFIG.animLength));\n        this.text.attr('y', this.anim(time, tsy, tey - tsy, HOME_TEXT_CONFIG.animLength));\n    }\n\n    onTimeStart (mode) {\n        if (mode === MODES.SHOW) [ this.button ].invoke(mode);\n    }\n\n    onTimeEnd (mode) {\n        if (mode === MODES.HIDE) [ this.button ].invoke(mode);\n    }\n}\n\n\nexport default new ResultButtonNext();\n","import layer from '../layer.js';\nimport tween from '../libs/tween/index.js';\nimport timeline from '../timeline.js';\nimport message from '../message.js';\nimport { HOME_TEXT_CONFIG, LAYERS, RESULT_BUTTON_REPLAY_CONFIG, MODES, MESSAGES } from '../config-defaults.js';\nimport vibration from './vibration.js';\n\n\nclass ResultButtonReplay {\n    text;\n    button;\n    group;\n    anims = [];\n    anim  = tween.exponential.co;\n\n    set () {\n        this.button = layer.createImage(\n            LAYERS.RESULT_SCREEN,\n            RESULT_BUTTON_REPLAY_CONFIG.image,\n            RESULT_BUTTON_REPLAY_CONFIG.startX,\n            RESULT_BUTTON_REPLAY_CONFIG.startY,\n            RESULT_BUTTON_REPLAY_CONFIG.width,\n            RESULT_BUTTON_REPLAY_CONFIG.height,\n        ).hide();\n\n        this.text = layer.createText(\n            LAYERS.RESULT_SCREEN,\n            RESULT_BUTTON_REPLAY_CONFIG.textValue,\n            RESULT_BUTTON_REPLAY_CONFIG.textStartX,\n            RESULT_BUTTON_REPLAY_CONFIG.textStartY,\n            RESULT_BUTTON_REPLAY_CONFIG.textFill,\n            RESULT_BUTTON_REPLAY_CONFIG.textSize,\n            RESULT_BUTTON_REPLAY_CONFIG.textWeight,\n            RESULT_BUTTON_REPLAY_CONFIG.textAnchor,\n        );\n\n        this.group = layer.getLayer(LAYERS.RESULT_SCREEN).set();\n        this.group.push(this.button, this.text);\n        layer.hideLayer(LAYERS.RESULT_SCREEN);\n\n        this.group.click(() => {\n            message.postMessage(MESSAGES.START_GAME);\n            vibration.vibrate();\n        });\n    }\n\n    show (start) {\n        timeline.createTask({\n            start,\n            duration: RESULT_BUTTON_REPLAY_CONFIG.animLength,\n            data    : [\n                MODES.SHOW,\n                RESULT_BUTTON_REPLAY_CONFIG.startY,\n                RESULT_BUTTON_REPLAY_CONFIG.endY,\n                RESULT_BUTTON_REPLAY_CONFIG.textStartY,\n                RESULT_BUTTON_REPLAY_CONFIG.textEndY,\n            ],\n            object  : this,\n            onTime  : this.onTimeUpdate,\n            recycle : this.anims,\n        });\n    }\n\n    hide (start) {\n        timeline.createTask({\n            start       : start,\n            duration: RESULT_BUTTON_REPLAY_CONFIG.animLength,\n            data    : [\n                MODES.SHOW,\n                RESULT_BUTTON_REPLAY_CONFIG.endY,\n                RESULT_BUTTON_REPLAY_CONFIG.startY,\n                RESULT_BUTTON_REPLAY_CONFIG.textEndY,\n                RESULT_BUTTON_REPLAY_CONFIG.textStartY,\n            ],\n            object  : this,\n            onTime  : this.onTimeUpdate,\n            recycle : this.anims,\n        });\n    }\n\n    onTimeUpdate (time, mode, bsy, bey, tsy, tey) {\n        this.button.attr('y', this.anim(time, bsy, bey - bsy, HOME_TEXT_CONFIG.animLength));\n        this.text.attr('y', this.anim(time, tsy, tey - tsy, HOME_TEXT_CONFIG.animLength));\n    }\n\n    onTimeStart (mode) {\n        if (mode === MODES.SHOW) [ this.button ].invoke(mode);\n    }\n\n    onTimeEnd (mode) {\n        if (mode === MODES.HIDE) [ this.button ].invoke(mode);\n    }\n}\n\n\nexport default new ResultButtonReplay();\n","import tween from '../libs/tween/index.js';\nimport displacementFactory from '../factory/displacement.js';\nimport { LAYERS, BOTTOM_CONFIG } from '../config-defaults.js';\n\n\nexport default displacementFactory.create({\n    layer   : LAYERS.DEFAULT,\n    imageSrc: BOTTOM_CONFIG.image,\n    width   : BOTTOM_CONFIG.width,\n    height  : BOTTOM_CONFIG.height,\n    startX  : BOTTOM_CONFIG.startX,\n    startY  : BOTTOM_CONFIG.startY,\n    endX    : BOTTOM_CONFIG.endX,\n    endY    : BOTTOM_CONFIG.endY,\n    animMap : tween.exponential.co,\n    duration: BOTTOM_CONFIG.duration,\n});\n","import layer from '../layer.js';\nimport timeline from '../timeline.js';\nimport { FPS_CONFIG, LAYERS } from '../config-defaults.js';\n\n\nclass FPS {\n    text;\n    prefix = FPS_CONFIG.prefix;\n    fill   = FPS_CONFIG.fill;\n\n    set () {\n        this.text = layer.createText(\n            LAYERS.DEFAULT,\n            this.prefix + '0',\n            FPS_CONFIG.x,\n            FPS_CONFIG.y,\n        ).attr(\n            'fill',\n            this.fill,\n        );\n    }\n\n    update () {\n        this.text.attr(\n            'text',\n            this.prefix + (\n                timeline.getFPS() >> 0\n            ),\n        );\n    }\n}\n\n\nexport default new FPS();\n","import {\n    LAYERS, BRAND_QUESTION_TITLE_CONFIG, BRAND_QUESTION_TEXT1_CONFIG, BRAND_QUESTION_TEXT2_CONFIG, MODES,\n    BRAND_ANSWER1_CONFIG, BRAND_ANSWER2_CONFIG,\n} from '../config-defaults.js';\nimport layer from '../layer.js';\nimport tween from '../libs/tween/index.js';\nimport timeline from '../timeline.js';\nimport vibration from './vibration.js';\n\n\nclass BrandQuestion {\n    setTimeout = timeline.setTimeout.bind(timeline);\n    anim       = tween.exponential.co;\n    anims      = [];\n    title;\n    text1;\n    text2;\n    text3;\n    text4;\n    answer1;\n    answer2;\n\n    set () {\n        this.title = layer.createText(\n            LAYERS.BRAND_QUESTION,\n            BRAND_QUESTION_TITLE_CONFIG.textValue,\n            BRAND_QUESTION_TITLE_CONFIG.textX,\n            BRAND_QUESTION_TITLE_CONFIG.textStartY,\n            BRAND_QUESTION_TITLE_CONFIG.textFill,\n            BRAND_QUESTION_TITLE_CONFIG.textSize,\n            BRAND_QUESTION_TITLE_CONFIG.textWeight,\n            BRAND_QUESTION_TITLE_CONFIG.textAnchor,\n        ).hide();\n\n        this.text1 = layer.createText(\n            LAYERS.BRAND_QUESTION,\n            BRAND_QUESTION_TEXT1_CONFIG.textValue,\n            BRAND_QUESTION_TEXT1_CONFIG.textStartX,\n            BRAND_QUESTION_TEXT1_CONFIG.textY,\n            BRAND_QUESTION_TEXT1_CONFIG.textFill,\n            BRAND_QUESTION_TEXT1_CONFIG.textSize,\n            BRAND_QUESTION_TEXT1_CONFIG.textWeight,\n            BRAND_QUESTION_TEXT1_CONFIG.textAnchor,\n        ).hide();\n\n        this.text2 = layer.createText(\n            LAYERS.BRAND_QUESTION,\n            BRAND_QUESTION_TEXT2_CONFIG.textValue,\n            BRAND_QUESTION_TEXT2_CONFIG.textStartX,\n            BRAND_QUESTION_TEXT2_CONFIG.textY,\n            BRAND_QUESTION_TEXT2_CONFIG.textFill,\n            BRAND_QUESTION_TEXT2_CONFIG.textSize,\n            BRAND_QUESTION_TEXT2_CONFIG.textWeight,\n            BRAND_QUESTION_TEXT2_CONFIG.textAnchor,\n        ).hide();\n\n        this.answer1 = layer.createImage(\n            LAYERS.BRAND_QUESTION,\n            BRAND_ANSWER1_CONFIG.image,\n            BRAND_ANSWER1_CONFIG.buttonX,\n            BRAND_ANSWER1_CONFIG.buttonStartY,\n            BRAND_ANSWER1_CONFIG.width,\n            BRAND_ANSWER1_CONFIG.height,\n        ).hide();\n\n        this.text3 = layer.createText(\n            LAYERS.BRAND_QUESTION,\n            BRAND_ANSWER1_CONFIG.textValue,\n            BRAND_ANSWER1_CONFIG.textX,\n            BRAND_ANSWER1_CONFIG.textStartY,\n            BRAND_ANSWER1_CONFIG.textFill,\n            BRAND_ANSWER1_CONFIG.textSize,\n            BRAND_ANSWER1_CONFIG.textWeight,\n            BRAND_ANSWER1_CONFIG.textAnchor,\n        ).hide();\n\n        this.answer2 = layer.createImage(\n            LAYERS.BRAND_QUESTION,\n            BRAND_ANSWER2_CONFIG.image,\n            BRAND_ANSWER2_CONFIG.buttonX,\n            BRAND_ANSWER2_CONFIG.buttonStartY,\n            BRAND_ANSWER2_CONFIG.width,\n            BRAND_ANSWER2_CONFIG.height,\n        ).hide();\n\n        this.text4 = layer.createText(\n            LAYERS.BRAND_QUESTION,\n            BRAND_ANSWER2_CONFIG.textValue,\n            BRAND_ANSWER2_CONFIG.textX,\n            BRAND_ANSWER2_CONFIG.textStartY,\n            BRAND_ANSWER2_CONFIG.textFill,\n            BRAND_ANSWER2_CONFIG.textSize,\n            BRAND_ANSWER2_CONFIG.textWeight,\n            BRAND_ANSWER2_CONFIG.textAnchor,\n        ).hide();\n\n        this.group1 = layer.getLayer(LAYERS.RESULT_SCREEN).set();\n        this.group1.push(this.answer1, this.text3);\n        this.group2 = layer.getLayer(LAYERS.RESULT_SCREEN).set();\n        this.group2.push(this.answer2, this.text4);\n\n        this.group1.click(() => {\n            vibration.vibrate();\n            console.log('click1');\n        });\n\n        this.group2.click(() => {\n            vibration.vibrate();\n            console.log('click2');\n        });\n\n        layer.getLayer(LAYERS.BRAND_QUESTION).set()\n        layer.hideLayer(LAYERS.BRAND_QUESTION);\n    }\n\n    show (start) {\n        timeline.createTask({\n            start       : start,\n            duration    : BRAND_QUESTION_TITLE_CONFIG.animLength,\n            data        : [\n                MODES.SHOW,\n                BRAND_QUESTION_TITLE_CONFIG.textStartY,\n                BRAND_QUESTION_TITLE_CONFIG.textEndY,\n                BRAND_QUESTION_TEXT1_CONFIG.textStartX,\n                BRAND_QUESTION_TEXT1_CONFIG.textEndX,\n                BRAND_QUESTION_TEXT2_CONFIG.textStartX,\n                BRAND_QUESTION_TEXT2_CONFIG.textEndX,\n                BRAND_ANSWER1_CONFIG.textStartY,\n                BRAND_ANSWER1_CONFIG.textEndY,\n                BRAND_ANSWER1_CONFIG.buttonStartY,\n                BRAND_ANSWER1_CONFIG.buttonEndY,\n                BRAND_ANSWER2_CONFIG.textStartY,\n                BRAND_ANSWER2_CONFIG.textEndY,\n                BRAND_ANSWER2_CONFIG.buttonStartY,\n                BRAND_ANSWER2_CONFIG.buttonEndY,\n            ],\n            object      : this,\n            onTimeUpdate: this.onTimeUpdate,\n            onTimeStart : this.onTimeStart,\n            onTimeEnd   : this.onTimeEnd,\n            recycle     : this.anims,\n        });\n    }\n\n    hide (start) {\n        timeline.createTask({\n            start       : start,\n            duration    : BRAND_QUESTION_TITLE_CONFIG.animLength,\n            data        : [\n                MODES.HIDE,\n                BRAND_QUESTION_TITLE_CONFIG.textEndY,\n                BRAND_QUESTION_TITLE_CONFIG.textStartY,\n                BRAND_QUESTION_TEXT1_CONFIG.textEndX,\n                BRAND_QUESTION_TEXT1_CONFIG.textStartX,\n                BRAND_QUESTION_TEXT2_CONFIG.textEndX,\n                BRAND_QUESTION_TEXT2_CONFIG.textStartX,\n                BRAND_ANSWER1_CONFIG.textEndY,\n                BRAND_ANSWER1_CONFIG.textStartY,\n                BRAND_ANSWER1_CONFIG.buttonEndY,\n                BRAND_ANSWER1_CONFIG.buttonStartY,\n                BRAND_ANSWER2_CONFIG.textEndY,\n                BRAND_ANSWER2_CONFIG.textStartY,\n                BRAND_ANSWER2_CONFIG.buttonEndY,\n                BRAND_ANSWER2_CONFIG.buttonStartY,\n            ],\n            object      : this,\n            onTimeUpdate: this.onTimeUpdate,\n            onTimeStart : this.onTimeStart,\n            onTimeEnd   : this.onTimeEnd,\n            recycle     : this.anims,\n        });\n    }\n\n    onTimeUpdate (time, mode, tsy, tey, t1sx, t1ex, t2sx, t2ex, at1sy, at1ey, ab1sy, ab1ey, at2sy, at2ey, ab2sy,\n        ab2ey,\n    ) {\n        this.title.attr('y', this.anim(time, tsy, tey - tsy, BRAND_QUESTION_TITLE_CONFIG.animLength));\n        this.text1.attr('x', this.anim(time, t1sx, t1ex - t1sx, BRAND_QUESTION_TEXT1_CONFIG.animLength));\n        this.text2.attr('x', this.anim(time, t2sx, t2ex - t2sx, BRAND_QUESTION_TEXT2_CONFIG.animLength));\n        this.text3.attr('y', this.anim(time, at1sy, at1ey - at1sy, BRAND_ANSWER1_CONFIG.animLength));\n        this.answer1.attr('y', this.anim(time, ab1sy, ab1ey - ab1sy, BRAND_ANSWER1_CONFIG.animLength));\n        this.text4.attr('y', this.anim(time, at2sy, at2ey - at2sy, BRAND_ANSWER2_CONFIG.animLength));\n        this.answer2.attr('y', this.anim(time, ab2sy, ab2ey - ab2sy, BRAND_ANSWER2_CONFIG.animLength));\n    }\n\n    onTimeStart (mode) {\n        if (mode === MODES.SHOW) {\n            [ this.title, this.text1, this.text2, this.text3, this.answer1, this.text4, this.answer2 ].invoke(mode);\n        }\n    }\n\n    onTimeEnd (mode) {\n        if (mode === MODES.HIDE) {\n            [ this.title, this.text1, this.text2, this.text3, this.answer1, this.text4, this.answer2 ].invoke(mode);\n        }\n    }\n}\n\n\nexport default new BrandQuestion();\n","import soundFactory from './factory/sound.js';\n\nimport message from './message.js';\nimport timeline from './timeline.js';\nimport state from './state.js';\nimport game from './game.js';\nimport layer from './layer.js';\n\nimport background from './object/background.js';\nimport homeMask from './object/home-mask.js';\nimport homeLogo from './object/home-logo.js';\nimport homeText from './object/home-text.js';\nimport homeButton from './object/home-button.js';\nimport resultLogo from './object/result-logo.js';\nimport resultText from './object/result-text.js';\nimport resultButtonNext from './object/result-button-next.js';\nimport resultButtonReplay from './object/result-button-replay.js';\nimport score from './object/score.js';\nimport lose from './object/lose.js';\nimport bottom from './object/bottom.js';\nimport gameOver from './object/game-over.js';\nimport flash from './object/flash.js';\nimport fps from './object/fps.js';\nimport soundButton from './object/sound-button.js';\nimport brandQuestion from './object/brand-question.js';\nimport { LAYERS, MESSAGES, MODES, SCENE_STATES, SCENES, STATE_KEYS } from './config-defaults.js';\n\n\nclass Scene {\n    menuSnd;\n    gameStartSnd;\n    setTimeout  = timeline.setTimeout.bind(timeline);\n    setInterval = timeline._setInterval.bind(timeline);\n\n    constructor () {\n        message.addEventListener(MESSAGES.SCENE_SWITCH_SCENE, (name) => {\n            this.switchScene(name);\n        });\n\n        message.addEventListener(MESSAGES.TOGGLE_SOUND, () => {\n            this.toggleSound();\n        });\n    }\n\n    init () {\n        this.menuSnd      = soundFactory.create('sound/menu');\n        this.gameStartSnd = soundFactory.create('sound/start');\n        [\n            background,\n            homeMask,\n            homeLogo,\n            homeText,\n            homeButton,\n            score,\n            lose,\n            gameOver,\n            flash,\n            bottom,\n            resultLogo,\n            resultText,\n            resultButtonNext,\n            resultButtonReplay,\n            soundButton,\n            brandQuestion,\n            fps,\n        ].invoke('set');\n\n        this.setInterval(fps.update.bind(fps), 500);\n    }\n\n    switchScene (name) {\n        const onShow     = () => sceneState.set(SCENE_STATES.READY);\n        const curScene   = state(STATE_KEYS.SCENE_NAME);\n        const sceneState = state(STATE_KEYS.SCENE_STATE);\n\n        if (curScene.is(name)) return;\n\n        const onHide = () => {\n            curScene.set(name);\n            sceneState.set(SCENE_STATES.ENTERING);\n            switch (name) {\n                case SCENES.HOME_MENU:\n                    this.showMenu(onShow);\n                    break;\n                case SCENES.GAME_BODY:\n                    this.showGame(onShow);\n                    break;\n                case SCENES.GAME_OVER:\n                    this.showGameOver(onShow);\n                    break;\n                case SCENES.GAME_RESULT:\n                    this.showResult(onShow);\n                    break;\n                case SCENES.BRAND_QUESTION:\n                    this.showBrandQuestion(onShow);\n                    break;\n            }\n        };\n\n        sceneState.set(SCENE_STATES.EXITING);\n\n        if (curScene.isunset()) onHide();\n        else if (curScene.is(SCENES.HOME_MENU)) this.hideMenu(onHide);\n        else if (curScene.is(SCENES.GAME_BODY)) this.hideGame(onHide);\n        else if (curScene.is(SCENES.GAME_OVER)) this.hideGameOver(onHide);\n        else if (curScene.is(SCENES.GAME_RESULT)) this.hideResult(onHide);\n        else if (curScene.is(SCENES.BRAND_QUESTION)) this.hideBrandQuestion(onHide);\n    }\n\n    toggleSound () {\n        const curScene = state(STATE_KEYS.SCENE_NAME);\n        const method   = soundButton.isOn ? 'play' : 'stop';\n\n        if (curScene.is(SCENES.HOME_MENU)) this.menuSnd[method]();\n        else if (curScene.is(SCENES.GAME_BODY)) this.gameStartSnd[method]();\n        else if (curScene.is(SCENES.GAME_RESULT)) this.menuSnd[method]();\n    }\n\n    showMenu (callback) {\n        layer.showLayer(LAYERS.START_SCREEN);\n\n        const group = [\n            [ homeMask, 0 ],\n            [ homeLogo, 0 ],\n\n            [ homeText, 1000 ],\n            [ bottom, 1000 ],\n\n            [ homeButton, 2000 ],\n        ];\n\n        group.invoke(MODES.SHOW);\n\n        this.menuSnd.play();\n\n        soundButton.showHomeSoundButton(2000);\n\n        this.setTimeout(callback, 2500);\n    }\n\n    hideMenu (callback) {\n        [ homeButton, homeMask, homeLogo, homeText ].invoke(MODES.HIDE);\n\n        soundButton.hideHomeSoundButton();\n\n        this.menuSnd.stop();\n\n        this.setTimeout(() => {\n            callback();\n            layer.hideLayer(LAYERS.START_SCREEN);\n        }, 1200);\n    }\n\n    showGame (callback) {\n        layer.showLayer(LAYERS.FRUIT);\n\n        score.show();\n        lose.show();\n        game.start();\n\n        this.gameStartSnd.play();\n\n        soundButton.showGameSoundButton();\n\n        this.setTimeout(callback, 700);\n    }\n\n    hideGame (callback) {\n        score.hide();\n        lose.hide();\n\n        soundButton.hideGameSoundButton();\n\n        this.gameStartSnd.stop();\n\n        this.setTimeout(() => {\n            callback();\n            layer.hideLayer(LAYERS.FRUIT);\n        }, 700);\n    }\n\n    showGameOver (callback) {\n        const group = [\n            [ gameOver, 1000 ],\n        ];\n\n        group.invoke(MODES.SHOW);\n\n        this.setTimeout(() => {\n            callback();\n            this.switchScene(SCENES.GAME_RESULT);\n        }, 2000);\n    }\n\n    hideGameOver (callback) {\n        [ gameOver ].invoke(MODES.HIDE);\n\n        this.setTimeout(callback, 1000);\n    }\n\n    showResult () {\n        layer.showLayer(LAYERS.RESULT_SCREEN);\n\n        const group = [\n            [ resultLogo, 0 ],\n            [ resultText, 700 ],\n            [ resultButtonNext, 1000 ],\n            [ resultButtonReplay, 1000 ],\n        ];\n\n        group.invoke(MODES.SHOW);\n\n        this.menuSnd.play();\n\n        soundButton.showResultSoundButton();\n    }\n\n    hideResult (callback) {\n        [ resultLogo, resultText, resultButtonNext, resultButtonReplay ].invoke(MODES.HIDE);\n\n        soundButton.hideResultSoundButton();\n\n        this.menuSnd.stop();\n\n        this.setTimeout(() => {\n            callback();\n            layer.hideLayer(LAYERS.RESULT_SCREEN);\n        }, 1000);\n    }\n\n    showBrandQuestion () {\n        layer.showLayer(LAYERS.BRAND_QUESTION);\n\n        const group = [\n            [ brandQuestion, 0 ],\n        ];\n\n        group.invoke(MODES.SHOW);\n\n        soundButton.showResultSoundButton();\n    }\n\n    hideBrandQuestion (callback) {\n        [ brandQuestion ].invoke(MODES.HIDE);\n\n        soundButton.hideResultSoundButton();\n\n        this.setTimeout(() => {\n            callback();\n            layer.hideLayer(LAYERS.BRAND_QUESTION);\n        }, 1000);\n    }\n}\n\n\nexport default new Scene();\n","import layer from '../layer.js';\nimport { CONSOLE_CONFIG } from '../config-defaults.js';\n\n\nclass Console {\n    x     = CONSOLE_CONFIG.x;\n    y     = CONSOLE_CONFIG.y;\n    texts = [];\n\n    set () {\n    }\n\n    clear () {\n        const length = this.texts.length;\n\n        for (let i = 0; i < length; i++) {\n            this.texts[i].remove();\n        }\n\n        this.texts.length = 0;\n        this.y            = CONSOLE_CONFIG.y;\n    }\n\n    log (text) {\n        this.y += 20;\n        this.texts.push(layer.createText(\n            'default',\n            text,\n            this.x,\n            this.y,\n        ));\n    }\n}\n\n\nexport default new Console();\n","import preload from './preload.js';\nimport tools from './tools.js';\nimport message from './message.js';\nimport state from './state.js';\nimport timeline from './timeline.js';\nimport collide from './collide.js';\nimport control from './control.js';\nimport game from './game.js';\nimport scene from './scene.js';\nimport csl from './object/console.js';\nimport { MESSAGES, SCENES, STATE_KEYS, SCENE_STATES } from './config-defaults.js';\n\n\nclass Main {\n    setTimeout = timeline.setTimeout.bind(timeline);\n    log = (() => {\n        let time  = 1e3;\n        const add = 300;\n        const fn  = function (text) {\n            setTimeout(function () {\n                csl.log(text);\n            }, time);\n            time += add;\n        };\n        fn.clear  = function () {\n            setTimeout(csl.clear.bind(csl), time);\n            time += add;\n        };\n        return fn;\n    })();\n\n    constructor () {\n        window.Telegram?.WebApp?.disableVerticalScroll && window.Telegram.WebApp.disableVerticalScroll(true);\n\n        document.addEventListener('touchstart', (event) => {\n            event.preventDefault();\n        }, { passive: false });\n\n        document.addEventListener('touchmove', (event) => {\n            event.preventDefault();\n        }, { passive: false });\n\n        message.addEventListener(MESSAGES.SLICE, knife => {\n            const fruits = collide.checkSlice(knife);\n\n            if (fruits.length) {\n                const angle = tools.getAngleByRadian(tools.pointToRadian(knife.slice(0, 2), knife.slice(2, 4)));\n                fruits.forEach(fruit => message.postMessage(fruit, angle, MESSAGES.SLICE_AT));\n            }\n        });\n\n        message.addEventListener(MESSAGES.TOUCH, position => {\n            const fruits = collide.checkTouch(position);\n\n            if (fruits.length) {\n                fruits.forEach(fruit => message.postMessage(fruit, MESSAGES.TOUCH_AT));\n            }\n        });\n\n        message.addEventListener(MESSAGES.SLICE_AT, (fruit, angle) => {\n            if (state(STATE_KEYS.SCENE_STATE).isnot(SCENE_STATES.READY)) {\n                return;\n            }\n\n            if (state(STATE_KEYS.SCENE_NAME).is(SCENES.GAME_BODY)) {\n                game.sliceAt(fruit, angle);\n            }\n        });\n\n        message.addEventListener(MESSAGES.TOUCH_AT, fruit => {\n            if (state(STATE_KEYS.SCENE_STATE).isnot(SCENE_STATES.READY)) {\n                return;\n            }\n\n            if (state(STATE_KEYS.SCENE_NAME).is(SCENES.GAME_BODY)) {\n                game.catchFruit(fruit);\n            }\n        });\n\n        message.addEventListener(MESSAGES.START_GAME, () => {\n            scene.switchScene(SCENES.GAME_BODY);\n        });\n\n        preload();\n    }\n\n    start () {\n        [ timeline, scene, control ].invoke('init');\n\n        this.log('Loading...');\n        this.log.clear();\n\n        this.setTimeout(scene.switchScene.saturate(scene, SCENES.HOME_MENU), 3000);\n    }\n}\n\n\nexport default new Main();\n","import './scripts/libs/ponyfills.js';\nimport main from './scripts/main.js';\n\n\nmain.start();\n"],"names":["num","unknown","fn","blank","i","j","k","l","form","to","except","item","key","tagName","attributes","el","setStyle","prop","div","text","len","tail","s","scope","timeout","me","afters","length","context","result","val","method","args","arr","ret","container","viewportHeight","viewportWidth","isMaxWidth","isMaxHeight","containerWidth","containerHeight","isAbsolute","position","transform","width","height","size","ratio","string","base","fontSize","stringLength","charsNumber","style","target","name","call","initialize","methods","befores","prototype","rtn","instanceId","queue","infire","process","map","send","incept","processId","processItems","arg1","arg2","arg3","returnDom","handleId","e","caller","defaultValue","conf","defaultConf","handleFunction","type","number","idFunction","urls","onLoadComplete","loaded","check","url","img","cw","sourceString","words","re","index","callback","request","xhr","isTouch","handle","evt","coors","thisTouch","draging","ie","nie","x","y","dx","dy","value","getStyle","unknown1","unknown2","className","html","bool","dom","c","tdom","parentNode","pos","box","offset","doc","scrollTop","scrollLeft","display","originalStyles","newStyles","dimensions","image","reOpacity","element","es","fading","actions","layer","src","w","h","preserveAspectRatio","fill","weight","textAnchor","p","__publicField","glob","task","time","timer","fps","object","data","t","start","duration","imageSrc","startX","startY","endX","endY","animMap","sx","sy","ex","ey","anim","mode","config","radian","origin","point","message","messages","splitIndex","from","knife","count","knifeLayer","ax","ay","kf","posX","posY","throughResult","dragger","co","framesNum","ci","cio","buzz","options","pid","events","eventsOnce","supported","volume","percent","timerangeToArray","types","func","that","efunc","idx","namespace","eventType","delay","doFade","sound","timeRange","array","getExt","filename","addSource","source","sounds","argsToArray","soundArray","a","withHours","m","splits","total","decimal","r","pattern","tween.exponential","bsy","bey","tsy","tey","tween.quadratic","an","b","z","color","shape","paper","starPath","cx","cy","points","step","path","angle","radius","distance","juice","tween.linear","sign","signIndex","event","hide","inf","originX","originY","speed","cutImages","create","_FruitFactory","fruit","knifePath","collidedFruits","center","startPoint","endPoint","ellipseCenter","eccentricity","intersectionPoints","semiMajorAxis","semiMinorAxis","quadraticA","quadraticB","quadraticC","roots","segmentStart","segmentEnd","discriminant","root","sqrtDiscriminant","dur","mask","control","boom","a1","a2","x1","y1","x2","y2","light","isx","iex","t1sx","t1ex","t2sx","t2ex","tween.back","infx","x1s","x1e","x2s","x2e","x3s","x3e","sz","ez","f","score","t3sx","t3ex","t1sy","t1ey","t2sy","t2ey","t3sy","t3ey","t4sx","t4ex","t5sx","t5ex","t6sx","t6ex","t7sx","t7ex","at1sy","at1ey","ab1sy","ab1ey","at2sy","at2ey","ab2sy","ab2ey","onShow","sceneState","curScene","onHide","add","_a","_b","fruits"],"mappings":"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"}